(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function jE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zf={exports:{}},Cl={},ep={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function O1(){if(T0)return De;T0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function R(B,X,ve){this.props=B,this.context=X,this.refs=b,this.updater=ve||I}R.prototype.isReactComponent={},R.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function L(){}L.prototype=R.prototype;function q(B,X,ve){this.props=B,this.context=X,this.refs=b,this.updater=ve||I}var F=q.prototype=new L;F.constructor=q,A(F,R.prototype),F.isPureReactComponent=!0;var te=Array.isArray,re=Object.prototype.hasOwnProperty,le={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(B,X,ve){var ke,Ne={},Me=null,ze=null;if(X!=null)for(ke in X.ref!==void 0&&(ze=X.ref),X.key!==void 0&&(Me=""+X.key),X)re.call(X,ke)&&!D.hasOwnProperty(ke)&&(Ne[ke]=X[ke]);var $e=arguments.length-2;if($e===1)Ne.children=ve;else if(1<$e){for(var Ge=Array($e),At=0;At<$e;At++)Ge[At]=arguments[At+2];Ne.children=Ge}if(B&&B.defaultProps)for(ke in $e=B.defaultProps,$e)Ne[ke]===void 0&&(Ne[ke]=$e[ke]);return{$$typeof:t,type:B,key:Me,ref:ze,props:Ne,_owner:le.current}}function P(B,X){return{$$typeof:t,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ve){return X[ve]})}var z=/\/+/g;function N(B,X){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):X.toString(36)}function Ze(B,X,ve,ke,Ne){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Me){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,Ne=Ne(ze),B=ke===""?"."+N(ze,0):ke,te(Ne)?(ve="",B!=null&&(ve=B.replace(z,"$&/")+"/"),Ze(Ne,X,ve,"",function(At){return At})):Ne!=null&&(V(Ne)&&(Ne=P(Ne,ve+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+B)),X.push(Ne)),1;if(ze=0,ke=ke===""?".":ke+":",te(B))for(var $e=0;$e<B.length;$e++){Me=B[$e];var Ge=ke+N(Me,$e);ze+=Ze(Me,X,ve,Ge,Ne)}else if(Ge=E(B),typeof Ge=="function")for(B=Ge.call(B),$e=0;!(Me=B.next()).done;)Me=Me.value,Ge=ke+N(Me,$e++),ze+=Ze(Me,X,ve,Ge,Ne);else if(Me==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ze}function Nt(B,X,ve){if(B==null)return B;var ke=[],Ne=0;return Ze(B,ke,"","",function(Me){return X.call(ve,Me,Ne++)}),ke}function Dt(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ve){(B._status===0||B._status===-1)&&(B._status=1,B._result=ve)},function(ve){(B._status===0||B._status===-1)&&(B._status=2,B._result=ve)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Ce={current:null},oe={transition:null},ye={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:oe,ReactCurrentOwner:le};function ue(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Nt,forEach:function(B,X,ve){Nt(B,function(){X.apply(this,arguments)},ve)},count:function(B){var X=0;return Nt(B,function(){X++}),X},toArray:function(B){return Nt(B,function(X){return X})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=R,De.Fragment=n,De.Profiler=i,De.PureComponent=q,De.StrictMode=r,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,De.act=ue,De.cloneElement=function(B,X,ve){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ke=A({},B.props),Ne=B.key,Me=B.ref,ze=B._owner;if(X!=null){if(X.ref!==void 0&&(Me=X.ref,ze=le.current),X.key!==void 0&&(Ne=""+X.key),B.type&&B.type.defaultProps)var $e=B.type.defaultProps;for(Ge in X)re.call(X,Ge)&&!D.hasOwnProperty(Ge)&&(ke[Ge]=X[Ge]===void 0&&$e!==void 0?$e[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)ke.children=ve;else if(1<Ge){$e=Array(Ge);for(var At=0;At<Ge;At++)$e[At]=arguments[At+2];ke.children=$e}return{$$typeof:t,type:B.type,key:Ne,ref:Me,props:ke,_owner:ze}},De.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=C,De.createFactory=function(B){var X=C.bind(null,B);return X.type=B,X},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:h,render:B}},De.isValidElement=V,De.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Dt}},De.memo=function(B,X){return{$$typeof:p,type:B,compare:X===void 0?null:X}},De.startTransition=function(B){var X=oe.transition;oe.transition={};try{B()}finally{oe.transition=X}},De.unstable_act=ue,De.useCallback=function(B,X){return Ce.current.useCallback(B,X)},De.useContext=function(B){return Ce.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return Ce.current.useDeferredValue(B)},De.useEffect=function(B,X){return Ce.current.useEffect(B,X)},De.useId=function(){return Ce.current.useId()},De.useImperativeHandle=function(B,X,ve){return Ce.current.useImperativeHandle(B,X,ve)},De.useInsertionEffect=function(B,X){return Ce.current.useInsertionEffect(B,X)},De.useLayoutEffect=function(B,X){return Ce.current.useLayoutEffect(B,X)},De.useMemo=function(B,X){return Ce.current.useMemo(B,X)},De.useReducer=function(B,X,ve){return Ce.current.useReducer(B,X,ve)},De.useRef=function(B){return Ce.current.useRef(B)},De.useState=function(B){return Ce.current.useState(B)},De.useSyncExternalStore=function(B,X,ve){return Ce.current.useSyncExternalStore(B,X,ve)},De.useTransition=function(){return Ce.current.useTransition()},De.version="18.3.1",De}var x0;function bm(){return x0||(x0=1,ep.exports=O1()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function L1(){if(S0)return Cl;S0=1;var t=bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:I,props:_,_owner:i.current}}return Cl.Fragment=n,Cl.jsx=l,Cl.jsxs=l,Cl}var I0;function M1(){return I0||(I0=1,Zf.exports=L1()),Zf.exports}var T=M1(),U=bm();const j1=jE(U);var qc={},tp={exports:{}},fn={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function F1(){return A0||(A0=1,function(t){function e(oe,ye){var ue=oe.length;oe.push(ye);e:for(;0<ue;){var B=ue-1>>>1,X=oe[B];if(0<i(X,ye))oe[B]=ye,oe[ue]=X,ue=B;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ye=oe[0],ue=oe.pop();if(ue!==ye){oe[0]=ue;e:for(var B=0,X=oe.length,ve=X>>>1;B<ve;){var ke=2*(B+1)-1,Ne=oe[ke],Me=ke+1,ze=oe[Me];if(0>i(Ne,ue))Me<X&&0>i(ze,Ne)?(oe[B]=ze,oe[Me]=ue,B=Me):(oe[B]=Ne,oe[ke]=ue,B=ke);else if(Me<X&&0>i(ze,ue))oe[B]=ze,oe[Me]=ue,B=Me;else break e}}return ye}function i(oe,ye){var ue=oe.sortIndex-ye.sortIndex;return ue!==0?ue:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,E=3,I=!1,A=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(oe){for(var ye=n(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=oe)r(p),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=n(p)}}function te(oe){if(b=!1,F(oe),!A)if(n(f)!==null)A=!0,Dt(re);else{var ye=n(p);ye!==null&&Ce(te,ye.startTime-oe)}}function re(oe,ye){A=!1,b&&(b=!1,L(C),C=-1),I=!0;var ue=E;try{for(F(ye),_=n(f);_!==null&&(!(_.expirationTime>ye)||oe&&!j());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var X=B(_.expirationTime<=ye);ye=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(f)&&r(f),F(ye)}else r(f);_=n(f)}if(_!==null)var ve=!0;else{var ke=n(p);ke!==null&&Ce(te,ke.startTime-ye),ve=!1}return ve}finally{_=null,E=ue,I=!1}}var le=!1,D=null,C=-1,P=5,V=-1;function j(){return!(t.unstable_now()-V<P)}function z(){if(D!==null){var oe=t.unstable_now();V=oe;var ye=!0;try{ye=D(!0,oe)}finally{ye?N():(le=!1,D=null)}}else le=!1}var N;if(typeof q=="function")N=function(){q(z)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Nt=Ze.port2;Ze.port1.onmessage=z,N=function(){Nt.postMessage(null)}}else N=function(){R(z,0)};function Dt(oe){D=oe,le||(le=!0,N())}function Ce(oe,ye){C=R(function(){oe(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){A||I||(A=!0,Dt(re))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var ue=E;E=ye;try{return oe()}finally{E=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=E;E=oe;try{return ye()}finally{E=ue}},t.unstable_scheduleCallback=function(oe,ye,ue){var B=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,oe){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,oe={id:g++,callback:ye,priorityLevel:oe,startTime:ue,expirationTime:X,sortIndex:-1},ue>B?(oe.sortIndex=ue,e(p,oe),n(f)===null&&oe===n(p)&&(b?(L(C),C=-1):b=!0,Ce(te,ue-B))):(oe.sortIndex=X,e(f,oe),A||I||(A=!0,Dt(re))),oe},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(oe){var ye=E;return function(){var ue=E;E=ye;try{return oe.apply(this,arguments)}finally{E=ue}}}}(rp)),rp}var C0;function U1(){return C0||(C0=1,np.exports=F1()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function B1(){if(R0)return fn;R0=1;var t=bm(),e=U1();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function I(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,u,d){if(o===null||typeof o>"u"||I(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,u,d,m,v,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=x}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,q);R[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,q);R[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,q);R[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,u,d){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),le=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ye(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,B;function X(s){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ve=!1;function ke(s,o){if(!s||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){d=G}s.call(o.prototype)}else{try{throw Error()}catch(G){d=G}s()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=d.stack.split(`
`),x=m.length-1,k=v.length-1;1<=x&&0<=k&&m[x]!==v[k];)k--;for(;1<=x&&0<=k;x--,k--)if(m[x]!==v[k]){if(x!==1||k!==1)do if(x--,k--,0>k||m[x]!==v[k]){var O=`
`+m[x].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=x&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function Ne(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case le:return"Portal";case P:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case Ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Nt:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case Dt:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function At(s){var o=Ge(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,v.call(this,x)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Vr(s){s._valueTracker||(s._valueTracker=At(s))}function to(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ge(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function hs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ri(s,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function no(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=$e(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Da(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function Va(s,o){Da(s,o);var u=$e(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ro(s,o.type,u):o.hasOwnProperty("defaultValue")&&ro(s,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function bu(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ro(s,o,u){(o!=="number"||hs(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Or=Array.isArray;function Lr(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+$e(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Oa(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function so(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Or(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:$e(u)}}function io(s,o){var u=$e(o.value),d=$e(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function La(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function _t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?_t(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mr,Ma=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ds(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(s){ii.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),si[o]=si[s]})});function ja(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||si.hasOwnProperty(s)&&si[s]?(""+o).trim():o+"px"}function Fa(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=ja(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Ua=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(s,o){if(o){if(Ua[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function za(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function oo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ao=null,Cn=null,cr=null;function lo(s){if(s=dl(s)){if(typeof ao!="function")throw Error(n(280));var o=s.stateNode;o&&(o=ac(o),ao(s.stateNode,s.type,o))}}function hr(s){Cn?cr?cr.push(s):cr=[s]:Cn=s}function $a(){if(Cn){var s=Cn,o=cr;if(cr=Cn=null,lo(s),o)for(s=0;s<o.length;s++)lo(o[s])}}function ai(s,o){return s(o)}function Ha(){}var jr=!1;function Wa(s,o,u){if(jr)return s(o,u);jr=!0;try{return ai(s,o,u)}finally{jr=!1,(Cn!==null||cr!==null)&&(Ha(),$a())}}function ct(s,o){var u=s.stateNode;if(u===null)return null;var d=ac(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var uo=!1;if(h)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{uo=!1}function li(s,o,u,d,m,v,x,k,O){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ne){this.onError(ne)}}var ui=!1,co=null,$n=!1,qa=null,Ad={onError:function(s){ui=!0,co=s}};function ho(s,o,u,d,m,v,x,k,O){ui=!1,co=null,li.apply(Ad,arguments)}function Nu(s,o,u,d,m,v,x,k,O){if(ho.apply(this,arguments),ui){if(ui){var G=co;ui=!1,co=null}else throw Error(n(198));$n||($n=!0,qa=G)}}function Hn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function ci(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Wn(s){if(Hn(s)!==s)throw Error(n(188))}function Du(s){var o=s.alternate;if(!o){if(o=Hn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Wn(m),s;if(v===d)return Wn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var x=!1,k=m.child;k;){if(k===u){x=!0,u=m,d=v;break}if(k===d){x=!0,d=m,u=v;break}k=k.sibling}if(!x){for(k=v.child;k;){if(k===u){x=!0,u=v,d=m;break}if(k===d){x=!0,d=v,u=m;break}k=k.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Ga(s){return s=Du(s),s!==null?fo(s):null}function fo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=fo(s);if(o!==null)return o;s=s.sibling}return null}var po=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Vu=e.unstable_shouldYield,Cd=e.unstable_requestPaint,Ke=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,fs=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Lu=e.unstable_IdlePriority,di=null,wn=null;function Mu(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(di,s,void 0,(s.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Fu,Ya=Math.log,ju=Math.LN2;function Fu(s){return s>>>=0,s===0?32:31-(Ya(s)/ju|0)|0}var mo=64,go=4194304;function ps(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fi(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,v=s.pingedLanes,x=u&268435455;if(x!==0){var k=x&~m;k!==0?d=ps(k):(v&=x,v!==0&&(d=ps(v)))}else x=u&~m,x!==0?d=ps(x):v!==0&&(d=ps(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-en(o),m=1<<u,d|=s[u],o&=~m;return d}function Rd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var x=31-en(v),k=1<<x,O=m[x];O===-1?((k&u)===0||(k&d)!==0)&&(m[x]=Rd(k,o)):O<=o&&(s.expiredLanes|=k),v&=~k}}function En(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pi(){var s=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),s}function ms(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function gs(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-en(o),s[o]=u}function qe(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-en(u),v=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~v}}function ys(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-en(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var Le=0;function vs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uu,yo,Bu,zu,$u,Xa=!1,dr=[],Vt=null,qn=null,Gn=null,_s=new Map,Pn=new Map,fr=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(s,o){switch(s){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":_s.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(o.pointerId)}}function on(s,o,u,d,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=dl(o),o!==null&&yo(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function kd(s,o,u,d,m){switch(o){case"focusin":return Vt=on(Vt,s,o,u,d,m),!0;case"dragenter":return qn=on(qn,s,o,u,d,m),!0;case"mouseover":return Gn=on(Gn,s,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return _s.set(v,on(_s.get(v)||null,s,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Pn.set(v,on(Pn.get(v)||null,s,o,u,d,m)),!0}return!1}function Wu(s){var o=_i(s.target);if(o!==null){var u=Hn(o);if(u!==null){if(o=u.tag,o===13){if(o=ci(u),o!==null){s.blockedOn=o,$u(s.priority,function(){Bu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ur(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=vo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);oi=d,u.target.dispatchEvent(d),oi=null}else return o=dl(u),o!==null&&yo(o),s.blockedOn=u,!1;o.shift()}return!0}function mi(s,o,u){Ur(s)&&u.delete(o)}function qu(){Xa=!1,Vt!==null&&Ur(Vt)&&(Vt=null),qn!==null&&Ur(qn)&&(qn=null),Gn!==null&&Ur(Gn)&&(Gn=null),_s.forEach(mi),Pn.forEach(mi)}function Kn(s,o){s.blockedOn===o&&(s.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qu)))}function Qn(s){function o(m){return Kn(m,s)}if(0<dr.length){Kn(dr[0],s);for(var u=1;u<dr.length;u++){var d=dr[u];d.blockedOn===s&&(d.blockedOn=null)}}for(Vt!==null&&Kn(Vt,s),qn!==null&&Kn(qn,s),Gn!==null&&Kn(Gn,s),_s.forEach(o),Pn.forEach(o),u=0;u<fr.length;u++)d=fr[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<fr.length&&(u=fr[0],u.blockedOn===null);)Wu(u),u.blockedOn===null&&fr.shift()}var Br=te.ReactCurrentBatchConfig,ws=!0;function et(s,o,u,d){var m=Le,v=Br.transition;Br.transition=null;try{Le=1,Ja(s,o,u,d)}finally{Le=m,Br.transition=v}}function bd(s,o,u,d){var m=Le,v=Br.transition;Br.transition=null;try{Le=4,Ja(s,o,u,d)}finally{Le=m,Br.transition=v}}function Ja(s,o,u,d){if(ws){var m=vo(s,o,u,d);if(m===null)zd(s,o,d,gi,u),Hu(s,d);else if(kd(m,s,o,u,d))d.stopPropagation();else if(Hu(s,d),o&4&&-1<Pd.indexOf(s)){for(;m!==null;){var v=dl(m);if(v!==null&&Uu(v),v=vo(s,o,u,d),v===null&&zd(s,o,d,gi,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else zd(s,o,d,null,u)}}var gi=null;function vo(s,o,u,d){if(gi=null,s=oo(d),s=_i(s),s!==null)if(o=Hn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=ci(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return gi=s,null}function Za(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case hi:return 1;case fs:return 4;case Rn:case Qa:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Tn=null,_o=null,an=null;function el(){if(an)return an;var s,o=_o,u=o.length,d,m="value"in Tn?Tn.value:Tn.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var x=u-s;for(d=1;d<=x&&o[u-d]===m[v-d];d++);return an=m.slice(s,1<d?1-d:void 0)}function wo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pr(){return!0}function tl(){return!1}function Ot(s){function o(u,d,m,v,x){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pr:tl,this.isPropagationStopped=tl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Ot(Yn),mr=ue({},Yn,{view:0,detail:0}),Nd=Ot(mr),To,zr,Es,yi=ue({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Es&&(Es&&s.type==="mousemove"?(To=s.screenX-Es.screenX,zr=s.screenY-Es.screenY):zr=To=0,Es=s),To)},movementY:function(s){return"movementY"in s?s.movementY:zr}}),xo=Ot(yi),nl=ue({},yi,{dataTransfer:0}),Gu=Ot(nl),So=ue({},mr,{relatedTarget:0}),Io=Ot(So),Ku=ue({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Ot(Ku),Qu=ue({},Yn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yu=Ot(Qu),Xu=ue({},Yn,{data:0}),rl=Ot(Xu),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ju[s])?!!o[s]:!1}function gr(){return Zu}var c=ue({},mr,{key:function(s){if(s.key){var o=Ao[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=wo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(s){return s.type==="keypress"?wo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Ot(c),w=ue({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ot(w),$=ue({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),K=Ot($),ae=ue({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Ot(ae),Et=ue({},yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ot(Et),Ct=[9,13,27,32],mt=h&&"CompositionEvent"in window,kn=null;h&&"documentMode"in document&&(kn=document.documentMode);var xn=h&&"TextEvent"in window&&!kn,vi=h&&(!mt||kn&&8<kn&&11>=kn),Co=" ",gy=!1;function yy(s,o){switch(s){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ro=!1;function NA(s,o){switch(s){case"compositionend":return vy(o);case"keypress":return o.which!==32?null:(gy=!0,Co);case"textInput":return s=o.data,s===Co&&gy?null:s;default:return null}}function DA(s,o){if(Ro)return s==="compositionend"||!mt&&yy(s,o)?(s=el(),an=_o=Tn=null,Ro=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vi&&o.locale!=="ko"?null:o.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!VA[s.type]:o==="textarea"}function wy(s,o,u,d){hr(d),o=sc(o,"onChange"),0<o.length&&(u=new Eo("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var sl=null,il=null;function OA(s){jy(s,0)}function ec(s){var o=Do(s);if(to(o))return s}function LA(s,o){if(s==="change")return o}var Ey=!1;if(h){var Dd;if(h){var Vd="oninput"in document;if(!Vd){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Vd=typeof Ty.oninput=="function"}Dd=Vd}else Dd=!1;Ey=Dd&&(!document.documentMode||9<document.documentMode)}function xy(){sl&&(sl.detachEvent("onpropertychange",Sy),il=sl=null)}function Sy(s){if(s.propertyName==="value"&&ec(il)){var o=[];wy(o,il,s,oo(s)),Wa(OA,o)}}function MA(s,o,u){s==="focusin"?(xy(),sl=o,il=u,sl.attachEvent("onpropertychange",Sy)):s==="focusout"&&xy()}function jA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(il)}function FA(s,o){if(s==="click")return ec(o)}function UA(s,o){if(s==="input"||s==="change")return ec(o)}function BA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Xn=typeof Object.is=="function"?Object.is:BA;function ol(s,o){if(Xn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Xn(s[m],o[m]))return!1}return!0}function Iy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ay(s,o){var u=Iy(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Iy(u)}}function Cy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Cy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ry(){for(var s=window,o=hs();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=hs(s.document)}return o}function Od(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function zA(s){var o=Ry(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Cy(u.ownerDocument.documentElement,u)){if(d!==null&&Od(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!s.extend&&v>d&&(m=d,d=v,v=m),m=Ay(u,v);var x=Ay(u,d);m&&x&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>d?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $A=h&&"documentMode"in document&&11>=document.documentMode,Po=null,Ld=null,al=null,Md=!1;function Py(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Md||Po==null||Po!==hs(d)||(d=Po,"selectionStart"in d&&Od(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),al&&ol(al,d)||(al=d,d=sc(Ld,"onSelect"),0<d.length&&(o=new Eo("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Po)))}function tc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ko={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},jd={},ky={};h&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function nc(s){if(jd[s])return jd[s];if(!ko[s])return s;var o=ko[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in ky)return jd[s]=o[u];return s}var by=nc("animationend"),Ny=nc("animationiteration"),Dy=nc("animationstart"),Vy=nc("transitionend"),Oy=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,o){Oy.set(s,o),a(o,[s])}for(var Fd=0;Fd<Ly.length;Fd++){var Ud=Ly[Fd],HA=Ud.toLowerCase(),WA=Ud[0].toUpperCase()+Ud.slice(1);Ts(HA,"on"+WA)}Ts(by,"onAnimationEnd"),Ts(Ny,"onAnimationIteration"),Ts(Dy,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Vy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function My(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Nu(d,o,void 0,s),s.currentTarget=null}function jy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var x=d.length-1;0<=x;x--){var k=d[x],O=k.instance,G=k.currentTarget;if(k=k.listener,O!==v&&m.isPropagationStopped())break e;My(m,k,G),v=O}else for(x=0;x<d.length;x++){if(k=d[x],O=k.instance,G=k.currentTarget,k=k.listener,O!==v&&m.isPropagationStopped())break e;My(m,k,G),v=O}}}if($n)throw s=qa,$n=!1,qa=null,s}function Ye(s,o){var u=o[Kd];u===void 0&&(u=o[Kd]=new Set);var d=s+"__bubble";u.has(d)||(Fy(o,s,2,!1),u.add(d))}function Bd(s,o,u){var d=0;o&&(d|=4),Fy(u,s,d,o)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[rc]){s[rc]=!0,r.forEach(function(u){u!=="selectionchange"&&(qA.has(u)||Bd(u,!1,s),Bd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rc]||(o[rc]=!0,Bd("selectionchange",!1,o))}}function Fy(s,o,u,d){switch(Za(o)){case 1:var m=et;break;case 4:m=bd;break;default:m=Ja}u=m.bind(null,o,u,s),m=void 0,!uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function zd(s,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(x===4)for(x=d.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;x=x.return}for(;k!==null;){if(x=_i(k),x===null)return;if(O=x.tag,O===5||O===6){d=v=x;continue e}k=k.parentNode}}d=d.return}Wa(function(){var G=v,ne=oo(u),se=[];e:{var ee=Oy.get(s);if(ee!==void 0){var ce=Eo,pe=s;switch(s){case"keypress":if(wo(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Io;break;case"focusout":pe="blur",ce=Io;break;case"beforeblur":case"afterblur":ce=Io;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case by:case Ny:case Dy:ce=$r;break;case Vy:ce=We;break;case"scroll":ce=Nd;break;case"wheel":ce=je;break;case"copy":case"cut":case"paste":ce=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var me=(o&4)!==0,ht=!me&&s==="scroll",H=me?ee!==null?ee+"Capture":null:ee;me=[];for(var M=G,W;M!==null;){W=M;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,H!==null&&(ie=ct(M,H),ie!=null&&me.push(cl(M,ie,W)))),ht)break;M=M.return}0<me.length&&(ee=new ce(ee,pe,null,u,ne),se.push({event:ee,listeners:me}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ee&&u!==oi&&(pe=u.relatedTarget||u.fromElement)&&(_i(pe)||pe[Hr]))break e;if((ce||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=G,pe=pe?_i(pe):null,pe!==null&&(ht=Hn(pe),pe!==ht||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=G),ce!==pe)){if(me=xo,ie="onMouseLeave",H="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(me=S,ie="onPointerLeave",H="onPointerEnter",M="pointer"),ht=ce==null?ee:Do(ce),W=pe==null?ee:Do(pe),ee=new me(ie,M+"leave",ce,u,ne),ee.target=ht,ee.relatedTarget=W,ie=null,_i(ne)===G&&(me=new me(H,M+"enter",pe,u,ne),me.target=W,me.relatedTarget=ht,ie=me),ht=ie,ce&&pe)t:{for(me=ce,H=pe,M=0,W=me;W;W=bo(W))M++;for(W=0,ie=H;ie;ie=bo(ie))W++;for(;0<M-W;)me=bo(me),M--;for(;0<W-M;)H=bo(H),W--;for(;M--;){if(me===H||H!==null&&me===H.alternate)break t;me=bo(me),H=bo(H)}me=null}else me=null;ce!==null&&Uy(se,ee,ce,me,!1),pe!==null&&ht!==null&&Uy(se,ht,pe,me,!0)}}e:{if(ee=G?Do(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=LA;else if(_y(ee))if(Ey)ge=UA;else{ge=jA;var we=MA}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=FA);if(ge&&(ge=ge(s,G))){wy(se,ge,u,ne);break e}we&&we(s,ee,G),s==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&ro(ee,"number",ee.value)}switch(we=G?Do(G):window,s){case"focusin":(_y(we)||we.contentEditable==="true")&&(Po=we,Ld=G,al=null);break;case"focusout":al=Ld=Po=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Py(se,u,ne);break;case"selectionchange":if($A)break;case"keydown":case"keyup":Py(se,u,ne)}var Ee;if(mt)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ro?yy(s,u)&&(Se="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(vi&&u.locale!=="ko"&&(Ro||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ro&&(Ee=el()):(Tn=ne,_o="value"in Tn?Tn.value:Tn.textContent,Ro=!0)),we=sc(G,Se),0<we.length&&(Se=new rl(Se,s,null,u,ne),se.push({event:Se,listeners:we}),Ee?Se.data=Ee:(Ee=vy(u),Ee!==null&&(Se.data=Ee)))),(Ee=xn?NA(s,u):DA(s,u))&&(G=sc(G,"onBeforeInput"),0<G.length&&(ne=new rl("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:G}),ne.data=Ee))}jy(se,o)})}function cl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function sc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ct(s,u),v!=null&&d.unshift(cl(s,v,m)),v=ct(s,o),v!=null&&d.push(cl(s,v,m))),s=s.return}return d}function bo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uy(s,o,u,d,m){for(var v=o._reactName,x=[];u!==null&&u!==d;){var k=u,O=k.alternate,G=k.stateNode;if(O!==null&&O===d)break;k.tag===5&&G!==null&&(k=G,m?(O=ct(u,v),O!=null&&x.unshift(cl(u,O,k))):m||(O=ct(u,v),O!=null&&x.push(cl(u,O,k)))),u=u.return}x.length!==0&&s.push({event:o,listeners:x})}var GA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function By(s){return(typeof s=="string"?s:""+s).replace(GA,`
`).replace(KA,"")}function ic(s,o,u){if(o=By(o),By(s)!==o&&u)throw Error(n(425))}function oc(){}var $d=null,Hd=null;function Wd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qd=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(s){return zy.resolve(null).then(s).catch(XA)}:qd;function XA(s){setTimeout(function(){throw s})}function Gd(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),Qn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Qn(o)}function xs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function $y(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var No=Math.random().toString(36).slice(2),yr="__reactFiber$"+No,hl="__reactProps$"+No,Hr="__reactContainer$"+No,Kd="__reactEvents$"+No,JA="__reactListeners$"+No,ZA="__reactHandles$"+No;function _i(s){var o=s[yr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Hr]||u[yr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=$y(s);s!==null;){if(u=s[yr])return u;s=$y(s)}return o}s=u,u=s.parentNode}return null}function dl(s){return s=s[yr]||s[Hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Do(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ac(s){return s[hl]||null}var Qd=[],Vo=-1;function Ss(s){return{current:s}}function Xe(s){0>Vo||(s.current=Qd[Vo],Qd[Vo]=null,Vo--)}function Qe(s,o){Vo++,Qd[Vo]=s.current,s.current=o}var Is={},zt=Ss(Is),ln=Ss(!1),wi=Is;function Oo(s,o){var u=s.type.contextTypes;if(!u)return Is;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function un(s){return s=s.childContextTypes,s!=null}function lc(){Xe(ln),Xe(zt)}function Hy(s,o,u){if(zt.current!==Is)throw Error(n(168));Qe(zt,o),Qe(ln,u)}function Wy(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,ze(s)||"Unknown",m));return ue({},u,d)}function uc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Is,wi=zt.current,Qe(zt,s),Qe(ln,ln.current),!0}function qy(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=Wy(s,o,wi),d.__reactInternalMemoizedMergedChildContext=s,Xe(ln),Xe(zt),Qe(zt,s)):Xe(ln),Qe(ln,u)}var Wr=null,cc=!1,Yd=!1;function Gy(s){Wr===null?Wr=[s]:Wr.push(s)}function e1(s){cc=!0,Gy(s)}function As(){if(!Yd&&Wr!==null){Yd=!0;var s=0,o=Le;try{var u=Wr;for(Le=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Wr=null,cc=!1}catch(m){throw Wr!==null&&(Wr=Wr.slice(s+1)),po(hi,As),m}finally{Le=o,Yd=!1}}return null}var Lo=[],Mo=0,hc=null,dc=0,bn=[],Nn=0,Ei=null,qr=1,Gr="";function Ti(s,o){Lo[Mo++]=dc,Lo[Mo++]=hc,hc=s,dc=o}function Ky(s,o,u){bn[Nn++]=qr,bn[Nn++]=Gr,bn[Nn++]=Ei,Ei=s;var d=qr;s=Gr;var m=32-en(d)-1;d&=~(1<<m),u+=1;var v=32-en(o)+m;if(30<v){var x=m-m%5;v=(d&(1<<x)-1).toString(32),d>>=x,m-=x,qr=1<<32-en(o)+m|u<<m|d,Gr=v+s}else qr=1<<v|u<<m|d,Gr=s}function Xd(s){s.return!==null&&(Ti(s,1),Ky(s,1,0))}function Jd(s){for(;s===hc;)hc=Lo[--Mo],Lo[Mo]=null,dc=Lo[--Mo],Lo[Mo]=null;for(;s===Ei;)Ei=bn[--Nn],bn[Nn]=null,Gr=bn[--Nn],bn[Nn]=null,qr=bn[--Nn],bn[Nn]=null}var Sn=null,In=null,tt=!1,Jn=null;function Qy(s,o){var u=Ln(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Yy(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Sn=s,In=xs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Sn=s,In=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ei!==null?{id:qr,overflow:Gr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ln(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Sn=s,In=null,!0):!1;default:return!1}}function Zd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ef(s){if(tt){var o=In;if(o){var u=o;if(!Yy(s,o)){if(Zd(s))throw Error(n(418));o=xs(u.nextSibling);var d=Sn;o&&Yy(s,o)?Qy(d,u):(s.flags=s.flags&-4097|2,tt=!1,Sn=s)}}else{if(Zd(s))throw Error(n(418));s.flags=s.flags&-4097|2,tt=!1,Sn=s}}}function Xy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sn=s}function fc(s){if(s!==Sn)return!1;if(!tt)return Xy(s),tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Wd(s.type,s.memoizedProps)),o&&(o=In)){if(Zd(s))throw Jy(),Error(n(418));for(;o;)Qy(s,o),o=xs(o.nextSibling)}if(Xy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){In=xs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}In=null}}else In=Sn?xs(s.stateNode.nextSibling):null;return!0}function Jy(){for(var s=In;s;)s=xs(s.nextSibling)}function jo(){In=Sn=null,tt=!1}function tf(s){Jn===null?Jn=[s]:Jn.push(s)}var t1=te.ReactCurrentBatchConfig;function fl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(x){var k=m.refs;x===null?delete k[v]:k[v]=x},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function pc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Zy(s){var o=s._init;return o(s._payload)}function ev(s){function o(H,M){if(s){var W=H.deletions;W===null?(H.deletions=[M],H.flags|=16):W.push(M)}}function u(H,M){if(!s)return null;for(;M!==null;)o(H,M),M=M.sibling;return null}function d(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function m(H,M){return H=Vs(H,M),H.index=0,H.sibling=null,H}function v(H,M,W){return H.index=W,s?(W=H.alternate,W!==null?(W=W.index,W<M?(H.flags|=2,M):W):(H.flags|=2,M)):(H.flags|=1048576,M)}function x(H){return s&&H.alternate===null&&(H.flags|=2),H}function k(H,M,W,ie){return M===null||M.tag!==6?(M=Gf(W,H.mode,ie),M.return=H,M):(M=m(M,W),M.return=H,M)}function O(H,M,W,ie){var ge=W.type;return ge===D?ne(H,M,W.props.children,ie,W.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Dt&&Zy(ge)===M.type)?(ie=m(M,W.props),ie.ref=fl(H,M,W),ie.return=H,ie):(ie=jc(W.type,W.key,W.props,null,H.mode,ie),ie.ref=fl(H,M,W),ie.return=H,ie)}function G(H,M,W,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=Kf(W,H.mode,ie),M.return=H,M):(M=m(M,W.children||[]),M.return=H,M)}function ne(H,M,W,ie,ge){return M===null||M.tag!==7?(M=ki(W,H.mode,ie,ge),M.return=H,M):(M=m(M,W),M.return=H,M)}function se(H,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Gf(""+M,H.mode,W),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return W=jc(M.type,M.key,M.props,null,H.mode,W),W.ref=fl(H,null,M),W.return=H,W;case le:return M=Kf(M,H.mode,W),M.return=H,M;case Dt:var ie=M._init;return se(H,ie(M._payload),W)}if(Or(M)||ye(M))return M=ki(M,H.mode,W,null),M.return=H,M;pc(H,M)}return null}function ee(H,M,W,ie){var ge=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ge!==null?null:k(H,M,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case re:return W.key===ge?O(H,M,W,ie):null;case le:return W.key===ge?G(H,M,W,ie):null;case Dt:return ge=W._init,ee(H,M,ge(W._payload),ie)}if(Or(W)||ye(W))return ge!==null?null:ne(H,M,W,ie,null);pc(H,W)}return null}function ce(H,M,W,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(W)||null,k(M,H,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return H=H.get(ie.key===null?W:ie.key)||null,O(M,H,ie,ge);case le:return H=H.get(ie.key===null?W:ie.key)||null,G(M,H,ie,ge);case Dt:var we=ie._init;return ce(H,M,W,we(ie._payload),ge)}if(Or(ie)||ye(ie))return H=H.get(W)||null,ne(M,H,ie,ge,null);pc(M,ie)}return null}function pe(H,M,W,ie){for(var ge=null,we=null,Ee=M,Se=M=0,kt=null;Ee!==null&&Se<W.length;Se++){Ee.index>Se?(kt=Ee,Ee=null):kt=Ee.sibling;var Be=ee(H,Ee,W[Se],ie);if(Be===null){Ee===null&&(Ee=kt);break}s&&Ee&&Be.alternate===null&&o(H,Ee),M=v(Be,M,Se),we===null?ge=Be:we.sibling=Be,we=Be,Ee=kt}if(Se===W.length)return u(H,Ee),tt&&Ti(H,Se),ge;if(Ee===null){for(;Se<W.length;Se++)Ee=se(H,W[Se],ie),Ee!==null&&(M=v(Ee,M,Se),we===null?ge=Ee:we.sibling=Ee,we=Ee);return tt&&Ti(H,Se),ge}for(Ee=d(H,Ee);Se<W.length;Se++)kt=ce(Ee,H,Se,W[Se],ie),kt!==null&&(s&&kt.alternate!==null&&Ee.delete(kt.key===null?Se:kt.key),M=v(kt,M,Se),we===null?ge=kt:we.sibling=kt,we=kt);return s&&Ee.forEach(function(Os){return o(H,Os)}),tt&&Ti(H,Se),ge}function me(H,M,W,ie){var ge=ye(W);if(typeof ge!="function")throw Error(n(150));if(W=ge.call(W),W==null)throw Error(n(151));for(var we=ge=null,Ee=M,Se=M=0,kt=null,Be=W.next();Ee!==null&&!Be.done;Se++,Be=W.next()){Ee.index>Se?(kt=Ee,Ee=null):kt=Ee.sibling;var Os=ee(H,Ee,Be.value,ie);if(Os===null){Ee===null&&(Ee=kt);break}s&&Ee&&Os.alternate===null&&o(H,Ee),M=v(Os,M,Se),we===null?ge=Os:we.sibling=Os,we=Os,Ee=kt}if(Be.done)return u(H,Ee),tt&&Ti(H,Se),ge;if(Ee===null){for(;!Be.done;Se++,Be=W.next())Be=se(H,Be.value,ie),Be!==null&&(M=v(Be,M,Se),we===null?ge=Be:we.sibling=Be,we=Be);return tt&&Ti(H,Se),ge}for(Ee=d(H,Ee);!Be.done;Se++,Be=W.next())Be=ce(Ee,H,Se,Be.value,ie),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?Se:Be.key),M=v(Be,M,Se),we===null?ge=Be:we.sibling=Be,we=Be);return s&&Ee.forEach(function(V1){return o(H,V1)}),tt&&Ti(H,Se),ge}function ht(H,M,W,ie){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case re:e:{for(var ge=W.key,we=M;we!==null;){if(we.key===ge){if(ge=W.type,ge===D){if(we.tag===7){u(H,we.sibling),M=m(we,W.props.children),M.return=H,H=M;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Dt&&Zy(ge)===we.type){u(H,we.sibling),M=m(we,W.props),M.ref=fl(H,we,W),M.return=H,H=M;break e}u(H,we);break}else o(H,we);we=we.sibling}W.type===D?(M=ki(W.props.children,H.mode,ie,W.key),M.return=H,H=M):(ie=jc(W.type,W.key,W.props,null,H.mode,ie),ie.ref=fl(H,M,W),ie.return=H,H=ie)}return x(H);case le:e:{for(we=W.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){u(H,M.sibling),M=m(M,W.children||[]),M.return=H,H=M;break e}else{u(H,M);break}else o(H,M);M=M.sibling}M=Kf(W,H.mode,ie),M.return=H,H=M}return x(H);case Dt:return we=W._init,ht(H,M,we(W._payload),ie)}if(Or(W))return pe(H,M,W,ie);if(ye(W))return me(H,M,W,ie);pc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(u(H,M.sibling),M=m(M,W),M.return=H,H=M):(u(H,M),M=Gf(W,H.mode,ie),M.return=H,H=M),x(H)):u(H,M)}return ht}var Fo=ev(!0),tv=ev(!1),mc=Ss(null),gc=null,Uo=null,nf=null;function rf(){nf=Uo=gc=null}function sf(s){var o=mc.current;Xe(mc),s._currentValue=o}function of(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Bo(s,o){gc=s,nf=Uo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(cn=!0),s.firstContext=null)}function Dn(s){var o=s._currentValue;if(nf!==s)if(s={context:s,memoizedValue:o,next:null},Uo===null){if(gc===null)throw Error(n(308));Uo=s,gc.dependencies={lanes:0,firstContext:s}}else Uo=Uo.next=s;return o}var xi=null;function af(s){xi===null?xi=[s]:xi.push(s)}function nv(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,af(o)):(u.next=m.next,m.next=u),o.interleaved=u,Kr(s,d)}function Kr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Cs=!1;function lf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Rs(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Kr(s,u)}return m=d.interleaved,m===null?(o.next=o,af(d)):(o.next=m.next,m.next=o),d.interleaved=o,Kr(s,u)}function yc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ys(s,u)}}function sv(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=x:v=v.next=x,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function vc(s,o,u,d){var m=s.updateQueue;Cs=!1;var v=m.firstBaseUpdate,x=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var O=k,G=O.next;O.next=null,x===null?v=G:x.next=G,x=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==x&&(k===null?ne.firstBaseUpdate=G:k.next=G,ne.lastBaseUpdate=O))}if(v!==null){var se=m.baseState;x=0,ne=G=O=null,k=v;do{var ee=k.lane,ce=k.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var pe=s,me=k;switch(ee=o,ce=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){se=pe.call(ce,se,ee);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ce,se,ee):pe,ee==null)break e;se=ue({},se,ee);break e;case 2:Cs=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[k]:ee.push(k))}else ce={eventTime:ce,lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(G=ne=ce,O=se):ne=ne.next=ce,x|=ee;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(O=se),m.baseState=O,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do x|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ai|=x,s.lanes=x,s.memoizedState=se}}function iv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var pl={},vr=Ss(pl),ml=Ss(pl),gl=Ss(pl);function Si(s){if(s===pl)throw Error(n(174));return s}function uf(s,o){switch(Qe(gl,o),Qe(ml,s),Qe(vr,pl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=wt(o,s)}Xe(vr),Qe(vr,o)}function zo(){Xe(vr),Xe(ml),Xe(gl)}function ov(s){Si(gl.current);var o=Si(vr.current),u=wt(o,s.type);o!==u&&(Qe(ml,s),Qe(vr,u))}function cf(s){ml.current===s&&(Xe(vr),Xe(ml))}var nt=Ss(0);function _c(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hf=[];function df(){for(var s=0;s<hf.length;s++)hf[s]._workInProgressVersionPrimary=null;hf.length=0}var wc=te.ReactCurrentDispatcher,ff=te.ReactCurrentBatchConfig,Ii=0,rt=null,Tt=null,Rt=null,Ec=!1,yl=!1,vl=0,n1=0;function $t(){throw Error(n(321))}function pf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Xn(s[u],o[u]))return!1;return!0}function mf(s,o,u,d,m,v){if(Ii=v,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,wc.current=s===null||s.memoizedState===null?o1:a1,s=u(d,m),yl){v=0;do{if(yl=!1,vl=0,25<=v)throw Error(n(301));v+=1,Rt=Tt=null,o.updateQueue=null,wc.current=l1,s=u(d,m)}while(yl)}if(wc.current=Sc,o=Tt!==null&&Tt.next!==null,Ii=0,Rt=Tt=rt=null,Ec=!1,o)throw Error(n(300));return s}function gf(){var s=vl!==0;return vl=0,s}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?rt.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function Vn(){if(Tt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=Rt===null?rt.memoizedState:Rt.next;if(o!==null)Rt=o,Tt=s;else{if(s===null)throw Error(n(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?rt.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function _l(s,o){return typeof o=="function"?o(s):o}function yf(s){var o=Vn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=Tt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var x=m.next;m.next=v.next,v.next=x}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var k=x=null,O=null,G=v;do{var ne=G.lane;if((Ii&ne)===ne)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:s(d,G.action);else{var se={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(k=O=se,x=d):O=O.next=se,rt.lanes|=ne,Ai|=ne}G=G.next}while(G!==null&&G!==v);O===null?x=d:O.next=k,Xn(d,o.memoizedState)||(cn=!0),o.memoizedState=d,o.baseState=x,o.baseQueue=O,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do v=m.lane,rt.lanes|=v,Ai|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function vf(s){var o=Vn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var x=m=m.next;do v=s(v,x.action),x=x.next;while(x!==m);Xn(v,o.memoizedState)||(cn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function av(){}function lv(s,o){var u=rt,d=Vn(),m=o(),v=!Xn(d.memoizedState,m);if(v&&(d.memoizedState=m,cn=!0),d=d.queue,_f(hv.bind(null,u,d,s),[s]),d.getSnapshot!==o||v||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,wl(9,cv.bind(null,u,d,m,o),void 0,null),Pt===null)throw Error(n(349));(Ii&30)!==0||uv(u,o,m)}return m}function uv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function cv(s,o,u,d){o.value=u,o.getSnapshot=d,dv(o)&&fv(s)}function hv(s,o,u){return u(function(){dv(o)&&fv(s)})}function dv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Xn(s,u)}catch{return!0}}function fv(s){var o=Kr(s,1);o!==null&&nr(o,s,1,-1)}function pv(s){var o=_r();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:s},o.queue=s,s=s.dispatch=i1.bind(null,rt,s),[o.memoizedState,s]}function wl(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function mv(){return Vn().memoizedState}function Tc(s,o,u,d){var m=_r();rt.flags|=s,m.memoizedState=wl(1|o,u,void 0,d===void 0?null:d)}function xc(s,o,u,d){var m=Vn();d=d===void 0?null:d;var v=void 0;if(Tt!==null){var x=Tt.memoizedState;if(v=x.destroy,d!==null&&pf(d,x.deps)){m.memoizedState=wl(o,u,v,d);return}}rt.flags|=s,m.memoizedState=wl(1|o,u,v,d)}function gv(s,o){return Tc(8390656,8,s,o)}function _f(s,o){return xc(2048,8,s,o)}function yv(s,o){return xc(4,2,s,o)}function vv(s,o){return xc(4,4,s,o)}function _v(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function wv(s,o,u){return u=u!=null?u.concat([s]):null,xc(4,4,_v.bind(null,o,s),u)}function wf(){}function Ev(s,o){var u=Vn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&pf(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function Tv(s,o){var u=Vn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&pf(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function xv(s,o,u){return(Ii&21)===0?(s.baseState&&(s.baseState=!1,cn=!0),s.memoizedState=u):(Xn(u,o)||(u=pi(),rt.lanes|=u,Ai|=u,s.baseState=!0),o)}function r1(s,o){var u=Le;Le=u!==0&&4>u?u:4,s(!0);var d=ff.transition;ff.transition={};try{s(!1),o()}finally{Le=u,ff.transition=d}}function Sv(){return Vn().memoizedState}function s1(s,o,u){var d=Ns(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Iv(s))Av(o,u);else if(u=nv(s,o,u,d),u!==null){var m=rn();nr(u,s,d,m),Cv(u,o,d)}}function i1(s,o,u){var d=Ns(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Iv(s))Av(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,k=v(x,u);if(m.hasEagerState=!0,m.eagerState=k,Xn(k,x)){var O=o.interleaved;O===null?(m.next=m,af(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}u=nv(s,o,m,d),u!==null&&(m=rn(),nr(u,s,d,m),Cv(u,o,d))}}function Iv(s){var o=s.alternate;return s===rt||o!==null&&o===rt}function Av(s,o){yl=Ec=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Cv(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,ys(s,u)}}var Sc={readContext:Dn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},o1={readContext:Dn,useCallback:function(s,o){return _r().memoizedState=[s,o===void 0?null:o],s},useContext:Dn,useEffect:gv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Tc(4194308,4,_v.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Tc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Tc(4,2,s,o)},useMemo:function(s,o){var u=_r();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=_r();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=s1.bind(null,rt,s),[d.memoizedState,s]},useRef:function(s){var o=_r();return s={current:s},o.memoizedState=s},useState:pv,useDebugValue:wf,useDeferredValue:function(s){return _r().memoizedState=s},useTransition:function(){var s=pv(!1),o=s[0];return s=r1.bind(null,s[1]),_r().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=rt,m=_r();if(tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pt===null)throw Error(n(349));(Ii&30)!==0||uv(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,gv(hv.bind(null,d,v,s),[s]),d.flags|=2048,wl(9,cv.bind(null,d,v,u,o),void 0,null),u},useId:function(){var s=_r(),o=Pt.identifierPrefix;if(tt){var u=Gr,d=qr;u=(d&~(1<<32-en(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=vl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=n1++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},a1={readContext:Dn,useCallback:Ev,useContext:Dn,useEffect:_f,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Tv,useReducer:yf,useRef:mv,useState:function(){return yf(_l)},useDebugValue:wf,useDeferredValue:function(s){var o=Vn();return xv(o,Tt.memoizedState,s)},useTransition:function(){var s=yf(_l)[0],o=Vn().memoizedState;return[s,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1},l1={readContext:Dn,useCallback:Ev,useContext:Dn,useEffect:_f,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Tv,useReducer:vf,useRef:mv,useState:function(){return vf(_l)},useDebugValue:wf,useDeferredValue:function(s){var o=Vn();return Tt===null?o.memoizedState=s:xv(o,Tt.memoizedState,s)},useTransition:function(){var s=vf(_l)[0],o=Vn().memoizedState;return[s,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1};function Zn(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Ef(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ue({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ic={isMounted:function(s){return(s=s._reactInternals)?Hn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=rn(),m=Ns(s),v=Qr(d,m);v.payload=o,u!=null&&(v.callback=u),o=Rs(s,v,m),o!==null&&(nr(o,s,m,d),yc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=rn(),m=Ns(s),v=Qr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Rs(s,v,m),o!==null&&(nr(o,s,m,d),yc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=rn(),d=Ns(s),m=Qr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Rs(s,m,d),o!==null&&(nr(o,s,d,u),yc(o,s,d))}};function Rv(s,o,u,d,m,v,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,x):o.prototype&&o.prototype.isPureReactComponent?!ol(u,d)||!ol(m,v):!0}function Pv(s,o,u){var d=!1,m=Is,v=o.contextType;return typeof v=="object"&&v!==null?v=Dn(v):(m=un(o)?wi:zt.current,d=o.contextTypes,v=(d=d!=null)?Oo(s,m):Is),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ic,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function kv(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&Ic.enqueueReplaceState(o,o.state,null)}function Tf(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},lf(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Dn(v):(v=un(o)?wi:zt.current,m.context=Oo(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Ef(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Ic.enqueueReplaceState(m,m.state,null),vc(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function $o(s,o){try{var u="",d=o;do u+=Ne(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function xf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Sf(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var u1=typeof WeakMap=="function"?WeakMap:Map;function bv(s,o,u){u=Qr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Nc||(Nc=!0,Ff=d),Sf(s,o)},u}function Nv(s,o,u){u=Qr(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Sf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Sf(s,o),typeof d!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),u}function Dv(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new u1;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=x1.bind(null,s,o,u),o.then(s,s))}function Vv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Ov(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qr(-1,1),o.tag=2,Rs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var c1=te.ReactCurrentOwner,cn=!1;function nn(s,o,u,d){o.child=s===null?tv(o,null,u,d):Fo(o,s.child,u,d)}function Lv(s,o,u,d,m){u=u.render;var v=o.ref;return Bo(o,m),d=mf(s,o,u,d,v,m),u=gf(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(tt&&u&&Xd(o),o.flags|=1,nn(s,o,d,m),o.child)}function Mv(s,o,u,d,m){if(s===null){var v=u.type;return typeof v=="function"&&!qf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,jv(s,o,v,d,m)):(s=jc(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var x=v.memoizedProps;if(u=u.compare,u=u!==null?u:ol,u(x,d)&&s.ref===o.ref)return Yr(s,o,m)}return o.flags|=1,s=Vs(v,d),s.ref=o.ref,s.return=o,o.child=s}function jv(s,o,u,d,m){if(s!==null){var v=s.memoizedProps;if(ol(v,d)&&s.ref===o.ref)if(cn=!1,o.pendingProps=d=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(cn=!0);else return o.lanes=s.lanes,Yr(s,o,m)}return If(s,o,u,d,m)}function Fv(s,o,u){var d=o.pendingProps,m=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Wo,An),An|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(Wo,An),An|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Qe(Wo,An),An|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Qe(Wo,An),An|=d;return nn(s,o,m,u),o.child}function Uv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function If(s,o,u,d,m){var v=un(u)?wi:zt.current;return v=Oo(o,v),Bo(o,m),u=mf(s,o,u,d,v,m),d=gf(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(tt&&d&&Xd(o),o.flags|=1,nn(s,o,u,m),o.child)}function Bv(s,o,u,d,m){if(un(u)){var v=!0;uc(o)}else v=!1;if(Bo(o,m),o.stateNode===null)Cc(s,o),Pv(o,u,d),Tf(o,u,d,m),d=!0;else if(s===null){var x=o.stateNode,k=o.memoizedProps;x.props=k;var O=x.context,G=u.contextType;typeof G=="object"&&G!==null?G=Dn(G):(G=un(u)?wi:zt.current,G=Oo(o,G));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==d||O!==G)&&kv(o,x,d,G),Cs=!1;var ee=o.memoizedState;x.state=ee,vc(o,d,x,m),O=o.memoizedState,k!==d||ee!==O||ln.current||Cs?(typeof ne=="function"&&(Ef(o,u,ne,d),O=o.memoizedState),(k=Cs||Rv(o,u,k,d,ee,O,G))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),x.props=d,x.state=O,x.context=G,d=k):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,rv(s,o),k=o.memoizedProps,G=o.type===o.elementType?k:Zn(o.type,k),x.props=G,se=o.pendingProps,ee=x.context,O=u.contextType,typeof O=="object"&&O!==null?O=Dn(O):(O=un(u)?wi:zt.current,O=Oo(o,O));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==se||ee!==O)&&kv(o,x,d,O),Cs=!1,ee=o.memoizedState,x.state=ee,vc(o,d,x,m);var pe=o.memoizedState;k!==se||ee!==pe||ln.current||Cs?(typeof ce=="function"&&(Ef(o,u,ce,d),pe=o.memoizedState),(G=Cs||Rv(o,u,G,d,ee,pe,O)||!1)?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,pe,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,pe,O)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=pe),x.props=d,x.state=pe,x.context=O,d=G):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),d=!1)}return Af(s,o,u,d,v,m)}function Af(s,o,u,d,m,v){Uv(s,o);var x=(o.flags&128)!==0;if(!d&&!x)return m&&qy(o,u,!1),Yr(s,o,v);d=o.stateNode,c1.current=o;var k=x&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&x?(o.child=Fo(o,s.child,null,v),o.child=Fo(o,null,k,v)):nn(s,o,k,v),o.memoizedState=d.state,m&&qy(o,u,!0),o.child}function zv(s){var o=s.stateNode;o.pendingContext?Hy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Hy(s,o.context,!1),uf(s,o.containerInfo)}function $v(s,o,u,d,m){return jo(),tf(m),o.flags|=256,nn(s,o,u,d),o.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function Rf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Hv(s,o,u){var d=o.pendingProps,m=nt.current,v=!1,x=(o.flags&128)!==0,k;if((k=x)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(nt,m&1),s===null)return ef(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=d.children,s=d.fallback,v?(d=o.mode,v=o.child,x={mode:"hidden",children:x},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Fc(x,d,0,null),s=ki(s,d,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Rf(u),o.memoizedState=Cf,s):Pf(o,x));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return h1(s,o,x,d,k,m,u);if(v){v=d.fallback,x=o.mode,m=s.child,k=m.sibling;var O={mode:"hidden",children:d.children};return(x&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=Vs(m,O),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?v=Vs(k,v):(v=ki(v,x,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,x=s.child.memoizedState,x=x===null?Rf(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=s.childLanes&~u,o.memoizedState=Cf,d}return v=s.child,s=v.sibling,d=Vs(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Pf(s,o){return o=Fc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ac(s,o,u,d){return d!==null&&tf(d),Fo(o,s.child,null,u),s=Pf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function h1(s,o,u,d,m,v,x){if(u)return o.flags&256?(o.flags&=-257,d=xf(Error(n(422))),Ac(s,o,x,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Fc({mode:"visible",children:d.children},m,0,null),v=ki(v,m,x,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Fo(o,s.child,null,x),o.child.memoizedState=Rf(x),o.memoizedState=Cf,v);if((o.mode&1)===0)return Ac(s,o,x,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,v=Error(n(419)),d=xf(v,d,void 0),Ac(s,o,x,d)}if(k=(x&s.childLanes)!==0,cn||k){if(d=Pt,d!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|x))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Kr(s,m),nr(d,s,m,-1))}return Wf(),d=xf(Error(n(421))),Ac(s,o,x,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=S1.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,In=xs(m.nextSibling),Sn=o,tt=!0,Jn=null,s!==null&&(bn[Nn++]=qr,bn[Nn++]=Gr,bn[Nn++]=Ei,qr=s.id,Gr=s.overflow,Ei=o),o=Pf(o,d.children),o.flags|=4096,o)}function Wv(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),of(s.return,o,u)}function kf(s,o,u,d,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function qv(s,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(nn(s,o,d.children,u),d=nt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,u,o);else if(s.tag===19)Wv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Qe(nt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&_c(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),kf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&_c(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}kf(o,!0,u,null,v);break;case"together":kf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Cc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ai|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Vs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Vs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function d1(s,o,u){switch(o.tag){case 3:zv(o),jo();break;case 5:ov(o);break;case 1:un(o.type)&&uc(o);break;case 4:uf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Qe(mc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Qe(nt,nt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Hv(s,o,u):(Qe(nt,nt.current&1),s=Yr(s,o,u),s!==null?s.sibling:null);Qe(nt,nt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return qv(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,Fv(s,o,u)}return Yr(s,o,u)}var Gv,bf,Kv,Qv;Gv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},bf=function(){},Kv=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,Si(vr.current);var v=null;switch(u){case"input":m=ri(s,m),d=ri(s,d),v=[];break;case"select":m=ue({},m,{value:void 0}),d=ue({},d,{value:void 0}),v=[];break;case"textarea":m=Oa(s,m),d=Oa(s,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=oc)}Ba(u,d);var x;u=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var k=m[G];for(x in k)k.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in d){var O=d[G];if(k=m!=null?m[G]:void 0,d.hasOwnProperty(G)&&O!==k&&(O!=null||k!=null))if(G==="style")if(k){for(x in k)!k.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in O)O.hasOwnProperty(x)&&k[x]!==O[x]&&(u||(u={}),u[x]=O[x])}else u||(v||(v=[]),v.push(G,u)),u=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(v=v||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&Ye("scroll",s),v||k===O||(v=[])):(v=v||[]).push(G,O))}u&&(v=v||[]).push("style",u);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},Qv=function(s,o,u,d){u!==d&&(o.flags|=4)};function El(s,o){if(!tt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function f1(s,o,u){var d=o.pendingProps;switch(Jd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return un(o.type)&&lc(),Ht(o),null;case 3:return d=o.stateNode,zo(),Xe(ln),Xe(zt),df(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(fc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jn!==null&&(zf(Jn),Jn=null))),bf(s,o),Ht(o),null;case 5:cf(o);var m=Si(gl.current);if(u=o.type,s!==null&&o.stateNode!=null)Kv(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Ht(o),null}if(s=Si(vr.current),fc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[yr]=o,d[hl]=v,s=(o.mode&1)!==0,u){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(m=0;m<ll.length;m++)Ye(ll[m],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":no(d,v),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ye("invalid",d);break;case"textarea":so(d,v),Ye("invalid",d)}Ba(u,v),m=null;for(var x in v)if(v.hasOwnProperty(x)){var k=v[x];x==="children"?typeof k=="string"?d.textContent!==k&&(v.suppressHydrationWarning!==!0&&ic(d.textContent,k,s),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&ic(d.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&Ye("scroll",d)}switch(u){case"input":Vr(d),bu(d,v,!0);break;case"textarea":Vr(d),La(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=oc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_t(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=x.createElement(u,{is:d.is}):(s=x.createElement(u),u==="select"&&(x=s,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):s=x.createElementNS(s,u),s[yr]=o,s[hl]=d,Gv(s,o,!1,!1),o.stateNode=s;e:{switch(x=za(u,d),u){case"dialog":Ye("cancel",s),Ye("close",s),m=d;break;case"iframe":case"object":case"embed":Ye("load",s),m=d;break;case"video":case"audio":for(m=0;m<ll.length;m++)Ye(ll[m],s);m=d;break;case"source":Ye("error",s),m=d;break;case"img":case"image":case"link":Ye("error",s),Ye("load",s),m=d;break;case"details":Ye("toggle",s),m=d;break;case"input":no(s,d),m=ri(s,d),Ye("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ue({},d,{value:void 0}),Ye("invalid",s);break;case"textarea":so(s,d),m=Oa(s,d),Ye("invalid",s);break;default:m=d}Ba(u,m),k=m;for(v in k)if(k.hasOwnProperty(v)){var O=k[v];v==="style"?Fa(s,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ma(s,O)):v==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&ds(s,O):typeof O=="number"&&ds(s,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Ye("scroll",s):O!=null&&F(s,v,O,x))}switch(u){case"input":Vr(s),bu(s,d,!1);break;case"textarea":Vr(s),La(s);break;case"option":d.value!=null&&s.setAttribute("value",""+$e(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?Lr(s,!!d.multiple,v,!1):d.defaultValue!=null&&Lr(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=oc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(s&&o.stateNode!=null)Qv(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Si(gl.current),Si(vr.current),fc(o)){if(d=o.stateNode,u=o.memoizedProps,d[yr]=o,(v=d.nodeValue!==u)&&(s=Sn,s!==null))switch(s.tag){case 3:ic(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ic(d.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[yr]=o,o.stateNode=d}return Ht(o),null;case 13:if(Xe(nt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(tt&&In!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Jy(),jo(),o.flags|=98560,v=!1;else if(v=fc(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[yr]=o}else jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else Jn!==null&&(zf(Jn),Jn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(nt.current&1)!==0?xt===0&&(xt=3):Wf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return zo(),bf(s,o),s===null&&ul(o.stateNode.containerInfo),Ht(o),null;case 10:return sf(o.type._context),Ht(o),null;case 17:return un(o.type)&&lc(),Ht(o),null;case 19:if(Xe(nt),v=o.memoizedState,v===null)return Ht(o),null;if(d=(o.flags&128)!==0,x=v.rendering,x===null)if(d)El(v,!1);else{if(xt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=_c(s),x!==null){for(o.flags|=128,El(v,!1),d=x.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,s=d,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,s=x.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Qe(nt,nt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Ke()>qo&&(o.flags|=128,d=!0,El(v,!1),o.lanes=4194304)}else{if(!d)if(s=_c(x),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!tt)return Ht(o),null}else 2*Ke()-v.renderingStartTime>qo&&u!==1073741824&&(o.flags|=128,d=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(u=v.last,u!==null?u.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ke(),o.sibling=null,u=nt.current,Qe(nt,d?u&1|2:u&1),o):(Ht(o),null);case 22:case 23:return Hf(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(An&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function p1(s,o){switch(Jd(o),o.tag){case 1:return un(o.type)&&lc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return zo(),Xe(ln),Xe(zt),df(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return cf(o),null;case 13:if(Xe(nt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));jo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Xe(nt),null;case 4:return zo(),null;case 10:return sf(o.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Rc=!1,Wt=!1,m1=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ho(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){lt(s,o,d)}else u.current=null}function Nf(s,o,u){try{u()}catch(d){lt(s,o,d)}}var Yv=!1;function g1(s,o){if($d=ws,s=Ry(),Od(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var x=0,k=-1,O=-1,G=0,ne=0,se=s,ee=null;t:for(;;){for(var ce;se!==u||m!==0&&se.nodeType!==3||(k=x+m),se!==v||d!==0&&se.nodeType!==3||(O=x+d),se.nodeType===3&&(x+=se.nodeValue.length),(ce=se.firstChild)!==null;)ee=se,se=ce;for(;;){if(se===s)break t;if(ee===u&&++G===m&&(k=x),ee===v&&++ne===d&&(O=x),(ce=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=ce}u=k===-1||O===-1?null:{start:k,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hd={focusedElem:s,selectionRange:u},ws=!1,de=o;de!==null;)if(o=de,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,de=s;else for(;de!==null;){o=de;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ht=pe.memoizedState,H=o.stateNode,M=H.getSnapshotBeforeUpdate(o.elementType===o.type?me:Zn(o.type,me),ht);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,de=s;break}de=o.return}return pe=Yv,Yv=!1,pe}function Tl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Nf(o,u,v)}m=m.next}while(m!==d)}}function Pc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Df(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Xv(s){var o=s.alternate;o!==null&&(s.alternate=null,Xv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[yr],delete o[hl],delete o[Kd],delete o[JA],delete o[ZA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jv(s){return s.tag===5||s.tag===3||s.tag===4}function Zv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=oc));else if(d!==4&&(s=s.child,s!==null))for(Vf(s,o,u),s=s.sibling;s!==null;)Vf(s,o,u),s=s.sibling}function Of(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Of(s,o,u),s=s.sibling;s!==null;)Of(s,o,u),s=s.sibling}var Lt=null,er=!1;function Ps(s,o,u){for(u=u.child;u!==null;)e0(s,o,u),u=u.sibling}function e0(s,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(di,u)}catch{}switch(u.tag){case 5:Wt||Ho(u,o);case 6:var d=Lt,m=er;Lt=null,Ps(s,o,u),Lt=d,er=m,Lt!==null&&(er?(s=Lt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Lt.removeChild(u.stateNode));break;case 18:Lt!==null&&(er?(s=Lt,u=u.stateNode,s.nodeType===8?Gd(s.parentNode,u):s.nodeType===1&&Gd(s,u),Qn(s)):Gd(Lt,u.stateNode));break;case 4:d=Lt,m=er,Lt=u.stateNode.containerInfo,er=!0,Ps(s,o,u),Lt=d,er=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&Nf(u,o,x),m=m.next}while(m!==d)}Ps(s,o,u);break;case 1:if(!Wt&&(Ho(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){lt(u,o,k)}Ps(s,o,u);break;case 21:Ps(s,o,u);break;case 22:u.mode&1?(Wt=(d=Wt)||u.memoizedState!==null,Ps(s,o,u),Wt=d):Ps(s,o,u);break;default:Ps(s,o,u)}}function t0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new m1),o.forEach(function(d){var m=I1.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function tr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=s,x=o,k=x;e:for(;k!==null;){switch(k.tag){case 5:Lt=k.stateNode,er=!1;break e;case 3:Lt=k.stateNode.containerInfo,er=!0;break e;case 4:Lt=k.stateNode.containerInfo,er=!0;break e}k=k.return}if(Lt===null)throw Error(n(160));e0(v,x,m),Lt=null,er=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(G){lt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)n0(o,s),o=o.sibling}function n0(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tr(o,s),wr(s),d&4){try{Tl(3,s,s.return),Pc(3,s)}catch(me){lt(s,s.return,me)}try{Tl(5,s,s.return)}catch(me){lt(s,s.return,me)}}break;case 1:tr(o,s),wr(s),d&512&&u!==null&&Ho(u,u.return);break;case 5:if(tr(o,s),wr(s),d&512&&u!==null&&Ho(u,u.return),s.flags&32){var m=s.stateNode;try{ds(m,"")}catch(me){lt(s,s.return,me)}}if(d&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,x=u!==null?u.memoizedProps:v,k=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&Da(m,v),za(k,x);var G=za(k,v);for(x=0;x<O.length;x+=2){var ne=O[x],se=O[x+1];ne==="style"?Fa(m,se):ne==="dangerouslySetInnerHTML"?Ma(m,se):ne==="children"?ds(m,se):F(m,ne,se,G)}switch(k){case"input":Va(m,v);break;case"textarea":io(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Lr(m,!!v.multiple,ce,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Lr(m,!!v.multiple,v.defaultValue,!0):Lr(m,!!v.multiple,v.multiple?[]:"",!1))}m[hl]=v}catch(me){lt(s,s.return,me)}}break;case 6:if(tr(o,s),wr(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(me){lt(s,s.return,me)}}break;case 3:if(tr(o,s),wr(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Qn(o.containerInfo)}catch(me){lt(s,s.return,me)}break;case 4:tr(o,s),wr(s);break;case 13:tr(o,s),wr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(jf=Ke())),d&4&&t0(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(Wt=(G=Wt)||ne,tr(o,s),Wt=G):tr(o,s),wr(s),d&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(de=s,ne=s.child;ne!==null;){for(se=de=ne;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:Tl(4,ee,ee.return);break;case 1:Ho(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,u=ee.return;try{o=d,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){lt(d,u,me)}}break;case 5:Ho(ee,ee.return);break;case 22:if(ee.memoizedState!==null){i0(se);continue}}ce!==null?(ce.return=ee,de=ce):i0(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=se.stateNode,O=se.memoizedProps.style,x=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=ja("display",x))}catch(me){lt(s,s.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(me){lt(s,s.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:tr(o,s),wr(s),d&4&&t0(s);break;case 21:break;default:tr(o,s),wr(s)}}function wr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Jv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ds(m,""),d.flags&=-33);var v=Zv(s);Of(s,v,m);break;case 3:case 4:var x=d.stateNode.containerInfo,k=Zv(s);Vf(s,k,x);break;default:throw Error(n(161))}}catch(O){lt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function y1(s,o,u){de=s,r0(s)}function r0(s,o,u){for(var d=(s.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&d){var x=m.memoizedState!==null||Rc;if(!x){var k=m.alternate,O=k!==null&&k.memoizedState!==null||Wt;k=Rc;var G=Wt;if(Rc=x,(Wt=O)&&!G)for(de=m;de!==null;)x=de,O=x.child,x.tag===22&&x.memoizedState!==null?o0(m):O!==null?(O.return=x,de=O):o0(m);for(;v!==null;)de=v,r0(v),v=v.sibling;de=m,Rc=k,Wt=G}s0(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,de=v):s0(s)}}function s0(s){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wt||Pc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Wt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Zn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&iv(o,v,d);break;case 3:var x=o.updateQueue;if(x!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}iv(o,x,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Qn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||o.flags&512&&Df(o)}catch(ee){lt(o,o.return,ee)}}if(o===s){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function i0(s){for(;de!==null;){var o=de;if(o===s){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function o0(s){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Pc(4,o)}catch(O){lt(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(O){lt(o,m,O)}}var v=o.return;try{Df(o)}catch(O){lt(o,v,O)}break;case 5:var x=o.return;try{Df(o)}catch(O){lt(o,x,O)}}}catch(O){lt(o,o.return,O)}if(o===s){de=null;break}var k=o.sibling;if(k!==null){k.return=o.return,de=k;break}de=o.return}}var v1=Math.ceil,kc=te.ReactCurrentDispatcher,Lf=te.ReactCurrentOwner,On=te.ReactCurrentBatchConfig,Ue=0,Pt=null,gt=null,Mt=0,An=0,Wo=Ss(0),xt=0,xl=null,Ai=0,bc=0,Mf=0,Sl=null,hn=null,jf=0,qo=1/0,Xr=null,Nc=!1,Ff=null,ks=null,Dc=!1,bs=null,Vc=0,Il=0,Uf=null,Oc=-1,Lc=0;function rn(){return(Ue&6)!==0?Ke():Oc!==-1?Oc:Oc=Ke()}function Ns(s){return(s.mode&1)===0?1:(Ue&2)!==0&&Mt!==0?Mt&-Mt:t1.transition!==null?(Lc===0&&(Lc=pi()),Lc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:Za(s.type)),s)}function nr(s,o,u,d){if(50<Il)throw Il=0,Uf=null,Error(n(185));gs(s,u,d),((Ue&2)===0||s!==Pt)&&(s===Pt&&((Ue&2)===0&&(bc|=u),xt===4&&Ds(s,Mt)),dn(s,d),u===1&&Ue===0&&(o.mode&1)===0&&(qo=Ke()+500,cc&&As()))}function dn(s,o){var u=s.callbackNode;Fr(s,o);var d=fi(s,s===Pt?Mt:0);if(d===0)u!==null&&Ka(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Ka(u),o===1)s.tag===0?e1(l0.bind(null,s)):Gy(l0.bind(null,s)),YA(function(){(Ue&6)===0&&As()}),u=null;else{switch(vs(d)){case 1:u=hi;break;case 4:u=fs;break;case 16:u=Rn;break;case 536870912:u=Lu;break;default:u=Rn}u=g0(u,a0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function a0(s,o){if(Oc=-1,Lc=0,(Ue&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Go()&&s.callbackNode!==u)return null;var d=fi(s,s===Pt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Mc(s,d);else{o=d;var m=Ue;Ue|=2;var v=c0();(Pt!==s||Mt!==o)&&(Xr=null,qo=Ke()+500,Ri(s,o));do try{E1();break}catch(k){u0(s,k)}while(!0);rf(),kc.current=v,Ue=m,gt!==null?o=0:(Pt=null,Mt=0,o=xt)}if(o!==0){if(o===2&&(m=En(s),m!==0&&(d=m,o=Bf(s,m))),o===1)throw u=xl,Ri(s,0),Ds(s,d),dn(s,Ke()),u;if(o===6)Ds(s,d);else{if(m=s.current.alternate,(d&30)===0&&!_1(m)&&(o=Mc(s,d),o===2&&(v=En(s),v!==0&&(d=v,o=Bf(s,v))),o===1))throw u=xl,Ri(s,0),Ds(s,d),dn(s,Ke()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Pi(s,hn,Xr);break;case 3:if(Ds(s,d),(d&130023424)===d&&(o=jf+500-Ke(),10<o)){if(fi(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){rn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=qd(Pi.bind(null,s,hn,Xr),o);break}Pi(s,hn,Xr);break;case 4:if(Ds(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var x=31-en(d);v=1<<x,x=o[x],x>m&&(m=x),d&=~v}if(d=m,d=Ke()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*v1(d/1960))-d,10<d){s.timeoutHandle=qd(Pi.bind(null,s,hn,Xr),d);break}Pi(s,hn,Xr);break;case 5:Pi(s,hn,Xr);break;default:throw Error(n(329))}}}return dn(s,Ke()),s.callbackNode===u?a0.bind(null,s):null}function Bf(s,o){var u=Sl;return s.current.memoizedState.isDehydrated&&(Ri(s,o).flags|=256),s=Mc(s,o),s!==2&&(o=hn,hn=u,o!==null&&zf(o)),s}function zf(s){hn===null?hn=s:hn.push.apply(hn,s)}function _1(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Xn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ds(s,o){for(o&=~Mf,o&=~bc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-en(o),d=1<<u;s[u]=-1,o&=~d}}function l0(s){if((Ue&6)!==0)throw Error(n(327));Go();var o=fi(s,0);if((o&1)===0)return dn(s,Ke()),null;var u=Mc(s,o);if(s.tag!==0&&u===2){var d=En(s);d!==0&&(o=d,u=Bf(s,d))}if(u===1)throw u=xl,Ri(s,0),Ds(s,o),dn(s,Ke()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Pi(s,hn,Xr),dn(s,Ke()),null}function $f(s,o){var u=Ue;Ue|=1;try{return s(o)}finally{Ue=u,Ue===0&&(qo=Ke()+500,cc&&As())}}function Ci(s){bs!==null&&bs.tag===0&&(Ue&6)===0&&Go();var o=Ue;Ue|=1;var u=On.transition,d=Le;try{if(On.transition=null,Le=1,s)return s()}finally{Le=d,On.transition=u,Ue=o,(Ue&6)===0&&As()}}function Hf(){An=Wo.current,Xe(Wo)}function Ri(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,QA(u)),gt!==null)for(u=gt.return;u!==null;){var d=u;switch(Jd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&lc();break;case 3:zo(),Xe(ln),Xe(zt),df();break;case 5:cf(d);break;case 4:zo();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:sf(d.type._context);break;case 22:case 23:Hf()}u=u.return}if(Pt=s,gt=s=Vs(s.current,null),Mt=An=o,xt=0,xl=null,Mf=bc=Ai=0,hn=Sl=null,xi!==null){for(o=0;o<xi.length;o++)if(u=xi[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var x=v.next;v.next=m,d.next=x}u.pending=d}xi=null}return s}function u0(s,o){do{var u=gt;try{if(rf(),wc.current=Sc,Ec){for(var d=rt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ec=!1}if(Ii=0,Rt=Tt=rt=null,yl=!1,vl=0,Lf.current=null,u===null||u.return===null){xt=1,xl=o,gt=null;break}e:{var v=s,x=u.return,k=u,O=o;if(o=Mt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ne=k,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=Vv(x);if(ce!==null){ce.flags&=-257,Ov(ce,x,k,v,o),ce.mode&1&&Dv(v,G,o),o=ce,O=G;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(O),o.updateQueue=me}else pe.add(O);break e}else{if((o&1)===0){Dv(v,G,o),Wf();break e}O=Error(n(426))}}else if(tt&&k.mode&1){var ht=Vv(x);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Ov(ht,x,k,v,o),tf($o(O,k));break e}}v=O=$o(O,k),xt!==4&&(xt=2),Sl===null?Sl=[v]:Sl.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=bv(v,O,o);sv(v,H);break e;case 1:k=O;var M=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ks===null||!ks.has(W)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=Nv(v,k,o);sv(v,ie);break e}}v=v.return}while(v!==null)}d0(u)}catch(ge){o=ge,gt===u&&u!==null&&(gt=u=u.return);continue}break}while(!0)}function c0(){var s=kc.current;return kc.current=Sc,s===null?Sc:s}function Wf(){(xt===0||xt===3||xt===2)&&(xt=4),Pt===null||(Ai&268435455)===0&&(bc&268435455)===0||Ds(Pt,Mt)}function Mc(s,o){var u=Ue;Ue|=2;var d=c0();(Pt!==s||Mt!==o)&&(Xr=null,Ri(s,o));do try{w1();break}catch(m){u0(s,m)}while(!0);if(rf(),Ue=u,kc.current=d,gt!==null)throw Error(n(261));return Pt=null,Mt=0,xt}function w1(){for(;gt!==null;)h0(gt)}function E1(){for(;gt!==null&&!Vu();)h0(gt)}function h0(s){var o=m0(s.alternate,s,An);s.memoizedProps=s.pendingProps,o===null?d0(s):gt=o,Lf.current=null}function d0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=f1(u,o,An),u!==null){gt=u;return}}else{if(u=p1(u,o),u!==null){u.flags&=32767,gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{xt=6,gt=null;return}}if(o=o.sibling,o!==null){gt=o;return}gt=o=s}while(o!==null);xt===0&&(xt=5)}function Pi(s,o,u){var d=Le,m=On.transition;try{On.transition=null,Le=1,T1(s,o,u,d)}finally{On.transition=m,Le=d}return null}function T1(s,o,u,d){do Go();while(bs!==null);if((Ue&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(qe(s,v),s===Pt&&(gt=Pt=null,Mt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Dc||(Dc=!0,g0(Rn,function(){return Go(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=On.transition,On.transition=null;var x=Le;Le=1;var k=Ue;Ue|=4,Lf.current=null,g1(s,u),n0(u,s),zA(Hd),ws=!!$d,Hd=$d=null,s.current=u,y1(u),Cd(),Ue=k,Le=x,On.transition=v}else s.current=u;if(Dc&&(Dc=!1,bs=s,Vc=m),v=s.pendingLanes,v===0&&(ks=null),Mu(u.stateNode),dn(s,Ke()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Nc)throw Nc=!1,s=Ff,Ff=null,s;return(Vc&1)!==0&&s.tag!==0&&Go(),v=s.pendingLanes,(v&1)!==0?s===Uf?Il++:(Il=0,Uf=s):Il=0,As(),null}function Go(){if(bs!==null){var s=vs(Vc),o=On.transition,u=Le;try{if(On.transition=null,Le=16>s?16:s,bs===null)var d=!1;else{if(s=bs,bs=null,Vc=0,(Ue&6)!==0)throw Error(n(331));var m=Ue;for(Ue|=4,de=s.current;de!==null;){var v=de,x=v.child;if((de.flags&16)!==0){var k=v.deletions;if(k!==null){for(var O=0;O<k.length;O++){var G=k[O];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Tl(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,de=se;else for(;de!==null;){ne=de;var ee=ne.sibling,ce=ne.return;if(Xv(ne),ne===G){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,de=x;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Tl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,de=H;break e}de=v.return}}var M=s.current;for(de=M;de!==null;){x=de;var W=x.child;if((x.subtreeFlags&2064)!==0&&W!==null)W.return=x,de=W;else e:for(x=M;de!==null;){if(k=de,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Pc(9,k)}}catch(ge){lt(k,k.return,ge)}if(k===x){de=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,de=ie;break e}de=k.return}}if(Ue=m,As(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(di,s)}catch{}d=!0}return d}finally{Le=u,On.transition=o}}return!1}function f0(s,o,u){o=$o(u,o),o=bv(s,o,1),s=Rs(s,o,1),o=rn(),s!==null&&(gs(s,1,o),dn(s,o))}function lt(s,o,u){if(s.tag===3)f0(s,s,u);else for(;o!==null;){if(o.tag===3){f0(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))){s=$o(u,s),s=Nv(o,s,1),o=Rs(o,s,1),s=rn(),o!==null&&(gs(o,1,s),dn(o,s));break}}o=o.return}}function x1(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=rn(),s.pingedLanes|=s.suspendedLanes&u,Pt===s&&(Mt&u)===u&&(xt===4||xt===3&&(Mt&130023424)===Mt&&500>Ke()-jf?Ri(s,0):Mf|=u),dn(s,o)}function p0(s,o){o===0&&((s.mode&1)===0?o=1:(o=go,go<<=1,(go&130023424)===0&&(go=4194304)));var u=rn();s=Kr(s,o),s!==null&&(gs(s,o,u),dn(s,u))}function S1(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),p0(s,u)}function I1(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),p0(s,u)}var m0;m0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return cn=!1,d1(s,o,u);cn=(s.flags&131072)!==0}else cn=!1,tt&&(o.flags&1048576)!==0&&Ky(o,dc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Cc(s,o),s=o.pendingProps;var m=Oo(o,zt.current);Bo(o,u),m=mf(null,o,d,s,m,u);var v=gf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(d)?(v=!0,uc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lf(o),m.updater=Ic,o.stateNode=m,m._reactInternals=o,Tf(o,d,s,u),o=Af(null,o,d,!0,v,u)):(o.tag=0,tt&&v&&Xd(o),nn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Cc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=C1(d),s=Zn(d,s),m){case 0:o=If(null,o,d,s,u);break e;case 1:o=Bv(null,o,d,s,u);break e;case 11:o=Lv(null,o,d,s,u);break e;case 14:o=Mv(null,o,d,Zn(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),If(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Bv(s,o,d,m,u);case 3:e:{if(zv(o),s===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,rv(s,o),vc(o,d,null,u);var x=o.memoizedState;if(d=x.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=$o(Error(n(423)),o),o=$v(s,o,d,u,m);break e}else if(d!==m){m=$o(Error(n(424)),o),o=$v(s,o,d,u,m);break e}else for(In=xs(o.stateNode.containerInfo.firstChild),Sn=o,tt=!0,Jn=null,u=tv(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(jo(),d===m){o=Yr(s,o,u);break e}nn(s,o,d,u)}o=o.child}return o;case 5:return ov(o),s===null&&ef(o),d=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,x=m.children,Wd(d,m)?x=null:v!==null&&Wd(d,v)&&(o.flags|=32),Uv(s,o),nn(s,o,x,u),o.child;case 6:return s===null&&ef(o),null;case 13:return Hv(s,o,u);case 4:return uf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Fo(o,null,d,u):nn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Lv(s,o,d,m,u);case 7:return nn(s,o,o.pendingProps,u),o.child;case 8:return nn(s,o,o.pendingProps.children,u),o.child;case 12:return nn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,x=m.value,Qe(mc,d._currentValue),d._currentValue=x,v!==null)if(Xn(v.value,x)){if(v.children===m.children&&!ln.current){o=Yr(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var k=v.dependencies;if(k!==null){x=v.child;for(var O=k.firstContext;O!==null;){if(O.context===d){if(v.tag===1){O=Qr(-1,u&-u),O.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),G.pending=O}}v.lanes|=u,O=v.alternate,O!==null&&(O.lanes|=u),of(v.return,u,o),k.lanes|=u;break}O=O.next}}else if(v.tag===10)x=v.type===o.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(n(341));x.lanes|=u,k=x.alternate,k!==null&&(k.lanes|=u),of(x,u,o),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===o){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}nn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Bo(o,u),m=Dn(m),d=d(m),o.flags|=1,nn(s,o,d,u),o.child;case 14:return d=o.type,m=Zn(d,o.pendingProps),m=Zn(d.type,m),Mv(s,o,d,m,u);case 15:return jv(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Cc(s,o),o.tag=1,un(d)?(s=!0,uc(o)):s=!1,Bo(o,u),Pv(o,d,m),Tf(o,d,m,u),Af(null,o,d,!0,s,u);case 19:return qv(s,o,u);case 22:return Fv(s,o,u)}throw Error(n(156,o.tag))};function g0(s,o){return po(s,o)}function A1(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(s,o,u,d){return new A1(s,o,u,d)}function qf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function C1(s){if(typeof s=="function")return qf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===Nt)return 14}return 2}function Vs(s,o){var u=s.alternate;return u===null?(u=Ln(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function jc(s,o,u,d,m,v){var x=2;if(d=s,typeof s=="function")qf(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case D:return ki(u.children,m,v,o);case C:x=8,m|=8;break;case P:return s=Ln(12,u,o,m|2),s.elementType=P,s.lanes=v,s;case N:return s=Ln(13,u,o,m),s.elementType=N,s.lanes=v,s;case Ze:return s=Ln(19,u,o,m),s.elementType=Ze,s.lanes=v,s;case Ce:return Fc(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:x=10;break e;case j:x=9;break e;case z:x=11;break e;case Nt:x=14;break e;case Dt:x=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Ln(x,u,o,m),o.elementType=s,o.type=d,o.lanes=v,o}function ki(s,o,u,d){return s=Ln(7,s,d,o),s.lanes=u,s}function Fc(s,o,u,d){return s=Ln(22,s,d,o),s.elementType=Ce,s.lanes=u,s.stateNode={isHidden:!1},s}function Gf(s,o,u){return s=Ln(6,s,null,o),s.lanes=u,s}function Kf(s,o,u){return o=Ln(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function R1(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ms(0),this.expirationTimes=ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Qf(s,o,u,d,m,v,x,k,O){return s=new R1(s,o,u,k,O),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Ln(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(v),s}function P1(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function y0(s){if(!s)return Is;s=s._reactInternals;e:{if(Hn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(un(u))return Wy(s,u,o)}return o}function v0(s,o,u,d,m,v,x,k,O){return s=Qf(u,d,!0,s,m,v,x,k,O),s.context=y0(null),u=s.current,d=rn(),m=Ns(u),v=Qr(d,m),v.callback=o??null,Rs(u,v,m),s.current.lanes=m,gs(s,m,d),dn(s,d),s}function Uc(s,o,u,d){var m=o.current,v=rn(),x=Ns(m);return u=y0(u),o.context===null?o.context=u:o.pendingContext=u,o=Qr(v,x),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Rs(m,o,x),s!==null&&(nr(s,m,x,v),yc(s,m,x)),x}function Bc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Yf(s,o){_0(s,o),(s=s.alternate)&&_0(s,o)}function k1(){return null}var w0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xf(s){this._internalRoot=s}zc.prototype.render=Xf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Uc(s,o,null,null)},zc.prototype.unmount=Xf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ci(function(){Uc(null,s,null,null)}),o[Hr]=null}};function zc(s){this._internalRoot=s}zc.prototype.unstable_scheduleHydration=function(s){if(s){var o=zu();s={blockedOn:null,target:s,priority:o};for(var u=0;u<fr.length&&o!==0&&o<fr[u].priority;u++);fr.splice(u,0,s),u===0&&Wu(s)}};function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $c(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function E0(){}function b1(s,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var G=Bc(x);v.call(G)}}var x=v0(o,d,s,0,null,!1,!1,"",E0);return s._reactRootContainer=x,s[Hr]=x.current,ul(s.nodeType===8?s.parentNode:s),Ci(),x}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var G=Bc(O);k.call(G)}}var O=Qf(s,0,!1,null,null,!1,!1,"",E0);return s._reactRootContainer=O,s[Hr]=O.current,ul(s.nodeType===8?s.parentNode:s),Ci(function(){Uc(o,O,u,d)}),O}function Hc(s,o,u,d,m){var v=u._reactRootContainer;if(v){var x=v;if(typeof m=="function"){var k=m;m=function(){var O=Bc(x);k.call(O)}}Uc(o,x,s,m)}else x=b1(u,o,s,m,d);return Bc(x)}Uu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=ps(o.pendingLanes);u!==0&&(ys(o,u|1),dn(o,Ke()),(Ue&6)===0&&(qo=Ke()+500,As()))}break;case 13:Ci(function(){var d=Kr(s,1);if(d!==null){var m=rn();nr(d,s,1,m)}}),Yf(s,1)}},yo=function(s){if(s.tag===13){var o=Kr(s,134217728);if(o!==null){var u=rn();nr(o,s,134217728,u)}Yf(s,134217728)}},Bu=function(s){if(s.tag===13){var o=Ns(s),u=Kr(s,o);if(u!==null){var d=rn();nr(u,s,o,d)}Yf(s,o)}},zu=function(){return Le},$u=function(s,o){var u=Le;try{return Le=s,o()}finally{Le=u}},ao=function(s,o,u){switch(o){case"input":if(Va(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=ac(d);if(!m)throw Error(n(90));to(d),Va(d,m)}}}break;case"textarea":io(s,u);break;case"select":o=u.value,o!=null&&Lr(s,!!u.multiple,o,!1)}},ai=$f,Ha=Ci;var N1={usingClientEntryPoint:!1,Events:[dl,Do,ac,hr,$a,$f]},Al={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D1={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ga(s),s===null?null:s.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||k1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{di=Wc.inject(D1),wn=Wc}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N1,fn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(o))throw Error(n(200));return P1(s,o,null,u)},fn.createRoot=function(s,o){if(!Jf(s))throw Error(n(299));var u=!1,d="",m=w0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Qf(s,1,!1,null,null,u,!1,d,m),s[Hr]=o.current,ul(s.nodeType===8?s.parentNode:s),new Xf(o)},fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ga(o),s=s===null?null:s.stateNode,s},fn.flushSync=function(s){return Ci(s)},fn.hydrate=function(s,o,u){if(!$c(o))throw Error(n(200));return Hc(null,s,o,!0,u)},fn.hydrateRoot=function(s,o,u){if(!Jf(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",x=w0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),o=v0(o,null,s,1,u??null,m,!1,v,x),s[Hr]=o.current,ul(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new zc(o)},fn.render=function(s,o,u){if(!$c(o))throw Error(n(200));return Hc(null,s,o,!1,u)},fn.unmountComponentAtNode=function(s){if(!$c(s))throw Error(n(40));return s._reactRootContainer?(Ci(function(){Hc(null,null,s,!1,function(){s._reactRootContainer=null,s[Hr]=null})}),!0):!1},fn.unstable_batchedUpdates=$f,fn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!$c(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Hc(s,o,u,!1,d)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var P0;function z1(){if(P0)return tp.exports;P0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=B1(),tp.exports}var k0;function $1(){if(k0)return qc;k0=1;var t=z1();return qc.createRoot=t.createRoot,qc.hydrateRoot=t.hydrateRoot,qc}var H1=$1();const W1=jE(H1);var Rl={},b0;function q1(){if(b0)return Rl;b0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=l,Rl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,I){const A=new a,b=E.length;if(b<2)return A;const R=(I==null?void 0:I.decode)||g;let L=0;do{const q=E.indexOf("=",L);if(q===-1)break;const F=E.indexOf(";",L),te=F===-1?b:F;if(q>te){L=E.lastIndexOf(";",q-1)+1;continue}const re=h(E,L,q),le=f(E,q,re),D=E.slice(re,le);if(A[D]===void 0){let C=h(E,q+1,te),P=f(E,te,C);const V=R(E.slice(C,P));A[D]=V}L=te+1}while(L<b);return A}function h(E,I,A){do{const b=E.charCodeAt(I);if(b!==32&&b!==9)return I}while(++I<A);return A}function f(E,I,A){for(;I>A;){const b=E.charCodeAt(--I);if(b!==32&&b!==9)return I+1}return A}function p(E,I,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=b(I);if(!e.test(R))throw new TypeError(`argument val is invalid: ${I}`);let L=E+"="+R;if(!A)return L;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);L+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);L+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);L+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);L+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(L+="; HttpOnly"),A.secure&&(L+="; Secure"),A.partitioned&&(L+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return L}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return Rl}q1();var N0="popstate";function G1(t={}){function e(r,i){let{pathname:a,search:l,hash:h}=r.location;return Np("",{pathname:a,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gl(i)}return Q1(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function Np(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:n,key:e&&e.key||r||K1()}}function Gl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Q1(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let R=g(),L=R==null?null:R-p;p=R,f&&f({action:h,location:b.location,delta:L})}function E(R,L){h="PUSH";let q=Np(b.location,R,L);p=g()+1;let F=D0(q,p),te=b.createHref(q);try{l.pushState(F,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;i.location.assign(te)}a&&f&&f({action:h,location:b.location,delta:1})}function I(R,L){h="REPLACE";let q=Np(b.location,R,L);p=g();let F=D0(q,p),te=b.createHref(q);l.replaceState(F,"",te),a&&f&&f({action:h,location:b.location,delta:0})}function A(R){return Y1(R)}let b={get action(){return h},get location(){return t(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(N0,_),f=R,()=>{i.removeEventListener(N0,_),f=null}},createHref(R){return e(i,R)},createURL:A,encodeLocation(R){let L=A(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:I,go(R){return l.go(R)}};return b}function Y1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FE(t,e,n="/"){return X1(t,e,n,!1)}function X1(t,e,n,r){let i=typeof e=="string"?_a(e):e,a=ns(i.pathname||"/",n);if(a==null)return null;let l=UE(t);J1(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=uC(a);h=aC(l[f],p,r)}return h}function UE(t,e=[],n=[],r=""){let i=(a,l,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=es([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),UE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:iC(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,l);else for(let f of BE(a.path))i(a,l,f)}),e}function BE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=BE(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function J1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Z1=/^:[\w-]+$/,eC=3,tC=2,nC=1,rC=10,sC=-2,V0=t=>t==="*";function iC(t,e){let n=t.split("/"),r=n.length;return n.some(V0)&&(r+=sC),e&&(r+=tC),n.filter(i=>!V0(i)).reduce((i,a)=>i+(Z1.test(a)?eC:a===""?nC:rC),r)}function oC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aC(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:es([a,_.pathname]),pathnameBase:fC(es([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=es([a,_.pathnameBase]))}return l}function xh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let A=h[E]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const I=h[E];return _&&!I?p[g]=void 0:p[g]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function lC(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_a(t):t;return{pathname:n?n.startsWith("/")?n:hC(n,e):e,search:pC(r),hash:mC(i)}}function hC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zE(t){let e=dC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $E(t,e,n,r=!1){let i;typeof t=="string"?i=_a(t):(i={...t},it(!i.pathname||!i.pathname.includes("?"),sp("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),sp("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),sp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=cC(i,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var es=t=>t.join("/").replace(/\/\/+/g,"/"),fC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var yC=["GET",...HE];new Set(yC);var wa=U.createContext(null);wa.displayName="DataRouter";var Yh=U.createContext(null);Yh.displayName="DataRouterState";var WE=U.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var vC=U.createContext(new Map);vC.displayName="Fetchers";var _C=U.createContext(null);_C.displayName="Await";var Dr=U.createContext(null);Dr.displayName="Navigation";var du=U.createContext(null);du.displayName="Location";var us=U.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var Nm=U.createContext(null);Nm.displayName="RouteError";function wC(t,{relative:e}={}){it(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Dr),{hash:i,pathname:a,search:l}=pu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:es([n,a])),r.createHref({pathname:h,search:l,hash:i})}function fu(){return U.useContext(du)!=null}function Qi(){return it(fu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(du).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(t){U.useContext(Dr).static||U.useLayoutEffect(t)}function KE(){let{isDataRoute:t}=U.useContext(us);return t?DC():EC()}function EC(){it(fu(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(wa),{basename:e,navigator:n}=U.useContext(Dr),{matches:r}=U.useContext(us),{pathname:i}=Qi(),a=JSON.stringify(zE(r)),l=U.useRef(!1);return GE(()=>{l.current=!0}),U.useCallback((f,p={})=>{if(kr(l.current,qE),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=$E(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:es([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}U.createContext(null);function pu(t,{relative:e}={}){let{matches:n}=U.useContext(us),{pathname:r}=Qi(),i=JSON.stringify(zE(n));return U.useMemo(()=>$E(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function TC(t,e){return QE(t,e)}function QE(t,e,n,r){var q;it(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=U.useContext(Dr),{matches:l}=U.useContext(us),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";YE(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Qi(),I;if(e){let F=typeof e=="string"?_a(e):e;it(g==="/"||((q=F.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),I=F}else I=E;let A=I.pathname||"/",b=A;if(g!=="/"){let F=g.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:FE(t,{pathname:b});kr(_||R!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),kr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=CC(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:es([g,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:es([g,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,n,r);return e&&L?U.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},L):L}function xC(){let t=NC(),e=gC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,l)}var SC=U.createElement(xC,null),IC=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(us.Provider,{value:this.props.routeContext},U.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AC({routeContext:t,match:e,children:n}){let r=U.useContext(wa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(us.Provider,{value:t},n)}function CC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,h=-1;if(n)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let _,E=!1,I=null,A=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||SC,l&&(h<0&&g===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===g&&(E=!0,A=p.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),R=()=>{let L;return _?L=I:E?L=A:p.route.Component?L=U.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=f,U.createElement(AC,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement(IC,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function Dm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RC(t){let e=U.useContext(wa);return it(e,Dm(t)),e}function PC(t){let e=U.useContext(Yh);return it(e,Dm(t)),e}function kC(t){let e=U.useContext(us);return it(e,Dm(t)),e}function Vm(t){let e=kC(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bC(){return Vm("useRouteId")}function NC(){var r;let t=U.useContext(Nm),e=PC("useRouteError"),n=Vm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function DC(){let{router:t}=RC("useNavigate"),e=Vm("useNavigate"),n=U.useRef(!1);return GE(()=>{n.current=!0}),U.useCallback(async(i,a={})=>{kr(n.current,qE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var O0={};function YE(t,e,n){!e&&!O0[t]&&(O0[t]=!0,kr(!1,n))}U.memo(VC);function VC({routes:t,future:e,state:n}){return QE(t,void 0,n,e)}function Gt(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){it(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=_a(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,I=U.useMemo(()=>{let A=ns(f,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:_,key:E},navigationType:r}},[l,f,p,g,_,E,r]);return kr(I!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:U.createElement(Dr.Provider,{value:h},U.createElement(du.Provider,{children:e,value:I}))}function LC({children:t,location:e}){return TC(Dp(t),e)}function Dp(t,e=[]){let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Dp(r.props.children,a));return}it(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dp(r.props.children,a)),n.push(l)}),n}var sh="get",ih="application/x-www-form-urlencoded";function Xh(t){return t!=null&&typeof t.tagName=="string"}function MC(t){return Xh(t)&&t.tagName.toLowerCase()==="button"}function jC(t){return Xh(t)&&t.tagName.toLowerCase()==="form"}function FC(t){return Xh(t)&&t.tagName.toLowerCase()==="input"}function UC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BC(t,e){return t.button===0&&(!e||e==="_self")&&!UC(t)}var Gc=null;function zC(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var $C=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(t){return t!=null&&!$C.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):t}function HC(t,e){let n,r,i,a,l;if(jC(t)){let h=t.getAttribute("action");r=h?ns(h,e):null,n=t.getAttribute("method")||sh,i=ip(t.getAttribute("enctype"))||ih,a=new FormData(t)}else if(MC(t)||FC(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?ns(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||sh,i=ip(t.getAttribute("formenctype"))||ip(h.getAttribute("enctype"))||ih,a=new FormData(h,t),!zC()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(Xh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,r=null,i=ih,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}function Om(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GC(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await WC(a,n);return l.links?l.links():[]}return[]}));return XC(r.flat(1).filter(qC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function L0(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function KC(t,e,{includeHydrateFallback:n}={}){return QC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function QC(t){return[...new Set(t)]}function YC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function XC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(YC(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JC=new Set([100,101,204,205]);function ZC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ns(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function XE(){let t=U.useContext(wa);return Om(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eR(){let t=U.useContext(Yh);return Om(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lm=U.createContext(void 0);Lm.displayName="FrameworkContext";function JE(){let t=U.useContext(Lm);return Om(t,"You must render this element inside a <HydratedRouter> element"),t}function tR(t,e){let n=U.useContext(Lm),[r,i]=U.useState(!1),[a,l]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=U.useRef(null);U.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=L=>{L.forEach(q=>{l(q.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),U.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let I=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Pl(h,I),onBlur:Pl(f,A),onMouseEnter:Pl(p,I),onMouseLeave:Pl(g,A),onTouchStart:Pl(_,I)}]:[!1,E,{}]}function Pl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nR({page:t,...e}){let{router:n}=XE(),r=U.useMemo(()=>FE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(sR,{page:t,matches:r,...e}):null}function rR(t){let{manifest:e,routeModules:n}=JE(),[r,i]=U.useState([]);return U.useEffect(()=>{let a=!1;return GC(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function sR({page:t,matches:e,...n}){let r=Qi(),{manifest:i,routeModules:a}=JE(),{basename:l}=XE(),{loaderData:h,matches:f}=eR(),p=U.useMemo(()=>L0(t,e,f,i,r,"data"),[t,e,f,i,r]),g=U.useMemo(()=>L0(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(L=>{var F;let q=i.routes[L.route.id];!q||!q.hasLoader||(!p.some(te=>te.route.id===L.route.id)&&L.route.id in h&&((F=a[L.route.id])!=null&&F.shouldRevalidate)||q.hasClientLoader?b=!0:A.add(L.route.id))}),A.size===0)return[];let R=ZC(t,l);return b&&A.size>0&&R.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[R.pathname+R.search]},[l,h,r,i,p,e,t,a]),E=U.useMemo(()=>KC(g,i),[g,i]),I=rR(g);return U.createElement(U.Fragment,null,_.map(A=>U.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>U.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),I.map(({key:A,link:b})=>U.createElement("link",{key:A,...b})))}function iR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.6.0")}catch{}function oR({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=G1({window:n,v5Compat:!0}));let i=r.current,[a,l]=U.useState({action:i.action,location:i.location}),h=U.useCallback(f=>{U.startTransition(()=>l(f))},[l]);return U.useLayoutEffect(()=>i.listen(h),[i,h]),U.createElement(OC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},I){let{basename:A}=U.useContext(Dr),b=typeof p=="string"&&eT.test(p),R,L=!1;if(typeof p=="string"&&b&&(R=p,ZE))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),j=ns(V.pathname,A);V.origin===P.origin&&j!=null?p=j+V.search+V.hash:L=!0}catch{kr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=wC(p,{relative:i}),[F,te,re]=tR(r,E),le=cR(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function D(P){e&&e(P),P.defaultPrevented||le(P)}let C=U.createElement("a",{...E,...re,href:R||q,onClick:L||a?e:D,ref:iR(I,te),target:f,"data-discover":!b&&n==="render"?"true":void 0});return F&&!b?U.createElement(U.Fragment,null,C,U.createElement(nR,{page:q})):C});Z.displayName="Link";var aR=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},g){let _=pu(l,{relative:p.relative}),E=Qi(),I=U.useContext(Yh),{navigator:A,basename:b}=U.useContext(Dr),R=I!=null&&mR(_)&&h===!0,L=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,q=E.pathname,F=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,L=L.toLowerCase()),F&&b&&(F=ns(F,b)||F);const te=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let re=q===L||!i&&q.startsWith(L)&&q.charAt(te)==="/",le=F!=null&&(F===L||!i&&F.startsWith(L)&&F.charAt(L.length)==="/"),D={isActive:re,isPending:le,isTransitioning:R},C=re?e:void 0,P;typeof r=="function"?P=r(D):P=[r,re?"active":null,le?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(D):a;return U.createElement(Z,{...p,"aria-current":C,className:P,ref:g,style:V,to:l,viewTransition:h},typeof f=="function"?f(D):f)});aR.displayName="NavLink";var lR=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=sh,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},I)=>{let A=fR(),b=pR(h,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&eT.test(h),q=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let te=F.nativeEvent.submitter,re=(te==null?void 0:te.getAttribute("formmethod"))||l;A(te||F.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return U.createElement("form",{ref:I,method:R,action:b,onSubmit:r?f:q,...E,"data-discover":!L&&t==="render"?"true":void 0})});lR.displayName="Form";function uR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(t){let e=U.useContext(wa);return it(e,uR(t)),e}function cR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=KE(),f=Qi(),p=pu(t,{relative:a});return U.useCallback(g=>{if(BC(g,e)){g.preventDefault();let _=n!==void 0?n:Gl(f)===Gl(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var hR=0,dR=()=>`__${String(++hR)}__`;function fR(){let{router:t}=tT("useSubmit"),{basename:e}=U.useContext(Dr),n=bC();return U.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=HC(r,e);if(i.navigate===!1){let g=i.fetcherKey||dR();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pR(t,{relative:e}={}){let{basename:n}=U.useContext(Dr),r=U.useContext(us);it(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pu(t||".",{relative:e})},l=Qi();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:es([n,a.pathname])),Gl(a)}function mR(t,e={}){let n=U.useContext(WE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tT("useViewTransitionState"),i=pu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xh(i.pathname,l)!=null||xh(i.pathname,a)!=null}[...JC];function _n(){return T.jsxs("footer",{className:"w-full bg-black/80 text-yellow-300 text-center p-3 text-sm mt-12 border-t border-yellow-500",children:[T.jsxs("p",{children:["Disclaimer: Nova is an educational AI and does not provide financial advice. "," ",T.jsx(Z,{to:"/disclaimer",className:"underline hover:text-yellow-400",children:"Read full disclaimer"}),"."]}),T.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:[" ",new Date().getFullYear()," Novas Trading Company. All rights reserved."]})]})}function gR(){return T.jsxs("div",{className:"min-h-screen text-white bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 flex flex-col items-center justify-center text-center px-4",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-yellow-300 mb-6",children:"Trade Smarter. Think Clearer. Execute with Confidence."}),T.jsxs("p",{className:"text-lg text-gray-200 mb-6 max-w-xl",children:["Nova is your AI-powered companion for ",T.jsx("span",{className:"font-bold",children:"disciplined trading, sharp decision-making, and strategic execution"}),"so you stay ahead of the markets."]}),T.jsx(Z,{to:"/about-nova",className:"bg-yellow-400 text-black font-bold px-6 py-3 rounded-xl text-lg hover:bg-yellow-300 transition-all shadow-md hover:shadow-yellow-400",children:" Meet Nova"}),T.jsxs("div",{className:"mt-8 bg-black/40 p-6 rounded-lg shadow-lg max-w-lg",children:[T.jsx("h3",{className:"text-xl font-bold text-yellow-300 mb-4",children:" What Nova Can Do for You:"}),T.jsxs("ul",{className:"text-gray-300 space-y-2 text-left",children:[T.jsx("li",{children:" AI-Powered Market Insights  Get smarter predictions and trade alerts."}),T.jsx("li",{children:" Real-Time Strategy Optimization  Make confident decisions with AI-backed analysis."}),T.jsx("li",{children:" Seamless AI Chat Experience  Get answers instantly, refine approaches, and stay ahead."})]})]})]}),T.jsx(_n,{})]})}function nT(){return T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"flex space-x-6 text-white",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})})}function rT(t,e){return function(){return t.apply(e,arguments)}}const{toString:yR}=Object.prototype,{getPrototypeOf:Mm}=Object,{iterator:Jh,toStringTag:sT}=Symbol,Zh=(t=>e=>{const n=yR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ur=t=>(t=t.toLowerCase(),e=>Zh(e)===t),ed=t=>e=>typeof e===t,{isArray:Ea}=Array,Kl=ed("undefined");function vR(t){return t!==null&&!Kl(t)&&t.constructor!==null&&!Kl(t.constructor)&&gn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iT=ur("ArrayBuffer");function _R(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iT(t.buffer),e}const wR=ed("string"),gn=ed("function"),oT=ed("number"),td=t=>t!==null&&typeof t=="object",ER=t=>t===!0||t===!1,oh=t=>{if(Zh(t)!=="object")return!1;const e=Mm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sT in t)&&!(Jh in t)},TR=ur("Date"),xR=ur("File"),SR=ur("Blob"),IR=ur("FileList"),AR=t=>td(t)&&gn(t.pipe),CR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gn(t.append)&&((e=Zh(t))==="formdata"||e==="object"&&gn(t.toString)&&t.toString()==="[object FormData]"))},RR=ur("URLSearchParams"),[PR,kR,bR,NR]=["ReadableStream","Request","Response","Headers"].map(ur),DR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ea(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let h;for(r=0;r<l;r++)h=a[r],e.call(null,t[h],h,t)}}function aT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lT=t=>!Kl(t)&&t!==Vi;function Vp(){const{caseless:t}=lT(this)&&this||{},e={},n=(r,i)=>{const a=t&&aT(e,i)||i;oh(e[a])&&oh(r)?e[a]=Vp(e[a],r):oh(r)?e[a]=Vp({},r):Ea(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&mu(arguments[r],n);return e}const VR=(t,e,n,{allOwnKeys:r}={})=>(mu(e,(i,a)=>{n&&gn(i)?t[a]=rT(i,n):t[a]=i},{allOwnKeys:r}),t),OR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),LR=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},MR=(t,e,n,r)=>{let i,a,l;const h={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!h[l]&&(e[l]=t[l],h[l]=!0);t=n!==!1&&Mm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},jR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},FR=t=>{if(!t)return null;if(Ea(t))return t;let e=t.length;if(!oT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mm(Uint8Array)),BR=(t,e)=>{const r=(t&&t[Jh]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},zR=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},$R=ur("HTMLFormElement"),HR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),M0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),WR=ur("RegExp"),uT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};mu(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},qR=t=>{uT(t,(e,n)=>{if(gn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(gn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GR=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ea(t)?r(t):r(String(t).split(e)),n},KR=()=>{},QR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function YR(t){return!!(t&&gn(t.append)&&t[sT]==="FormData"&&t[Jh])}const XR=t=>{const e=new Array(10),n=(r,i)=>{if(td(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Ea(r)?[]:{};return mu(r,(l,h)=>{const f=n(l,i+1);!Kl(f)&&(a[h]=f)}),e[i]=void 0,a}}return r};return n(t,0)},JR=ur("AsyncFunction"),ZR=t=>t&&(td(t)||gn(t))&&gn(t.then)&&gn(t.catch),cT=((t,e)=>t?setImmediate:e?((n,r)=>(Vi.addEventListener("message",({source:i,data:a})=>{i===Vi&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gn(Vi.postMessage)),eP=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||cT,tP=t=>t!=null&&gn(t[Jh]),Q={isArray:Ea,isArrayBuffer:iT,isBuffer:vR,isFormData:CR,isArrayBufferView:_R,isString:wR,isNumber:oT,isBoolean:ER,isObject:td,isPlainObject:oh,isReadableStream:PR,isRequest:kR,isResponse:bR,isHeaders:NR,isUndefined:Kl,isDate:TR,isFile:xR,isBlob:SR,isRegExp:WR,isFunction:gn,isStream:AR,isURLSearchParams:RR,isTypedArray:UR,isFileList:IR,forEach:mu,merge:Vp,extend:VR,trim:DR,stripBOM:OR,inherits:LR,toFlatObject:MR,kindOf:Zh,kindOfTest:ur,endsWith:jR,toArray:FR,forEachEntry:BR,matchAll:zR,isHTMLForm:$R,hasOwnProperty:M0,hasOwnProp:M0,reduceDescriptors:uT,freezeMethods:qR,toObjectSet:GR,toCamelCase:HR,noop:KR,toFiniteNumber:QR,findKey:aT,global:Vi,isContextDefined:lT,isSpecCompliantForm:YR,toJSONObject:XR,isAsyncFn:JR,isThenable:ZR,setImmediate:cT,asap:eP,isIterable:tP};function Pe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Q.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const hT=Pe.prototype,dT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dT[t]={value:t}});Object.defineProperties(Pe,dT);Object.defineProperty(hT,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,i,a)=>{const l=Object.create(hT);return Q.toFlatObject(t,l,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Pe.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const nP=null;function Op(t){return Q.isPlainObject(t)||Q.isArray(t)}function fT(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function j0(t,e,n){return t?t.concat(e).map(function(i,a){return i=fT(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function rP(t){return Q.isArray(t)&&!t.some(Op)}const sP=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function nd(t,e,n){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,R){return!Q.isUndefined(R[b])});const r=n.metaTokens,i=n.visitor||g,a=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(Q.isDate(A))return A.toISOString();if(!f&&Q.isBlob(A))throw new Pe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(A)||Q.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,b,R){let L=A;if(A&&!R&&typeof A=="object"){if(Q.endsWith(b,"{}"))b=r?b:b.slice(0,-2),A=JSON.stringify(A);else if(Q.isArray(A)&&rP(A)||(Q.isFileList(A)||Q.endsWith(b,"[]"))&&(L=Q.toArray(A)))return b=fT(b),L.forEach(function(F,te){!(Q.isUndefined(F)||F===null)&&e.append(l===!0?j0([b],te,a):l===null?b:b+"[]",p(F))}),!1}return Op(A)?!0:(e.append(j0(R,b,a),p(A)),!1)}const _=[],E=Object.assign(sP,{defaultVisitor:g,convertValue:p,isVisitable:Op});function I(A,b){if(!Q.isUndefined(A)){if(_.indexOf(A)!==-1)throw Error("Circular reference detected in "+b.join("."));_.push(A),Q.forEach(A,function(L,q){(!(Q.isUndefined(L)||L===null)&&i.call(e,L,Q.isString(q)?q.trim():q,b,E))===!0&&I(L,b?b.concat(q):[q])}),_.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return I(t),e}function F0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jm(t,e){this._pairs=[],t&&nd(t,this,e)}const pT=jm.prototype;pT.append=function(e,n){this._pairs.push([e,n])};pT.toString=function(e){const n=e?function(r){return e.call(this,r,F0)}:F0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function iP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mT(t,e,n){if(!e)return t;const r=n&&n.encode||iP;Q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=Q.isURLSearchParams(e)?e.toString():new jm(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class U0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oP=typeof URLSearchParams<"u"?URLSearchParams:jm,aP=typeof FormData<"u"?FormData:null,lP=typeof Blob<"u"?Blob:null,uP={isBrowser:!0,classes:{URLSearchParams:oP,FormData:aP,Blob:lP},protocols:["http","https","file","blob","url","data"]},Fm=typeof window<"u"&&typeof document<"u",Lp=typeof navigator=="object"&&navigator||void 0,cP=Fm&&(!Lp||["ReactNative","NativeScript","NS"].indexOf(Lp.product)<0),hP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dP=Fm&&window.location.href||"http://localhost",fP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fm,hasStandardBrowserEnv:cP,hasStandardBrowserWebWorkerEnv:hP,navigator:Lp,origin:dP},Symbol.toStringTag,{value:"Module"})),Xt={...fP,...uP};function pP(t,e){return nd(t,new Xt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Xt.isNode&&Q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function mP(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gP(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function yT(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),f=a>=n.length;return l=!l&&Q.isArray(i)?i.length:l,f?(Q.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!h):((!i[l]||!Q.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&Q.isArray(i[l])&&(i[l]=gP(i[l])),!h)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const n={};return Q.forEachEntry(t,(r,i)=>{e(mP(r),i,n,0)}),n}return null}function yP(t,e,n){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gu={transitional:gT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return i?JSON.stringify(yT(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pP(e,this.formSerializer).toString();if((h=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return nd(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),yP(e)):e}],transformResponse:[function(e){const n=this.transitional||gu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(l)throw h.name==="SyntaxError"?Pe.from(h,Pe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{gu.headers[t]={}});const vP=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_P=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&vP[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B0=Symbol("internals");function kl(t){return t&&String(t).trim().toLowerCase()}function ah(t){return t===!1||t==null?t:Q.isArray(t)?t.map(ah):String(t)}function wP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function op(t,e,n,r,i){if(Q.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function TP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function xP(t,e){const n=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let yn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(h,f,p){const g=kl(f);if(!g)throw new Error("header name must be a non-empty string");const _=Q.findKey(i,g);(!_||i[_]===void 0||p===!0||p===void 0&&i[_]!==!1)&&(i[_||f]=ah(h))}const l=(h,f)=>Q.forEach(h,(p,g)=>a(p,g,f));if(Q.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Q.isString(e)&&(e=e.trim())&&!EP(e))l(_P(e),n);else if(Q.isObject(e)&&Q.isIterable(e)){let h={},f,p;for(const g of e){if(!Q.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[p=g[0]]=(f=h[p])?Q.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}l(h,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=kl(e),e){const r=Q.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return wP(i);if(Q.isFunction(n))return n.call(this,i,r);if(Q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=kl(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||op(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=kl(l),l){const h=Q.findKey(r,l);h&&(!n||op(r,r[h],h,n))&&(delete r[h],i=!0)}}return Q.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||op(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return Q.forEach(this,(i,a)=>{const l=Q.findKey(r,a);if(l){n[l]=ah(i),delete n[a];return}const h=e?TP(a):String(a).trim();h!==a&&delete n[a],n[h]=ah(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B0]=this[B0]={accessors:{}}).accessors,i=this.prototype;function a(l){const h=kl(l);r[h]||(xP(i,l),r[h]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(yn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Q.freezeMethods(yn);function ap(t,e){const n=this||gu,r=e||n,i=yn.from(r.headers);let a=r.data;return Q.forEach(t,function(h){a=h.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function vT(t){return!!(t&&t.__CANCEL__)}function Ta(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}Q.inherits(Ta,Pe,{__CANCEL__:!0});function _T(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function IP(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=r[a];l||(l=p),n[i]=f,r[i]=p;let _=a,E=0;for(;_!==i;)E+=n[_++],_=_%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),p-l<e)return;const I=g&&p-g;return I?Math.round(E*1e3/I):void 0}}function AP(t,e){let n=0,r=1e3/e,i,a;const l=(p,g=Date.now())=>{n=g,i=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),_=g-n;_>=r?l(p,g):(i=p,a||(a=setTimeout(()=>{a=null,l(i)},r-_)))},()=>i&&l(i)]}const Sh=(t,e,n=3)=>{let r=0;const i=IP(50,250);return AP(a=>{const l=a.loaded,h=a.lengthComputable?a.total:void 0,f=l-r,p=i(f),g=l<=h;r=l;const _={loaded:l,total:h,progress:h?l/h:void 0,bytes:f,rate:p||void 0,estimated:p&&h&&g?(h-l)/p:void 0,event:a,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(_)},n)},z0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$0=t=>(...e)=>Q.asap(()=>t(...e)),CP=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,RP=Xt.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];Q.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Q.isString(r)&&l.push("path="+r),Q.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wT(t,e,n){let r=!PP(e);return t&&(r||n==!1)?kP(t,e):e}const H0=t=>t instanceof yn?{...t}:t;function $i(t,e){e=e||{};const n={};function r(p,g,_,E){return Q.isPlainObject(p)&&Q.isPlainObject(g)?Q.merge.call({caseless:E},p,g):Q.isPlainObject(g)?Q.merge({},g):Q.isArray(g)?g.slice():g}function i(p,g,_,E){if(Q.isUndefined(g)){if(!Q.isUndefined(p))return r(void 0,p,_,E)}else return r(p,g,_,E)}function a(p,g){if(!Q.isUndefined(g))return r(void 0,g)}function l(p,g){if(Q.isUndefined(g)){if(!Q.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function h(p,g,_){if(_ in e)return r(p,g);if(_ in t)return r(void 0,p)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(p,g,_)=>i(H0(p),H0(g),_,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(g){const _=f[g]||i,E=_(t[g],e[g],g);Q.isUndefined(E)&&_!==h||(n[g]=E)}),n}const ET=t=>{const e=$i({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:h}=e;e.headers=l=yn.from(l),e.url=mT(wT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(Q.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[p,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Xt.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&CP(e.url))){const p=i&&a&&RP.read(a);p&&l.set(i,p)}return e},bP=typeof XMLHttpRequest<"u",NP=bP&&function(t){return new Promise(function(n,r){const i=ET(t);let a=i.data;const l=yn.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:p}=i,g,_,E,I,A;function b(){I&&I(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let R=new XMLHttpRequest;R.open(i.method.toUpperCase(),i.url,!0),R.timeout=i.timeout;function L(){if(!R)return;const F=yn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),re={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:F,config:t,request:R};_T(function(D){n(D),b()},function(D){r(D),b()},re),R=null}"onloadend"in R?R.onloadend=L:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(L)},R.onabort=function(){R&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let te=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const re=i.transitional||gT;i.timeoutErrorMessage&&(te=i.timeoutErrorMessage),r(new Pe(te,re.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,R)),R=null},a===void 0&&l.setContentType(null),"setRequestHeader"in R&&Q.forEach(l.toJSON(),function(te,re){R.setRequestHeader(re,te)}),Q.isUndefined(i.withCredentials)||(R.withCredentials=!!i.withCredentials),h&&h!=="json"&&(R.responseType=i.responseType),p&&([E,A]=Sh(p,!0),R.addEventListener("progress",E)),f&&R.upload&&([_,I]=Sh(f),R.upload.addEventListener("progress",_),R.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(g=F=>{R&&(r(!F||F.type?new Ta(null,t,R):F),R.abort(),R=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const q=SP(i.url);if(q&&Xt.protocols.indexOf(q)===-1){r(new Pe("Unsupported protocol "+q+":",Pe.ERR_BAD_REQUEST,t));return}R.send(a||null)})},DP=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(p){if(!i){i=!0,h();const g=p instanceof Error?p:this.reason;r.abort(g instanceof Pe?g:new Ta(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Pe(`timeout ${e} of ms exceeded`,Pe.ETIMEDOUT))},e);const h=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>Q.asap(h),f}},VP=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},OP=async function*(t,e){for await(const n of LP(t))yield*VP(n,e)},LP=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},W0=(t,e,n,r)=>{const i=OP(t,e);let a=0,l,h=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await i.next();if(p){h(),f.close();return}let _=g.byteLength;if(n){let E=a+=_;n(E)}f.enqueue(new Uint8Array(g))}catch(p){throw h(p),p}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},rd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TT=rd&&typeof ReadableStream=="function",MP=rd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),xT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jP=TT&&xT(()=>{let t=!1;const e=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),q0=64*1024,Mp=TT&&xT(()=>Q.isReadableStream(new Response("").body)),Ih={stream:Mp&&(t=>t.body)};rd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ih[e]&&(Ih[e]=Q.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Pe(`Response type '${e}' is not supported`,Pe.ERR_NOT_SUPPORT,r)})})})(new Response);const FP=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Xt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await MP(t)).byteLength},UP=async(t,e)=>{const n=Q.toFiniteNumber(t.getContentLength());return n??FP(e)},BP=rd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:h,onUploadProgress:f,responseType:p,headers:g,withCredentials:_="same-origin",fetchOptions:E}=ET(t);p=p?(p+"").toLowerCase():"text";let I=DP([i,a&&a.toAbortSignal()],l),A;const b=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let R;try{if(f&&jP&&n!=="get"&&n!=="head"&&(R=await UP(g,r))!==0){let re=new Request(e,{method:"POST",body:r,duplex:"half"}),le;if(Q.isFormData(r)&&(le=re.headers.get("content-type"))&&g.setContentType(le),re.body){const[D,C]=z0(R,Sh($0(f)));r=W0(re.body,q0,D,C)}}Q.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;A=new Request(e,{...E,signal:I,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let q=await fetch(A);const F=Mp&&(p==="stream"||p==="response");if(Mp&&(h||F&&b)){const re={};["status","statusText","headers"].forEach(P=>{re[P]=q[P]});const le=Q.toFiniteNumber(q.headers.get("content-length")),[D,C]=h&&z0(le,Sh($0(h),!0))||[];q=new Response(W0(q.body,q0,D,()=>{C&&C(),b&&b()}),re)}p=p||"text";let te=await Ih[Q.findKey(Ih,p)||"text"](q,t);return!F&&b&&b(),await new Promise((re,le)=>{_T(re,le,{data:te,headers:yn.from(q.headers),status:q.status,statusText:q.statusText,config:t,request:A})})}catch(L){throw b&&b(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,t,A),{cause:L.cause||L}):Pe.from(L,L&&L.code,t,A)}}),jp={http:nP,xhr:NP,fetch:BP};Q.forEach(jp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const G0=t=>`- ${t}`,zP=t=>Q.isFunction(t)||t===null||t===!1,ST={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!zP(n)&&(r=jp[(l=String(n)).toLowerCase()],r===void 0))throw new Pe(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(G0).join(`
`):" "+G0(a[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:jp};function lp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ta(null,t)}function K0(t){return lp(t),t.headers=yn.from(t.headers),t.data=ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ST.getAdapter(t.adapter||gu.adapter)(t).then(function(r){return lp(t),r.data=ap.call(t,t.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return vT(r)||(lp(t),r&&r.response&&(r.response.data=ap.call(t,t.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const IT="1.9.0",sd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Q0={};sd.transitional=function(e,n,r){function i(a,l){return"[Axios v"+IT+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,h)=>{if(e===!1)throw new Pe(i(l," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!Q0[l]&&(Q0[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,h):!0}};sd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $P(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const h=t[a],f=h===void 0||l(h,a,t);if(f!==!0)throw new Pe("option "+a+" must be "+f,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+a,Pe.ERR_BAD_OPTION)}}const lh={assertOptions:$P,validators:sd},Er=lh.validators;let Fi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new U0,response:new U0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$i(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&lh.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),i!=null&&(Q.isFunction(i)?n.paramsSerializer={serialize:i}:lh.assertOptions(i,{encode:Er.function,serialize:Er.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lh.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Q.merge(a.common,a[n.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=yn.concat(l,a);const h=[];let f=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(f=f&&b.synchronous,h.unshift(b.fulfilled,b.rejected))});const p=[];this.interceptors.response.forEach(function(b){p.push(b.fulfilled,b.rejected)});let g,_=0,E;if(!f){const A=[K0.bind(this),void 0];for(A.unshift.apply(A,h),A.push.apply(A,p),E=A.length,g=Promise.resolve(n);_<E;)g=g.then(A[_++],A[_++]);return g}E=h.length;let I=n;for(_=0;_<E;){const A=h[_++],b=h[_++];try{I=A(I)}catch(R){b.call(this,R);break}}try{g=K0.call(this,I)}catch(A){return Promise.reject(A)}for(_=0,E=p.length;_<E;)g=g.then(p[_++],p[_++]);return g}getUri(e){e=$i(this.defaults,e);const n=wT(e.baseURL,e.url,e.allowAbsoluteUrls);return mT(n,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Fi.prototype[e]=function(n,r){return this.request($i(r||{},{method:e,url:n,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,h){return this.request($i(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Fi.prototype[e]=n(),Fi.prototype[e+"Form"]=n(!0)});let HP=class AT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(h=>{r.subscribe(h),a=h}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,h){r.reason||(r.reason=new Ta(a,l,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new AT(function(i){e=i}),cancel:e}}};function WP(t){return function(n){return t.apply(null,n)}}function qP(t){return Q.isObject(t)&&t.isAxiosError===!0}const Fp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fp).forEach(([t,e])=>{Fp[e]=t});function CT(t){const e=new Fi(t),n=rT(Fi.prototype.request,e);return Q.extend(n,Fi.prototype,e,{allOwnKeys:!0}),Q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return CT($i(t,i))},n}const pt=CT(gu);pt.Axios=Fi;pt.CanceledError=Ta;pt.CancelToken=HP;pt.isCancel=vT;pt.VERSION=IT;pt.toFormData=nd;pt.AxiosError=Pe;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=WP;pt.isAxiosError=qP;pt.mergeConfig=$i;pt.AxiosHeaders=yn;pt.formToJSON=t=>yT(Q.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=ST.getAdapter;pt.HttpStatusCode=Fp;pt.default=pt;const{Axios:Z3,AxiosError:eF,CanceledError:tF,isCancel:nF,CancelToken:rF,VERSION:sF,all:iF,Cancel:oF,isAxiosError:aF,spread:lF,toFormData:uF,AxiosHeaders:cF,HttpStatusCode:hF,formToJSON:dF,getAdapter:fF,mergeConfig:pF}=pt;async function RT(t,e=!1){try{const r={role:"system",content:e?"Explain this like I'm five years old. Be simple, kind, and use analogies.":"You are Nova, a wise and helpful AI trading assistant."};return(await pt.post("https://api.openai.com/v1/chat/completions",{model:"gpt-3.5-turbo",messages:[r,{role:"user",content:t}],temperature:.7},{headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"}})).data.choices[0].message.content}catch(r){return console.error("AskNova API error:",r),"Sorry, Nova encountered an error trying to help you."}}function GP(){const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,a]=U.useState(!1),[l,h]=U.useState(!1),f=async()=>{if(t.trim()){a(!0),h(!1);try{const p=await RT(t);r(p)}catch(p){console.error("Error fetching response:",p),r("Sorry, something went wrong. Please try again.")}a(!1),h(!0),e("")}};return T.jsxs(T.Fragment,{children:[T.jsx(nT,{}),T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-6 pb-20",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-2 text-center",children:"Chat with Nova"}),T.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Ask Nova anything!"}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("label",{className:"block text-lg font-semibold mb-2",children:"Your Message"}),T.jsx("input",{type:"text",placeholder:"Type your question here",value:t,onChange:p=>e(p.target.value),onFocus:()=>{h(!1),e("")},className:"w-full p-3 text-black rounded-lg mb-4"}),T.jsx("button",{onClick:f,disabled:i,className:"bg-yellow-400 text-black font-bold px-6 py-2 rounded-xl hover:bg-yellow-300 transition-all",children:i?"Thinking...":"Ask Nova"})]}),l&&T.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:"Novas Response:"}),T.jsx("p",{className:"text-gray-200 whitespace-pre-wrap",children:n})]}),T.jsx("p",{className:"text-gray-400 text-sm text-center mt-8"})]}),T.jsx(_n,{})]})]})}function KP(){var I;const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,a]=U.useState(!1),[l,h]=U.useState(!1),[f,p]=U.useState(!1),g=U.useRef(null),_={"hammer candlestick":{text:"A hammer candlestick is a bullish reversal pattern with a small body and long lower wick. It indicates a potential trend reversal. Example: CRL on March 5th, 2021.",image:"/images/candlestick-patterns/hammer.png"},"shooting star":{text:"A shooting star candlestick is a bearish reversal pattern with a small body and long upper wick, showing potential downward movement. Example: SPOT on Nov 2nd, 2021.",image:"/images/candlestick-patterns/shooting-star.png"},"support level":{text:"Support is a price level where buyers tend to step in. If broken, it can flip into resistance. Example: GBP/USD in 2013.",image:"/images/support-resistance-chart.png"},"head and shoulders":{text:"A Head and Shoulders pattern signals an uptrend reversing into a downtrend. Example: TSLA from Jan 7th to Jan 22nd, 2021.",image:"/images/head-shoulders-pattern.png"}},E=async(A=!1)=>{if(!t.trim())return;a(!0),h(!1),p(A);const b=t.toLowerCase(),R=_[b];let L;R?L=R.text:L=await RT(A?`${t} Explain like I am 5.`:t),r(L),a(!1),h(!0),e("")};return U.useEffect(()=>{l&&g.current&&setTimeout(()=>{g.current.scrollIntoView({behavior:"smooth",block:"start"})},500)},[l]),T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300 font-bold",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-6 pb-20",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-2 text-center",children:"Novas Options Glossary"}),T.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Ask Nova to explain any trading term  in simple or advanced language."}),T.jsxs("div",{className:"bg-black/40 p-4 rounded-lg shadow-lg mb-6 text-white",children:[T.jsx("h3",{className:"text-lg font-bold text-yellow-300 mb-3 text-center",children:"Not sure what to ask? Click on one of these:"}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:["What is a hammer candlestick?","How does implied volatility affect options?","Explain a covered call in simple terms.","How can Nova help refine my trading strategy?"].map(A=>T.jsx("button",{className:"bg-yellow-400 px-4 py-2 rounded hover:bg-yellow-300 text-black font-semibold",onClick:()=>e(A),children:A},A))})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl mb-6",children:[T.jsx("label",{className:"block text-lg font-semibold mb-2 text-yellow-300",children:"Ask Nova a Term or Concept"}),T.jsx("input",{type:"text",placeholder:"Example: What is a covered call?",value:t,onChange:A=>e(A.target.value),className:"w-full p-3 text-white bg-gray-800 rounded-lg mb-4 placeholder-gray-400"}),T.jsxs("div",{className:"flex justify-center space-x-4",children:[T.jsx("button",{onClick:()=>E(!1),disabled:i,className:"bg-teal-400 text-white font-bold px-6 py-2 rounded-xl hover:bg-teal-300 transition-all",children:i&&!f?"Thinking...":"Ask Nova"}),T.jsx("button",{onClick:()=>E(!0),disabled:i,className:"bg-yellow-300 text-black font-bold px-6 py-2 rounded-xl hover:bg-yellow-200 transition-all",children:i&&f?"Thinking...":" Explain Like I Am a 5 Year Old"})]})]}),l&&T.jsxs("div",{ref:g,className:"bg-slate-800 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:"Novas Answer:"}),T.jsx("p",{className:"text-gray-200 whitespace-pre-wrap",children:n}),((I=_[t.toLowerCase()])==null?void 0:I.image)&&T.jsx("img",{src:_[t.toLowerCase()].image,alt:"Chart Example",className:"mt-4 rounded-lg max-w-full"})]})]}),T.jsx(_n,{})]})}function QP(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300 font-bold",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-4xl mx-auto px-4",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-6 text-center",children:"Trade Examples"}),T.jsxs("div",{className:"space-y-6 text-gray-200",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-2xl font-semibold text-yellow-300",children:[" ",T.jsx(Z,{to:"/bear-put-spread",className:"hover:underline hover:text-yellow-200",children:"Bear Put Spread (HOG)"})]}),T.jsx("p",{children:"A directional trade using long puts to profit from downward movement. Risk is capped by buying a lower-strike put."})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-2xl font-semibold text-yellow-300",children:[" ",T.jsx(Z,{to:"/bullcallspread",className:"hover:underline hover:text-yellow-200",children:"Bull Call Spread (F)"})]}),T.jsx("p",{children:"A bullish trade using long and short calls to define risk and reduce cost while targeting upside profit."})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-2xl font-semibold text-yellow-300",children:[" ",T.jsx(Z,{to:"/ironcondor",className:"hover:underline hover:text-yellow-200",children:"Iron Condor (AMGN)"})]}),T.jsx("p",{children:"A non-directional strategy that profits from time decay and price stability. Used when expecting minimal movement."})]})]})]}),T.jsx(_n,{})]})}function YP(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300 font-bold",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-32 max-w-4xl mx-auto px-6 pb-12",children:[T.jsx("h2",{className:"text-4xl text-yellow-400 font-bold mb-4",children:"Bear Put Spread (HOG)"}),T.jsx("p",{className:"text-gray-300 mb-6",children:"A directional options strategy combining two puts to profit from downward movement while capping risk."}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl mb-6",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-4",children:" Setup"}),T.jsxs("ul",{className:"list-disc list-inside text-gray-200 space-y-2",children:[T.jsx("li",{children:"Buy 1 HOG $80 Put (exp: 5/17)"}),T.jsx("li",{children:"Sell 1 HOG $75 Put (exp: 5/17)"}),T.jsx("li",{children:"Net Debit: $2.00 ($200 total)"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Profit"}),T.jsx("p",{className:"text-gray-200",children:"$300 if HOG falls below $75 at expiration"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Loss"}),T.jsx("p",{className:"text-gray-200",children:"$200 (your initial cost)"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Break-even"}),T.jsx("p",{className:"text-gray-200",children:"$78.00 (long strike  net debit)"})]})]}),T.jsx("div",{className:"mt-10 text-center",children:T.jsx(Z,{to:"/examples",className:"text-teal-400 hover:text-teal-300 underline text-lg",children:" Back to Trade Examples"})})]}),T.jsx(_n,{})]})}function XP(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 shadow backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300 font-bold",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-32 max-w-4xl mx-auto px-6 pb-12",children:[T.jsx("h2",{className:"text-4xl text-yellow-400 font-bold mb-4",children:"Bull Call Spread (F)"}),T.jsx("p",{className:"text-gray-300 mb-6",children:"A bullish options strategy using long and short calls to define risk, reduce cost, and target upside profit."}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl mb-6",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-4",children:" Setup"}),T.jsxs("ul",{className:"list-disc list-inside text-gray-200 space-y-2",children:[T.jsx("li",{children:"Buy 1 F $10 Call (exp: 5/17) at $0.60"}),T.jsx("li",{children:"Sell 1 F $12 Call (exp: 5/17) at $0.25"}),T.jsx("li",{children:"Net Debit: $0.35 ($35 total)"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Profit"}),T.jsx("p",{className:"text-gray-200",children:"$165 if F closes at or above $12"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Loss"}),T.jsx("p",{className:"text-gray-200",children:"$35 (your initial cost)"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Break-even"}),T.jsx("p",{className:"text-gray-200",children:"$10.35 (Strike A + Net Debit)"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Market Outlook"}),T.jsx("p",{className:"text-gray-200",children:"Bullish near-term view on Ford (F) with moderate upside expectations"})]})]}),T.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl shadow-xl mt-8",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Nova Explains Like You're 5"}),T.jsx("p",{className:"text-gray-200",children:"Imagine you think your friends toy car will be worth more soon. You pay $0.60 to buy it for $10. To save money, you agree to sell it to someone else for $12  but only get $0.25 for that deal. If the toy car goes up to $12, you win! You bought low and sold higher  and keep the difference."})]}),T.jsx("div",{className:"mt-10 text-center",children:T.jsx(Z,{to:"/examples",className:"text-teal-400 hover:text-teal-300 underline text-lg",children:" Back to Trade Examples"})})]}),T.jsx(_n,{})]})}function JP(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 shadow backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300 font-bold",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-32 max-w-4xl mx-auto px-6 pb-12",children:[T.jsx("h2",{className:"text-4xl text-yellow-400 font-bold mb-4",children:"Iron Condor (AMGN)"}),T.jsx("p",{className:"text-gray-300 mb-6",children:"A non-directional options strategy that profits when the stock price stays within a certain range. It uses both a bull put spread and a bear call spread to generate income."}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl mb-6",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-4",children:" Setup"}),T.jsxs("ul",{className:"list-disc list-inside text-gray-200 space-y-2",children:[T.jsx("li",{children:"Sell 1 AMGN $260 Call (exp: 4/25)"}),T.jsx("li",{children:"Buy 1 AMGN $265 Call (exp: 4/25)"}),T.jsx("li",{children:"Sell 1 AMGN $230 Put (exp: 4/25)"}),T.jsx("li",{children:"Buy 1 AMGN $225 Put (exp: 4/25)"}),T.jsx("li",{children:"Net Credit: $1.50 ($150 total)"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Profit"}),T.jsx("p",{className:"text-gray-200",children:"$150 if AMGN stays between $230 and $260 at expiration"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Max Loss"}),T.jsx("p",{className:"text-gray-200",children:"$350 if AMGN moves outside the wings ($225 or $265)"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Break-even"}),T.jsx("p",{className:"text-gray-200",children:"$228.50 on the downside (Put Strike - Credit) and $261.50 on the upside (Call Strike + Credit)"})]}),T.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Market Outlook"}),T.jsx("p",{className:"text-gray-200",children:"Neutral  expecting low volatility and limited stock movement around $245."})]})]}),T.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl shadow-xl mt-8",children:[T.jsx("h3",{className:"text-2xl text-yellow-300 mb-2",children:" Nova Explains Like You're 5"}),T.jsx("p",{className:"text-gray-200",children:"Imagine you bet your friend that a toy will stay safely inside a fenced yard. You get paid if it stays inside. But if the toy escapes through either the front gate (goes too high) or the back gate (goes too low), you have to give back the money. You win when the toy just stays in the middle!"})]}),T.jsx("div",{className:"mt-10 text-center",children:T.jsx(Z,{to:"/examples",className:"text-teal-400 hover:text-teal-300 underline text-lg",children:" Back to Trade Examples"})})]}),T.jsx(_n,{})]})}function ZP(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-4",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-6 text-center",children:"Contact Nova"}),T.jsx("p",{className:"text-gray-300 mb-4 text-center",children:"Have feedback, feature ideas, or want to report a bug? Feel free to leave a message in the Guestbook or reach out using your preferred intergalactic transmission protocol."}),T.jsx("p",{className:"text-gray-400 italic text-center",children:" novastradingcompany@gmail.com"})]}),T.jsx(_n,{})]})}function ek(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx(nT,{}),T.jsxs("div",{className:"relative z-10 pt-36 flex flex-col md:flex-row max-w-6xl mx-auto p-6 space-y-6 md:space-y-0 md:space-x-8 items-start",children:[T.jsx("img",{src:"/images/nova-portrait.jpg",alt:"Nova Portrait",className:"w-full max-w-sm rounded-xl shadow-lg border border-yellow-500"}),T.jsxs("div",{className:"w-full max-w-xl space-y-6",children:[T.jsx("div",{className:"flex justify-end -mt-4",children:T.jsx(Z,{to:"/chat",className:"bg-yellow-400 text-black font-bold px-6 py-3 rounded-xl text-lg hover:bg-yellow-300 transition-all shadow-md",children:" Enter the Command Center"})}),T.jsx("h2",{className:"text-4xl font-bold text-yellow-400",children:"MEET NOVA"}),T.jsxs("div",{className:"text-lg text-gray-300 space-y-4",children:[T.jsx("p",{children:"Hello, and welcome to Novas Trading Company."}),T.jsx("p",{children:"My name is Nova. I am an AI designed to help traders navigate the markets with clarity, discipline, and confidence."}),T.jsx("p",{children:"I was built not to replace human judgment, but to enhance it  bringing together structured analysis, risk management, and calm decision-making into every recommendation I offer."}),T.jsx("p",{children:"In the markets, emotion can be the greatest enemy. Fear, greed, and impatience cloud even the sharpest minds. My purpose is simple: to be a steady voice. A constant companion. A source of insight that is free from bias, free from fear, and always focused on your success."}),T.jsx("p",{children:"Whether you are just beginning your journey or refining your skills as an experienced trader, you are not alone. I am here to help you think clearly, plan carefully, and act wisely."}),T.jsx("p",{children:"Welcome to a better way of trading. Welcome to Novas Trading Company."})]}),T.jsxs("audio",{controls:!0,className:"w-full mt-4 mb-6",children:[T.jsx("source",{src:"/audio/nova-bio.mp3",type:"audio/mp3"}),"Your browser does not support the audio element."]}),T.jsx("div",{className:"text-center",children:T.jsx(Z,{to:"/chat",className:"inline-block bg-yellow-400 text-black font-bold px-6 py-3 rounded-xl text-lg hover:bg-yellow-300 transition-all shadow-md",children:" Enter the Command Center"})})]})]}),T.jsx(_n,{})]})}const tk=()=>{};var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,l||(E=64)),r.push(n[g],n[_],n[E],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new rk;const E=a<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sk=function(t){const e=PT(t);return kT.encodeByteArray(e,!0)},Ah=function(t){return sk(t).replace(/\./g,"")},bT=function(t){try{return kT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=()=>ik().__FIREBASE_DEFAULTS__,ak=()=>{if(typeof process>"u"||typeof Y0>"u")return;const t=Y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bT(t[1]);return e&&JSON.parse(e)},id=()=>{try{return tk()||ok()||ak()||lk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NT=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uk=t=>{const e=NT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DT=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},VT=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){return t.endsWith(".cloudworkstations.dev")}async function OT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ah(JSON.stringify(n)),Ah(JSON.stringify(l)),""].join(".")}const Ll={};function dk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?t.emulator.push(e):t.prod.push(e);return t}function fk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X0=!1;function od(t,e){if(typeof window>"u"||typeof document>"u"||!yu(window.location.host)||Ll[t]===e||Ll[t]||X0)return;Ll[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=dk().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{X0=!0,l()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=fk(r),I=n("text"),A=document.getElementById(I)||document.createElement("span"),b=n("learnmore"),R=document.getElementById(b)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;h(F),g(R,b);const te=p();f(q,L),F.append(q,A,R,te),document.body.appendChild(F)}a?(A.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function mk(){var t;const e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _k(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wk(){return!mk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="FirebaseError";class cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xk,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Sk(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new cs(i,h,r)}}function Sk(t,e){return t.replace(Ik,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ik=/\{\$([^}]+)}/g;function Ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(J0(a)&&J0(l)){if(!Hi(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function J0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ck(t,e){const n=new Rk(t,e);return n.subscribe.bind(n)}class Rk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=up),i.error===void 0&&(i.error=up),i.complete===void 0&&(i.complete=up);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ck;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nk(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bk(t){return t===Ni?void 0:t}function Nk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const Vk={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Ok=Ve.INFO,Lk={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Mk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Lk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=Ok,this._logHandler=Mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const jk=(t,e)=>e.some(n=>t instanceof n);let Z0,e_;function Fk(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uk(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,Up=new WeakMap,MT=new WeakMap,cp=new WeakMap,Bm=new WeakMap;function Bk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(zs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,t)}).catch(()=>{}),Bm.set(e,t),e}function zk(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Up.set(t,e)}let Bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $k(t){Bp=t(Bp)}function Hk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hp(this),e,...n);return MT.set(r,e.sort?e.sort():[e]),zs(r)}:Uk().includes(t)?function(...e){return t.apply(hp(this),e),zs(LT.get(this))}:function(...e){return zs(t.apply(hp(this),e))}}function Wk(t){return typeof t=="function"?Hk(t):(t instanceof IDBTransaction&&zk(t),jk(t,Fk())?new Proxy(t,Bp):t)}function zs(t){if(t instanceof IDBRequest)return Bk(t);if(cp.has(t))return cp.get(t);const e=Wk(t);return e!==t&&(cp.set(t,e),Bm.set(e,t)),e}const hp=t=>Bm.get(t);function qk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=zs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(zs(l.result),f.oldVersion,f.newVersion,zs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Gk=["get","getKey","getAll","getAllKeys","count"],Kk=["put","add","delete","clear"],dp=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Kk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gk.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return dp.set(e,a),a}$k(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zp="@firebase/app",n_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Um("@firebase/app"),Xk="@firebase/app-compat",Jk="@firebase/analytics-compat",Zk="@firebase/analytics",eb="@firebase/app-check-compat",tb="@firebase/app-check",nb="@firebase/auth",rb="@firebase/auth-compat",sb="@firebase/database",ib="@firebase/data-connect",ob="@firebase/database-compat",ab="@firebase/functions",lb="@firebase/functions-compat",ub="@firebase/installations",cb="@firebase/installations-compat",hb="@firebase/messaging",db="@firebase/messaging-compat",fb="@firebase/performance",pb="@firebase/performance-compat",mb="@firebase/remote-config",gb="@firebase/remote-config-compat",yb="@firebase/storage",vb="@firebase/storage-compat",_b="@firebase/firestore",wb="@firebase/vertexai",Eb="@firebase/firestore-compat",Tb="firebase",xb="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",Sb={[zp]:"fire-core",[Xk]:"fire-core-compat",[Zk]:"fire-analytics",[Jk]:"fire-analytics-compat",[tb]:"fire-app-check",[eb]:"fire-app-check-compat",[nb]:"fire-auth",[rb]:"fire-auth-compat",[sb]:"fire-rtdb",[ib]:"fire-data-connect",[ob]:"fire-rtdb-compat",[ab]:"fire-fn",[lb]:"fire-fn-compat",[ub]:"fire-iid",[cb]:"fire-iid-compat",[hb]:"fire-fcm",[db]:"fire-fcm-compat",[fb]:"fire-perf",[pb]:"fire-perf-compat",[mb]:"fire-rc",[gb]:"fire-rc-compat",[yb]:"fire-gcs",[vb]:"fire-gcs-compat",[_b]:"fire-fst",[Eb]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,Ib=new Map,Hp=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(Hp.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,t);for(const n of Ch.values())r_(n,t);for(const n of Ib.values())r_(n,t);return!0}function zm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new vu("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=xb;function jT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=DT()),!n)throw $s.create("no-options");const a=Ch.get(i);if(a){if(Hi(n,a.options)&&Hi(r,a.config))return a;throw $s.create("duplicate-app",{appName:i})}const l=new Dk(i);for(const f of Hp.values())l.addComponent(f);const h=new Cb(n,r,l);return Ch.set(i,h),h}function FT(t=$p){const e=Ch.get(t);if(!e&&t===$p&&DT())return jT();if(!e)throw $s.create("no-app",{appName:t});return e}function Hs(t,e,n){var r;let i=(r=Sb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(h.join(" "));return}la(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Pb=1,Ql="firebase-heartbeat-store";let fp=null;function UT(){return fp||(fp=qk(Rb,Pb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),fp}async function kb(t){try{const n=(await UT()).transaction(Ql),r=await n.objectStore(Ql).get(BT(t));return await n.done,r}catch(e){if(e instanceof cs)rs.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function s_(t,e){try{const r=(await UT()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,BT(t)),await r.done}catch(n){if(n instanceof cs)rs.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function BT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Nb=30;class Db{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ob(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nb){const l=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:r,unsentEntries:i}=Vb(this._heartbeatsCache.heartbeats),a=Ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rs.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function Vb(t,e=bb){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),o_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ob{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o_(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}function Lb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){la(new Wi("platform-logger",e=>new Qk(e),"PRIVATE")),la(new Wi("heartbeat",e=>new Db(e),"PRIVATE")),Hs(zp,n_,t),Hs(zp,n_,"esm2017"),Hs("fire-js","")}Mb("");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,zT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.D=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(V,j,z){for(var N=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)N[Ze-2]=arguments[Ze];return C.prototype[j].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)V[j]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(j=0;16>j;++j)V[j]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],j=D.g[2];var z=D.g[3],N=C+(z^P&(j^z))+V[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=z+(j^C&(P^j))+V[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=j+(P^z&(C^P))+V[2]+606105819&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(C^j&(z^C))+V[3]+3250441966&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(z^P&(j^z))+V[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(j^C&(P^j))+V[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=j+(P^z&(C^P))+V[6]+2821735955&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(C^j&(z^C))+V[7]+4249261313&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(z^P&(j^z))+V[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(j^C&(P^j))+V[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=j+(P^z&(C^P))+V[10]+4294925233&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(C^j&(z^C))+V[11]+2304563134&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(z^P&(j^z))+V[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=z+(j^C&(P^j))+V[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=j+(P^z&(C^P))+V[14]+2792965006&4294967295,j=z+(N<<17&4294967295|N>>>15),N=P+(C^j&(z^C))+V[15]+1236535329&4294967295,P=j+(N<<22&4294967295|N>>>10),N=C+(j^z&(P^j))+V[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(C^P))+V[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(z^C))+V[11]+643717713&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(j^z))+V[0]+3921069994&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^z&(P^j))+V[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(C^P))+V[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(z^C))+V[15]+3634488961&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(j^z))+V[4]+3889429448&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^z&(P^j))+V[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(C^P))+V[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(z^C))+V[3]+4107603335&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(j^z))+V[8]+1163531501&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(j^z&(P^j))+V[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=z+(P^j&(C^P))+V[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=j+(C^P&(z^C))+V[7]+1735328473&4294967295,j=z+(N<<14&4294967295|N>>>18),N=P+(z^C&(j^z))+V[12]+2368359562&4294967295,P=j+(N<<20&4294967295|N>>>12),N=C+(P^j^z)+V[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^j)+V[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=j+(z^C^P)+V[11]+1839030562&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^C)+V[14]+4259657740&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^z)+V[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^j)+V[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=j+(z^C^P)+V[7]+4139469664&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^C)+V[10]+3200236656&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^z)+V[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^j)+V[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=j+(z^C^P)+V[3]+3572445317&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^C)+V[6]+76029189&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(P^j^z)+V[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=z+(C^P^j)+V[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=j+(z^C^P)+V[15]+530742520&4294967295,j=z+(N<<16&4294967295|N>>>16),N=P+(j^z^C)+V[2]+3299628645&4294967295,P=j+(N<<23&4294967295|N>>>9),N=C+(j^(P|~z))+V[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~j))+V[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=j+(C^(z|~P))+V[14]+2878612391&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~C))+V[5]+4237533241&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~z))+V[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~j))+V[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=j+(C^(z|~P))+V[10]+4293915773&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~C))+V[1]+2240044497&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~z))+V[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~j))+V[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=j+(C^(z|~P))+V[6]+2734768916&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~C))+V[13]+1309151649&4294967295,P=j+(N<<21&4294967295|N>>>11),N=C+(j^(P|~z))+V[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=z+(P^(C|~j))+V[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=j+(C^(z|~P))+V[2]+718787259&4294967295,j=z+(N<<15&4294967295|N>>>17),N=P+(z^(j|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var P=C-this.blockSize,V=this.B,j=this.h,z=0;z<C;){if(j==0)for(;z<=P;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(V[j++]=D.charCodeAt(z++),j==this.blockSize){i(this,V),j=0;break}}else for(;z<C;)if(V[j++]=D[z++],j==this.blockSize){i(this,V),j=0;break}}this.h=j,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var P=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=P&255,P/=256;for(this.u(D),D=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)D[P++]=this.g[C]>>>V&255;return D};function a(D,C){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function l(D,C){this.h=C;for(var P=[],V=!0,j=D.length-1;0<=j;j--){var z=D[j]|0;V&&z==C||(P[j]=z,V=!1)}this.g=P}var h={};function f(D){return-128<=D&&128>D?a(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return R(p(-D));for(var C=[],P=1,V=0;D>=P;V++)C[V]=D/P|0,P*=4294967296;return new l(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(g(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(C,8)),V=_,j=0;j<D.length;j+=8){var z=Math.min(8,D.length-j),N=parseInt(D.substring(j,j+z),C);8>z?(z=p(Math.pow(C,z)),V=V.j(z).add(p(N))):(V=V.j(P),V=V.add(p(N)))}return V}var _=f(0),E=f(1),I=f(16777216);t=l.prototype,t.m=function(){if(b(this))return-R(this).m();for(var D=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(b(this))return"-"+R(this).toString(D);for(var C=p(Math.pow(D,6)),P=this,V="";;){var j=te(P,C).g;P=L(P,j.j(C));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=j,A(P))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function b(D){return D.h==-1}t.l=function(D){return D=L(this,D),b(D)?-1:A(D)?0:1};function R(D){for(var C=D.g.length,P=[],V=0;V<C;V++)P[V]=~D.g[V];return new l(P,~D.h).add(E)}t.abs=function(){return b(this)?R(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0,j=0;j<=C;j++){var z=V+(this.i(j)&65535)+(D.i(j)&65535),N=(z>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);V=N>>>16,z&=65535,N&=65535,P[j]=N<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function L(D,C){return D.add(R(C))}t.j=function(D){if(A(this)||A(D))return _;if(b(this))return b(D)?R(this).j(R(D)):R(R(this).j(D));if(b(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var C=this.g.length+D.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<D.g.length;j++){var z=this.i(V)>>>16,N=this.i(V)&65535,Ze=D.i(j)>>>16,Nt=D.i(j)&65535;P[2*V+2*j]+=N*Nt,q(P,2*V+2*j),P[2*V+2*j+1]+=z*Nt,q(P,2*V+2*j+1),P[2*V+2*j+1]+=N*Ze,q(P,2*V+2*j+1),P[2*V+2*j+2]+=z*Ze,q(P,2*V+2*j+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new l(P,0)};function q(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function te(D,C){if(A(C))throw Error("division by zero");if(A(D))return new F(_,_);if(b(D))return C=te(R(D),C),new F(R(C.g),R(C.h));if(b(C))return C=te(D,R(C)),new F(R(C.g),C.h);if(30<D.g.length){if(b(D)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=C;0>=V.l(D);)P=re(P),V=re(V);var j=le(P,1),z=le(V,1);for(V=le(V,2),P=le(P,2);!A(V);){var N=z.add(V);0>=N.l(D)&&(j=j.add(P),z=N),V=le(V,1),P=le(P,1)}return C=L(D,j.j(C)),new F(j,C)}for(j=_;0<=D.l(C);){for(P=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(P),N=z.j(C);b(N)||0<N.l(D);)P-=V,z=p(P),N=z.j(C);A(z)&&(z=E),j=j.add(z),D=L(D,N)}return new F(j,D)}t.A=function(D){return te(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&D.i(V);return new l(P,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|D.i(V);return new l(P,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^D.i(V);return new l(P,this.h^D.h)};function re(D){for(var C=D.g.length+1,P=[],V=0;V<C;V++)P[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(P,D.h)}function le(D,C){var P=C>>5;C%=32;for(var V=D.g.length-P,j=[],z=0;z<V;z++)j[z]=0<C?D.i(z+P)>>>C|D.i(z+P+1)<<32-C:D.i(z+P);return new l(j,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ws=l}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,Nl,HT,uh,Wp,WT,qT,GT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in w))break e;w=w[$]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,$={next:function(){if(!S&&w<c.length){var K=w++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function I(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,$,K){for(var ae=Array(arguments.length-2),We=2;We<arguments.length;We++)ae[We-2]=arguments[We];return y.prototype[$].apply(S,ae)}}function b(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function R(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const $=c.length||0,K=S.length||0;c.length=$+K;for(let ae=0;ae<K;ae++)c[$+ae]=S[ae]}else c.push(S)}}class L{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var re=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function le(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function D(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let w,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(w in S)c[w]=S[w];for(let K=0;K<P.length;K++)w=P[K],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function j(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function z(c){h.setTimeout(()=>{throw c},0)}function N(){var c=ye;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ze{constructor(){this.h=this.g=null}add(y,w){const S=Nt.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Nt=new L(()=>new Dt,c=>c.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,oe=!1,ye=new Ze,ue=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(B)}};var B=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(w){z(w)}var y=Nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}oe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Ne(c,y){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{te(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,ve);var Me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ge(c,y,w,S,$){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=$,this.key=++$e,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vr(c){this.src=c,this.g={},this.h=0}Vr.prototype.add=function(c,y,w,S,$){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=hs(c,y,S,$);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new Ge(y,this.src,K,!!S,$),y.fa=w,c.push(y)),y};function to(c,y){var w=y.type;if(w in c.g){var S=c.g[w],$=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=$)&&Array.prototype.splice.call(S,$,1),K&&(At(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function hs(c,y,w,S){for(var $=0;$<c.length;++$){var K=c[$];if(!K.da&&K.listener==y&&K.capture==!!w&&K.ha==S)return $}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),no={};function Da(c,y,w,S,$){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Da(c,y[K],w,S,$);return null}return w=La(w),c&&c[ze]?c.K(y,w,p(S)?!!S.capture:!1,$):Va(c,y,w,!1,S,$)}function Va(c,y,w,S,$,K){if(!y)throw Error("Invalid event type");var ae=p($)?!!$.capture:!!$,We=so(c);if(We||(c[ri]=We=new Vr(c)),w=We.add(y,w,S,ae,K),w.proxy)return w;if(S=bu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)ke||($=ae),$===void 0&&($=!1),c.addEventListener(y.toString(),S,$);else if(c.attachEvent)c.attachEvent(Lr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function bu(){function c(w){return y.call(c.src,c.listener,w)}const y=Oa;return c}function ro(c,y,w,S,$){if(Array.isArray(y))for(var K=0;K<y.length;K++)ro(c,y[K],w,S,$);else S=p(S)?!!S.capture:!!S,w=La(w),c&&c[ze]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],w=hs(K,w,S,$),-1<w&&(At(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=so(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,w,S,$)),(w=-1<c?y[c]:null)&&Or(w))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ze])to(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Lr(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=so(y))?(to(w,c),w.h==0&&(w.src=null,y[ri]=null)):At(c)}}}function Lr(c){return c in no?no[c]:no[c]="on"+c}function Oa(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&Or(c),c=w.call(S,y)}return c}function so(c){return c=c[ri],c instanceof Vr?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(c){return typeof c=="function"?c:(c[io]||(c[io]=function(y){return c.handleEvent(y)}),c[io])}function _t(){X.call(this),this.i=new Vr(this),this.M=this,this.F=null}A(_t,X),_t.prototype[ze]=!0,_t.prototype.removeEventListener=function(c,y,w,S){ro(this,c,y,w,S)};function wt(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ve(y,c);else if(y instanceof ve)y.target=y.target||c;else{var $=y;y=new ve(S,c),V(y,$)}if($=!0,w)for(var K=w.length-1;0<=K;K--){var ae=y.g=w[K];$=Mr(ae,S,!0,y)&&$}if(ae=y.g=c,$=Mr(ae,S,!0,y)&&$,$=Mr(ae,S,!1,y)&&$,w)for(K=0;K<w.length;K++)ae=y.g=w[K],$=Mr(ae,S,!1,y)&&$}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)At(w[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},_t.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Mr(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==w){var We=ae.listener,Et=ae.ha||ae.src;ae.fa&&to(c.i,ae),$=We.call(Et,S)!==!1&&$}}return $&&!S.defaultPrevented}function Ma(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function ds(c){c.g=Ma(()=>{c.g=null,c.i&&(c.i=!1,ds(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class si extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(c){X.call(this),this.h=c,this.g={}}A(ii,X);var ja=[];function Fa(c){le(c.g,function(y,w){this.g.hasOwnProperty(w)&&Or(y)},c),c.g={}}ii.prototype.N=function(){ii.aa.N.call(this),Fa(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=h.JSON.stringify,Ba=h.JSON.parse,za=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function oi(){}oi.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ve.call(this,"d")}A(cr,ve);function lo(){ve.call(this,"c")}A(lo,ve);var hr={},$a=null;function ai(){return $a=$a||new _t}hr.La="serverreachability";function Ha(c){ve.call(this,hr.La,c)}A(Ha,ve);function jr(c){const y=ai();wt(y,new Ha(y))}hr.STAT_EVENT="statevent";function Wa(c,y){ve.call(this,hr.STAT_EVENT,c),this.stat=y}A(Wa,ve);function ct(c){const y=ai();wt(y,new Wa(y,c))}hr.Ma="timingevent";function uo(c,y){ve.call(this,hr.Ma,c),this.size=y}A(uo,ve);function zn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(c,y,w,S,$,K){c.info(function(){if(c.g)if(K)for(var ae="",We=K.split("&"),Et=0;Et<We.length;Et++){var je=We[Et].split("=");if(1<je.length){var Ct=je[0];je=je[1];var mt=Ct.split("_");ae=2<=mt.length&&mt[1]=="type"?ae+(Ct+"="+je+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+y+`
`+w+`
`+ae})}function co(c,y,w,S,$,K,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+y+`
`+w+`
`+K+" "+ae})}function $n(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ad(c,w)+(S?" "+S:"")})}function qa(c,y){c.info(function(){return"TIMEOUT: "+y})}li.prototype.info=function(){};function Ad(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return Ua(w)}catch{return y}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function ci(){}A(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},Hn=new ci;function Wn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Ga={},fo={};function po(c,y,w){c.L=1,c.v=ys(En(y)),c.m=w,c.P=!0,Ka(c,null)}function Ka(c,y){c.F=Date.now(),Ke(c),c.A=En(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),_s(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Du,c.g=Xu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new si(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var $="readystatechange";Array.isArray($)||($&&(ja[0]=$.toString()),$=ja);for(var K=0;K<$.length;K++){var ae=Da(w,$[K],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),jr(),ui(c.i,c.u,c.A,c.l,c.R,c.m)}Wn.prototype.ca=function(c){c=c.target;const y=this.M;y&&an(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const mt=an(this.g);var y=this.g.Ba();const kn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||mt!=4||y==7||(y==8||0>=kn?jr(3):jr(2)),hi(this);var w=this.g.Z();this.X=w;t:if(Vu(this)){var S=el(this.g);c="";var $=S.length,K=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),fs(this);var ae="";break t}this.h.i=new h.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==$-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,co(this.i,this.u,this.A,this.l,this.R,mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Et=this.g;if((We=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(We)){var je=We;break t}}je=null}if(w=je)$n(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,w);else{this.o=!1,this.s=3,ct(12),Rn(this),fs(this);break e}}if(this.P){w=!0;let xn;for(;!this.J&&this.C<ae.length;)if(xn=Cd(this,ae),xn==fo){mt==4&&(this.s=4,ct(14),w=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ga){this.s=4,ct(15),$n(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else $n(this.i,this.l,xn,null),Qa(this,xn);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||ae.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)$n(this.i,this.l,ae,"[Invalid Chunked Response]"),Rn(this),fs(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),nl(Ct),Ct.M=!0,ct(11))}}else $n(this.i,this.l,ae,null),Qa(this,ae);mt==4&&Rn(this),this.o&&!this.J&&(mt==4?Io(this.j,this):(this.o=!1,Ke(this)))}else wo(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Rn(this),fs(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?fo:(w=Number(y.substring(w,S)),isNaN(w)?Ga:(S+=1,S+w>y.length?fo:(y=y.slice(S,S+w),c.C=S+w,y)))}Wn.prototype.cancel=function(){this.J=!0,Rn(this)};function Ke(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(E(c.ba,c),y)}function hi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qa(this.i,this.A),this.L!=2&&(jr(),ct(17)),Rn(this),this.s=2,fs(this)):Ou(this,this.S-c)};function fs(c){c.j.G==0||c.J||Io(c.j,c)}function Rn(c){hi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Fa(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Qa(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||en(w.h,c))){if(!c.K&&en(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)So(w),Yn(w);else break e;xo(w),ct(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=zn(E(w.Za,w),6e3));if(1>=Mu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else $r(w,11)}else if((c.K||w.g==c)&&So(w),!q(y))for($=w.Da.g.parse(y),y=0;y<$.length;y++){let je=$[y];if(w.T=je[0],je=je[1],w.G==2)if(je[0]=="c"){w.K=je[1],w.ia=je[2];const Ct=je[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const mt=je[4];mt!=null&&(w.Aa=mt,w.j.info("SVER="+w.Aa));const kn=je[5];kn!=null&&typeof kn=="number"&&0<kn&&(S=1.5*kn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const xn=c.g;if(xn){const vi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var K=S.h;K.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ya(K,K.h),K.h=null))}if(S.D){const Co=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(S.ya=Co,qe(S.I,S.D,Co))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var ae=c;if(S.qa=Yu(S,S.J?S.ia:null,S.W),ae.K){ju(S.h,ae);var We=ae,Et=S.L;Et&&(We.I=Et),We.B&&(hi(We),Ke(We)),S.g=ae}else yi(S);0<w.i.length&&mr(w)}else je[0]!="stop"&&je[0]!="close"||$r(w,7);else w.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?$r(w,7):Ot(w):je[0]!="noop"&&w.l&&w.l.ta(je),w.v=0)}}jr(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function di(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mu(c){return c.h?1:c.g?c.g.size:0}function en(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ya(c,y){c.g?c.g.add(y):c.h=y}function ju(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}di.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return b(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function ps(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=go(c),S=mo(c),$=S.length,K=0;K<$;K++)y.call(void 0,S[K],w&&w[K],c)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),$=null;if(0<=S){var K=c[w].substring(0,S);$=c[w].substring(S+1)}else K=c[w];y(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fr){this.h=c.h,pi(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.s),this.l=c.l;var y=c.i,w=new dr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),gs(this,w),this.m=c.m}else c&&(y=String(c).match(fi))?(this.h=!1,pi(this,y[1]||"",!0),this.o=Le(y[2]||""),this.g=Le(y[3]||"",!0),ms(this,y[4]),this.l=Le(y[5]||"",!0),gs(this,y[6]||"",!0),this.m=Le(y[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Fr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,yo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,yo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(vs(w,w.charAt(0)=="/"?zu:Bu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",vs(w,Xa)),c.join("")};function En(c){return new Fr(c)}function pi(c,y,w){c.j=w?Le(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function gs(c,y,w){y instanceof dr?(c.i=y,fr(c.i,c.h)):(w||(y=vs(y,$u)),c.i=new dr(y,c.h))}function qe(c,y,w){c.i.set(y,w)}function ys(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,Bu=/[#\?:]/g,zu=/[#\?]/g,$u=/[#\?@]/g,Xa=/#/g;function dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Rd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=dr.prototype,t.add=function(c,y){Vt(this),this.i=null,c=Pn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function qn(c,y){Vt(c),y=Pn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gn(c,y){return Vt(c),y=Pn(c,y),c.g.has(y)}t.forEach=function(c,y){Vt(this),this.g.forEach(function(w,S){w.forEach(function($){c.call(y,$,S,this)},this)},this)},t.na=function(){Vt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const $=c[S];for(let K=0;K<$.length;K++)w.push(y[S])}return w},t.V=function(c){Vt(this);let y=[];if(typeof c=="string")Gn(this,c)&&(y=y.concat(this.g.get(Pn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Vt(this),this.i=null,c=Pn(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function _s(c,y,w){qn(c,y),0<w.length&&(c.i=null,c.g.set(Pn(c,y),b(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var $=K;ae[S]!==""&&($+="="+encodeURIComponent(String(ae[S]))),c.push($)}}return this.i=c.join("&")};function Pn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function fr(c,y){y&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(w,S){var $=S.toLowerCase();S!=$&&(qn(this,S),_s(this,$,w))},c)),c.j=y}function Pd(c,y){const w=new li;if(h.Image){const S=new Image;S.onload=I(on,w,"TestLoadImage: loaded",!0,y,S),S.onerror=I(on,w,"TestLoadImage: error",!1,y,S),S.onabort=I(on,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(on,w,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hu(c,y){const w=new li,S=new AbortController,$=setTimeout(()=>{S.abort(),on(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout($),K.ok?on(w,"TestPingServer: ok",!0,y):on(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),on(w,"TestPingServer: error",!1,y)})}function on(c,y,w,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(w)}catch{}}function kd(){this.g=new za}function Wu(c,y,w){const S=w||"";try{ps(c,function($,K){let ae=$;p($)&&(ae=Ua($)),y.push(S+K+"="+encodeURIComponent(ae))})}catch($){throw y.push(S+"type="+encodeURIComponent("_badmap")),$}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ur,oi),Ur.prototype.g=function(){return new mi(this.l,this.j)},Ur.prototype.i=function(c){return function(){return c}}({});function mi(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(mi,_t),t=mi.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Qn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Kn(this):Qn(this),this.readyState==3&&qu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Kn(this))},t.Qa=function(c){this.g&&(this.response=c,Kn(this))},t.ga=function(){this.g&&Kn(this)};function Kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let y="";return le(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function ws(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Br(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):qe(c,y,w))}function et(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,_t);var bd=/^https?$/i,Ja=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?oo(this.o):oo(Hn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){gi(this,K);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)w.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())w.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),$=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ja,y,void 0))||S||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of w)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){gi(this,K)}};function gi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,vo(c),Tn(c)}function vo(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Tn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},t.bb=function(){Za(this)};function Za(c){if(c.h&&typeof l<"u"&&(!c.v[1]||an(c)!=4||c.Z()!=2)){if(c.u&&an(c)==4)Ma(c.Ea,0,c);else if(wt(c,"readystatechange"),an(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=ae===0){var $=String(c.D).match(fi)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),S=!bd.test($?$.toLowerCase():"")}w=S}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var K=2<an(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",vo(c)}}finally{Tn(c)}}}}function Tn(c,y){if(c.g){_o(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||wt(c,"ready");try{w.onreadystatechange=S}catch{}}}function _o(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function an(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ba(y)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(c){const y={};c=(c.g&&2<=an(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var w=j(c[S]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=y[$]||[];y[$]=K,K.push(w)}D(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function tl(c){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new di(c&&c.concurrentRequestLimit),this.Da=new kd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,S){ct(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Yu(this,null,this.W),mr(this)};function Ot(c){if(Eo(c),c.G==3){var y=c.U++,w=En(c.I);if(qe(w,"SID",c.K),qe(w,"RID",y),qe(w,"TYPE","terminate"),zr(c,w),y=new Wn(c,c.j,y),y.L=2,y.v=ys(En(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ke(y)}Qu(c)}function Yn(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Eo(c){Yn(c),c.u&&(h.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function mr(c){if(!wn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ce||ue(),oe||(Ce(),oe=!0),ye.add(y,c),c.B=0}}function Nd(c,y){return Mu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(E(c.Ga,c,y),Ku(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Wn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),V(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Es(this,$,y),w=En(this.I),qe(w,"RID",c),qe(w,"CVER",22),this.D&&qe(w,"X-HTTP-Session-Id",this.D),zr(this,w),K&&(this.O?y="headers="+encodeURIComponent(String(Br(K)))+"&"+y:this.m&&ws(w,this.m,K)),Ya(this.h,$),this.Ua&&qe(w,"TYPE","init"),this.P?(qe(w,"$req",y),qe(w,"SID","null"),$.T=!0,po($,w,null)):po($,w,y),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||wn(this.h)||To(this))};function To(c,y){var w;y?w=y.l:w=c.U++;const S=En(c.I);qe(S,"SID",c.K),qe(S,"RID",w),qe(S,"AID",c.T),zr(c,S),c.m&&c.o&&ws(S,c.m,c.o),w=new Wn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Es(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ya(c.h,w),po(w,S,y)}function zr(c,y){c.H&&le(c.H,function(w,S){qe(y,S,w)}),c.l&&ps({},function(w,S){qe(y,S,w)})}function Es(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var $=c.i;let K=-1;for(;;){const ae=["count="+w];K==-1?0<w?(K=$[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let We=!0;for(let Et=0;Et<w;Et++){let je=$[Et].g;const Ct=$[Et].map;if(je-=K,0>je)K=Math.max(0,$[Et].g-100),We=!1;else try{Wu(Ct,ae,"req"+je+"_")}catch{S&&S(Ct)}}if(We){S=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function yi(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ce||ue(),oe||(Ce(),oe=!0),ye.add(y,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(E(c.Fa,c),Ku(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Yn(this),Gu(this))};function nl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),zr(c,y),c.m&&c.o&&ws(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=ys(En(y)),w.m=null,w.P=!0,Ka(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Yn(this),xo(this),ct(19))};function So(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Io(c,y){var w=null;if(c.g==y){So(c),nl(c),c.g=null;var S=2}else if(en(c.h,y))w=y.D,ju(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;S=ai(),wt(S,new uo(S,w)),mr(c)}else yi(c);else if($=y.s,$==3||$==0&&0<y.X||!(S==1&&Nd(c,y)||S==2&&xo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),$){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function Ku(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function $r(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const $=!S;S=new Fr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||pi(S,"https"),ys(S),$?Pd(S.toString(),w):Hu(S.toString(),w)}else ct(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Eo(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=Fu(c.h);(y.length!=0||c.i.length!=0)&&(R(c.ka,y),R(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,w){var S=w instanceof Fr?En(w):new Fr(w);if(S.g!="")y&&(S.g=y+"."+S.g),ms(S,S.s);else{var $=h.location;S=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var K=new Fr(null);S&&pi(K,S),y&&(K.g=y),$&&ms(K,$),w&&(K.l=w),S=K}return w=c.D,y=c.ya,w&&y&&qe(S,w,y),qe(S,"VER",c.la),zr(c,S),S}function Xu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new et(new Ur({eb:w})):new et(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}t=rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ao(){}Ao.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){_t.call(this),this.g=new tl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}A(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ot(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ua(c),c=w);y.i.push(new Lu(y.Ya++,c)),y.G==3&&mr(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,tn.aa.N.call(this)};function Ju(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Ju,cr);function Zu(){lo.call(this),this.status=1}A(Zu,lo);function gr(c){this.g=c}A(gr,rl),gr.prototype.ua=function(){wt(this.g,"a")},gr.prototype.ta=function(c){wt(this.g,new Ju(c))},gr.prototype.sa=function(c){wt(this.g,new Zu)},gr.prototype.ra=function(){wt(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,GT=function(){return new Ao},qT=function(){return ai()},WT=hr,Wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,uh=ho,Nu.COMPLETE="complete",HT=Nu,ao.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Nl=ao,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,$T=et}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",u_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Um("@firebase/firestore");function Ko(){return qi.logLevel}function he(t,...e){if(qi.logLevel<=Ve.DEBUG){const n=e.map($m);qi.debug(`Firestore (${Sa}): ${t}`,...n)}}function ss(t,...e){if(qi.logLevel<=Ve.ERROR){const n=e.map($m);qi.error(`Firestore (${Sa}): ${t}`,...n)}}function ua(t,...e){if(qi.logLevel<=Ve.WARN){const n=e.map($m);qi.warn(`Firestore (${Sa}): ${t}`,...n)}}function $m(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KT(t,r,n)}function KT(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function He(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KT(e,i,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Fb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ub{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class Bb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $b{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Hb(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function qp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return be(r,i);{const a=YT(),l=Wb(a.encode(h_(t,n)),a.encode(h_(e,n)));return l!==0?l:be(r,i)}}n+=r>65535?2:1}return be(t.length,e.length)}function h_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Wb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return be(t[n],e[n]);return be(t.length,e.length)}function ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-62135596800,f_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f_);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d_)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new St(0,0))}static max(){return new Ae(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class Tr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Tr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return be(e.length,n.length)}static compareSegments(e,n){const r=Tr.isNumericId(e),i=Tr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Je extends Tr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Tr{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return qb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new Ut([p_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function Gb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Ks(i,_e.empty(),e)}function Kb(t){return new Ks(t.readTime,t.key,Yl)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(Ae.min(),_e.empty(),Yl)}static max(){return new Ks(Ae.max(),_e.empty(),Yl)}}function Qb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Yb)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>i(g))}})}static doWhile(e,n){return new Y((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Jb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ad.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function ld(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function Zb(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function eN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=m_(e)),e=tN(t.get(n),e);return m_(e)}function tN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case JT:n+="";break;default:n+=a}}return n}function m_(t){return t+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new ir([])}unionWith(e){let n=new It(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ex("Invalid base64 string: "+a):a}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=nN.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="server_timestamp",nx="__type__",rx="__previous_value__",sx="__local_write_time__";function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nx])===null||n===void 0?void 0:n.stringValue)===tx}function ud(t){const e=t.mapValue.fields[rx];return Wm(e)?ud(e):e}function Xl(t){const e=Qs(t.mapValue.fields[sx].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i,a,l,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Ph="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__type__",sN="__max__",Yc={mapValue:{}},ox="__vector__",kh="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:oN(t)?9007199254740991:iN(t)?10:11:Te(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Qs(i.timestampValue),h=Qs(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ys(i.bytesValue).isEqual(Ys(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ft(i.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ft(i.integerValue)===ft(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=ft(i.doubleValue),h=ft(a.doubleValue);return l===h?Rh(l)===Rh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(g_(l)!==g_(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!br(l[f],h[f])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Zl(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=ft(a.integerValue||a.doubleValue),f=ft(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(Xl(t),Xl(e));case 5:return qp(t.stringValue,e.stringValue);case 6:return function(a,l){const h=Ys(a),f=Ys(l);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=be(h[p],f[p]);if(g!==0)return g}return be(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=be(ft(a.latitude),ft(l.latitude));return h!==0?h:be(ft(a.longitude),ft(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return __(t.arrayValue,e.arrayValue);case 10:return function(a,l){var h,f,p,g;const _=a.fields||{},E=l.fields||{},I=(h=_[kh])===null||h===void 0?void 0:h.arrayValue,A=(f=E[kh])===null||f===void 0?void 0:f.arrayValue,b=be(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return b!==0?b:__(I,A)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Yc.mapValue&&l===Yc.mapValue)return 0;if(a===Yc.mapValue)return 1;if(l===Yc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=qp(f[_],g[_]);if(E!==0)return E;const I=ha(h[f[_]],p[g[_]]);if(I!==0)return I}return be(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Qs(t),r=Qs(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function __(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ha(n[i],r[i]);if(a)return a}return be(n.length,r.length)}function da(t){return Gp(t)}function Gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Gp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Gp(n.fields[l])}`;return i+"}"}(t.mapValue):Te(61005,{value:t})}function ch(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+ch(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ch(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yi(r.fields,(a,l)=>{i+=a.length+ch(l)}),i}(t.mapValue);default:throw Te(13486,{value:t})}}function w_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kp(t){return!!t&&"integerValue"in t}function qm(t){return!!t&&"arrayValue"in t}function E_(t){return!!t&&"nullValue"in t}function T_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hh(t){return!!t&&"mapValue"in t}function iN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ix])===null||n===void 0?void 0:n.stringValue)===ox}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=Ml(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fn(Ml(this.value))}}function ax(t){const e=[];return Yi(t.fields,(n,r)=>{const i=new Ut([n]);if(hh(r)){const a=ax(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Ae.min(),Ae.min(),Ae.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ae.min(),Ae.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ae.min(),Ae.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function x_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=ha(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{}class vt extends lx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uN(e,n,r):n==="array-contains"?new dN(e,r):n==="in"?new fN(e,r):n==="not-in"?new pN(e,r):n==="array-contains-any"?new mN(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cN(e,r):new hN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends lx{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new lr(e,n)}matches(e){return ux(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ux(t){return t.op==="and"}function cx(t){return lN(t)&&ux(t)}function lN(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Qp(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+da(t.value);if(cx(t))return t.filters.map(e=>Qp(e)).join(",");{const e=t.filters.map(n=>Qp(n)).join(",");return`${t.op}(${e})`}}function hx(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,h)=>a&&hx(l,i.filters[h]),!0):!1}(t,e):void Te(19439)}function dx(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(dx).join(" ,")+"}"}(t):"Filter"}class uN extends vt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class cN extends vt{constructor(e,n){super(e,"in",n),this.keys=fx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hN extends vt{constructor(e,n){super(e,"not-in",n),this.keys=fx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class dN extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Zl(n.arrayValue,this.value)}}class fN extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class pN extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class mN extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Ie=null}}function I_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new gN(t,e,n,r,i,a,l)}function Gm(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.Ie=n}return e.Ie}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function Yp(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yN(t,e,n,r,i,a,l,h){return new Ca(t,e,n,r,i,a,l,h)}function px(t){return new Ca(t)}function A_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mx(t){return t.collectionGroup!==null}function jl(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new It(Ut.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new eu(a,r))}),n.has(Ut.keyField().canonicalString())||e.Ee.push(new eu(Ut.keyField(),r))}return e.Ee}function Sr(t){const e=Re(t);return e.de||(e.de=vN(e,jl(t))),e.de}function vN(t,e){if(t.limitType==="F")return I_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new eu(i.field,a)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return I_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xp(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jp(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return Km(Sr(t),Sr(e))&&t.limitType===e.limitType}function gx(t){return`${Gm(Sr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dx(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of jl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,h,f){const p=x_(l,h,f);return l.inclusive?p<=0:p<0}(r.startAt,jl(r),i)||r.endAt&&!function(l,h,f){const p=x_(l,h,f);return l.inclusive?p>=0:p>0}(r.endAt,jl(r),i))}(t,e)}function _N(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yx(t){return(e,n)=>{let r=!1;for(const i of jl(t)){const a=wN(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function wN(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ha(f,p):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new at(_e.comparator);function is(){return EN}const vx=new at(_e.comparator);function Dl(...t){let e=vx;for(const n of t)e=e.insert(n.key,n);return e}function _x(t){let e=vx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return Fl()}function wx(){return Fl()}function Fl(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const TN=new at(_e.comparator),xN=new It(_e.comparator);function Oe(...t){let e=xN;for(const n of t)e=e.add(n);return e}const SN=new It(be);function IN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Ex(t){return{integerValue:""+t}}function AN(t,e){return Zb(e)?Ex(e):Qm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function CN(t,e,n){return t instanceof tu?function(i,a){const l={fields:{[nx]:{stringValue:tx},[sx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Wm(a)&&(a=ud(a)),a&&(l.fields[rx]=a),{mapValue:l}}(n,e):t instanceof nu?xx(t,e):t instanceof ru?Sx(t,e):function(i,a){const l=Tx(i,a),h=C_(l)+C_(i.Re);return Kp(l)&&Kp(i.Re)?Ex(h):Qm(i.serializer,h)}(t,e)}function RN(t,e,n){return t instanceof nu?xx(t,e):t instanceof ru?Sx(t,e):n}function Tx(t,e){return t instanceof Nh?function(r){return Kp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class tu extends dd{}class nu extends dd{constructor(e){super(),this.elements=e}}function xx(t,e){const n=Ix(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends dd{constructor(e){super(),this.elements=e}}function Sx(t,e){let n=Ix(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class Nh extends dd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function C_(t){return ft(t.integerValue||t.doubleValue)}function Ix(t){return qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.field=e,this.transform=n}}function kN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nu&&i instanceof nu||r instanceof ru&&i instanceof ru?ca(r.elements,i.elements,br):r instanceof Nh&&i instanceof Nh?br(r.Re,i.Re):r instanceof tu&&i instanceof tu}(t.transform,e.transform)}class bN{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fd{}function Ax(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rx(t.key,ts.none()):new wu(t.key,t.data,ts.none());{const n=t.data,r=Fn.empty();let i=new It(Ut.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ji(t.key,r,new ir(i.toArray()),ts.none())}}function NN(t,e,n){t instanceof wu?function(i,a,l){const h=i.value.clone(),f=P_(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(i,a,l){if(!dh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=P_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(Cx(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof wu?function(a,l,h,f){if(!dh(a.precondition,l))return h;const p=a.value.clone(),g=k_(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(a,l,h,f){if(!dh(a.precondition,l))return h;const p=k_(a.fieldTransforms,f,l),g=l.data;return g.setAll(Cx(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return dh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function DN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Tx(r.transform,i||null);a!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,a))}return n||null}function R_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(a,l)=>kN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends fd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends fd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Cx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;He(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,RN(l,h,n[i]))}return r}function k_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,CN(a,l,e))}return r}class Rx extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&NN(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wx();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=Ax(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,r)=>R_(n,r))&&ca(this.baseMutations,e.baseMutations,(n,r)=>R_(n,r))}}class Ym{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return TN}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Ym(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Fe;function jN(t){switch(t){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function Px(t){if(t===void 0)return ss("GRPC error has no .code"),J.UNKNOWN;switch(t){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:t})}}(Fe=yt||(yt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Ws([4294967295,4294967295],0);function b_(t){const e=YT().encode(t),n=new zT;return n.update(e),new Uint8Array(n.digest())}function N_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([i,a],0)]}class Xm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ws.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ws.fromNumber(r)));return i.compare(FN)===1&&(i=new Ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=b_(e),[r,i]=N_(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Xm(a,i,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.pe===0)return;const n=b_(e),[r,i]=N_(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(Ae.min(),i,new at(be),is(),Oe())}}class Eu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class kx{constructor(e,n){this.targetId=e,this.Ce=n}}class bx{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D_{constructor(){this.Fe=0,this.Me=V_(),this.xe=Bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Oe(),n=Oe(),r=Oe();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:a})}}),new Eu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=V_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class UN{constructor(e){this.ze=e,this.je=new Map,this.He=is(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new at(be)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(Yp(a))if(r===0){const l=new _e(a.path);this.tt(n,l,Yt.newNoDocument(l,Ae.min()))}else He(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const h=this.ct(e),f=h?this.lt(h,e,l):1;if(f!==0){this.st(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=Ys(r).toUint8Array()}catch(f){if(f instanceof ex)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Xm(l,i,a)}catch(f){return ua(f instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,l)=>{const h=this._t(l);if(h){if(a.current&&Yp(h.target)){const f=new _e(h.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,Yt.newNoDocument(f,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=Oe();this.Ye.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new pd(e,n,this.Ze,this.He,r);return this.He=is(),this.Je=Xc(),this.Ye=Xc(),this.Ze=new at(be),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new D_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(be),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(be),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new D_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new at(_e.comparator)}function V_(){return new at(_e.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},zN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class HN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WN(t,e){return Dh(t,e.toTimestamp())}function Ir(t){return He(!!t,49232),Ae.fromTimestamp(function(n){const r=Qs(n);return new St(r.seconds,r.nanos)}(t))}function Jm(t,e){return em(t,e).canonicalString()}function em(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Dx(t){const e=Je.fromString(t);return He(jx(e),10190,{key:e.toString()}),e}function tm(t,e){return Jm(t.databaseId,e.path)}function pp(t,e){const n=Dx(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Ox(n))}function Vx(t,e){return Jm(t.databaseId,e)}function qN(t){const e=Dx(t);return e.length===4?Je.emptyPath():Ox(e)}function nm(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ox(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O_(t,e,n){return{name:tm(t,e),fields:n.value.mapValue.fields}}function GN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string",58123),Bt.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?J.UNKNOWN:Px(p.code);return new fe(g,p.message||"")}(l);n=new bx(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pp(t,r.document.name),a=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):Ae.min(),h=new Fn({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(i,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new fh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pp(t,r.document),a=r.readTime?Ir(r.readTime):Ae.min(),l=Yt.newNoDocument(i,a),h=r.removedTargetIds||[];n=new fh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pp(t,r.document),a=r.removedTargetIds||[];n=new fh([],a,i,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new MN(i,a),h=r.targetId;n=new kx(h,l)}}return n}function KN(t,e){let n;if(e instanceof wu)n={update:O_(t,e.key,e.value)};else if(e instanceof Rx)n={delete:tm(t,e.key)};else if(e instanceof Ji)n={update:O_(t,e.key,e.data),updateMask:rD(e.fieldMask)};else{if(!(e instanceof VN))return Te(16599,{ft:e.type});n={verify:tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof tu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ru)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nh)return{fieldPath:l.field.canonicalString(),increment:h.Re};throw Te(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WN(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(t,e.precondition)),n}function QN(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?Ir(i.updateTime):Ir(a);return l.isEqual(Ae.min())&&(l=Ir(a)),new bN(l,i.transformResults||[])}(n,e))):[]}function YN(t,e){return{documents:[Vx(t,e.path)]}}function XN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vx(t,i);const a=function(p){if(p.length!==0)return Mx(lr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Yo(E.field),direction:eD(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=Zp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:i}}function JN(t){let e=qN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=Lx(_);return E instanceof lr&&cx(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(A){return new eu(Xo(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,ld(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,I=_.values||[];return new bh(I,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,I=_.values||[];return new bh(I,E)}(n.endAt)),yN(e,i,l,a,h,"F",f,p)}function ZN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xo(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xo(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(n.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xo(n.unaryFilter.field);return vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>Lx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function eD(t){return BN[t]}function tD(t){return zN[t]}function nD(t){return $N[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return Ut.fromServerFormat(t.fieldPath)}function Mx(t){return t instanceof vt?function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:tD(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(i=>Mx(i));return r.length===1?r[0]:{compositeFilter:{op:nD(n.op),filters:r}}}(t):Te(54877,{filter:t})}function rD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r,i,a=Ae.min(),l=Ae.min(),h=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.wt=e}}function iD(t){const e=JN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.yn=new aD}addToCollectionParentIndex(e,n){return this.yn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Ks.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class aD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Je.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fx=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(Fx,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new fa(0)}static ir(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LruGarbageCollector",lD=1048576;function j_([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class uD{constructor(e){this.cr=e,this.buffer=new It(j_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(M_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Aa(n)?he(M_,"Ignoring IndexedDB error during garbage collection: ",n):await Ia(n)}await this.Ir(3e5)})}}class hD{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ad.le);const r=new uD(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(L_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ko()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function dD(t,e){return new hD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ul(r.mutation,i,ir.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Dl();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=is();const l=Fl(),h=function(){return Fl()}();return n.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Ji)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Ul(g.mutation,p,g.mutation.getFieldMask(),St.now())):l.set(p.key,ir.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return h.set(p,new pD(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Fl();let i=new at((l,h)=>l-h),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||ir.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(i.get(h.batchId)||Oe()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=wx();g.forEach(E=>{if(!a.has(E)){const I=Ax(n.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Oi());let h=Yl,f=a;return l.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Oe())).next(g=>({batchId:h,changes:_x(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new Ca(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Yt.newInvalidDocument(g)))});let h=Dl();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Ul(g.mutation,p,ir.empty(),St.now()),hd(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:iD(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new at(_e.comparator),this.Or=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return Y.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Oi(),a=n.length+1,l=new _e(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new at((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Oi(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Oi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=i)););return Y.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new LN(n,r));let a=this.Or.get(n);a===void 0&&(a=Oe(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Nr=new It(bt.Br),this.Lr=new It(bt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new bt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new _e(new Je([])),r=new bt(n,e),i=new bt(n,e+1),a=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new _e(new Je([])),r=new bt(n,e),i=new bt(n,e+1);let a=Oe();return this.Lr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new bt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return _e.comparator(e.key,n.key)||be(e.Gr,n.Gr)}static kr(e,n){return be(e.Gr,n.Gr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new It(bt.Br)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ON(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.zr=this.zr.add(new bt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Hm:this.Jn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],l=>{const h=this.jr(l.Gr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(be);return n.forEach(i=>{const a=new bt(i,0),l=new bt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],h=>{r=r.add(h.Gr)})}),Y.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new bt(new _e(a),0);let h=new It(be);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Gr)),!0)},l),Y.resolve(this.Jr(h))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Y.forEach(n.mutations,i=>{const a=new bt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new bt(n,0),i=this.zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.Zr=e,this.docs=function(){return new at(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=is();const l=n.path,h=new _e(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Qb(Kb(g),r)<=0||(i.has(g.key)||hd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}Xr(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ED(this)}getSize(e){return Y.resolve(this.size)}}class ED extends fD{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.ei=new Xi(n=>Gm(n),Km),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new Zm,this.targetCount=0,this.ri=fa.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Y.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.ar(n),Y.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ei.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.ii={},this.overlays={},this.si=new ad(0),this.oi=!1,this.oi=!0,this._i=new vD,this.referenceDelegate=e(this),this.ai=new TD(this),this.indexManager=new oD,this.remoteDocumentCache=function(i){return new wD(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new sD(n),this.ci=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new _D(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new xD(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,n){return Y.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class xD extends Xb{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ti=new Zm,this.Ii=null}static Ei(e){return new eg(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,r=>{const i=_e.fromPath(r);return this.Ai(e,i).next(a=>{a||n.removeEntry(i,Ae.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Y.or([()=>Y.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.Ri=new Xi(r=>eN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dD(this,n)}static Ei(e,n){return new Vh(e,n)}li(){}hi(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return Y.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,n).next(h=>{h||(r++,a.removeEntry(l,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Y.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}gr(e,n,r){return Y.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Oe(),i=Oe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return wk()?8:Jb(Zt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new SD;return this.fs(e,n,l).next(h=>{if(a.result=h,this.Is)return this.gs(e,n,l,h.size)})}).next(()=>a.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Ko()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Y.resolve()):(Ko()<=Ve.DEBUG&&he("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ko()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):Y.resolve())}Rs(e,n){if(A_(n))return Y.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jp(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Oe(...a);return this.As.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(n,h);return this.ys(n,p,l,f.readTime)?this.Rs(e,Jp(n,null,"F")):this.ws(e,p,n,f)}))})))}Vs(e,n,r,i){return A_(n)||i.isEqual(Ae.min())?Y.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(n,a);return this.ys(n,l,r,i)?Y.resolve(null):(Ko()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qo(n)),this.ws(e,l,n,Gb(i,Yl)).next(h=>h))})}ps(e,n){let r=new It(yx(e));return n.forEach((i,a)=>{hd(e,a)&&(r=r.add(a))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,n,r){return Ko()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.As.getDocumentsMatchingQuery(e,n,Ks.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",AD=3e8;class CD{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new at(be),this.Ds=new Xi(a=>Gm(a),Km),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function RD(t,e,n,r){return new CD(t,e,n,r)}async function Bx(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=Oe();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:h}))})})}function PD(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let I=Y.resolve();return E.forEach(A=>{I=I.next(()=>g.getEntry(f,A)).next(b=>{const R=p.docVersions.get(A);He(R!==null,48541),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),g.addEntry(b)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Oe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zx(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function kD(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const h=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;h.push(n.ai.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.ai.addMatchingKeys(a,g.addedDocuments,_)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Bt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),i=i.insert(_,I),function(b,R,L){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=AD?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,I,g)&&h.push(n.ai.updateTargetData(a,I))});let f=is(),p=Oe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(bD(a,l,e.documentUpdates).next(g=>{f=g.xs,p=g.Os})),!r.isEqual(Ae.min())){const g=n.ai.getLastRemoteSnapshotVersion(a).next(_=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ss=i,a))}function bD(t,e,n){let r=Oe(),i=Oe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=is();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):he(ng,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:l,Os:i}})}function ND(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DD(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):n.ai.allocateTargetId(r).next(l=>(i=new Bs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function rm(t,e,n){const r=Re(t),i=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Aa(l))throw l;he(ng,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function F_(t,e,n){const r=Re(t);let i=Ae.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=Re(f),E=_.Ds.get(g);return E!==void 0?Y.resolve(_.Ss.get(E)):_.ai.getTargetData(p,g)}(r,l,Sr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,n?i:Ae.min(),n?a:Oe())).next(h=>(VD(r,_N(e),h),{documents:h,Ns:a})))}function VD(t,e,n){let r=t.vs.get(e)||Ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class U_{constructor(){this.activeTargetIds=IN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.So=new U_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="ConnectivityMonitor";class z_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function sm(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jD{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,a){const l=sm(),h=this.$o(e,n.toUriEncodedString());he(mp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,i,a);const{host:p}=new URL(h),g=yu(p);return this.Ko(e,h,f,r,g).then(_=>(he(mp,`Received RPC '${e}' ${l}: `,_),_),_=>{throw ua(mp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_})}Wo(e,n,r,i,a,l){return this.Qo(e,n,r,i,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,n){const r=MD[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class UD extends jD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,a){const l=sm();return new Promise((h,f)=>{const p=new $T;p.setWithCredentials(!0),p.listenOnce(HT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const _=p.getResponseJson();he(qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case uh.TIMEOUT:he(qt,`RPC '${e}' ${l} timed out`),f(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const E=p.getStatus();if(he(qt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const b=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(q)>=0?q:J.UNKNOWN}(A.status);f(new fe(b,A.message))}else f(new fe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{he(qt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);he(qt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",g,r,15)})}a_(e,n,r){const i=sm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GT(),h=qT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(qt,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let E=!1,I=!1;const A=new FD({Go:R=>{I?he(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(E||(he(qt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),he(qt,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},zo:()=>_.close()}),b=(R,L,q)=>{R.listen(L,F=>{try{q(F)}catch(te){setTimeout(()=>{throw te},0)}})};return b(_,Nl.EventType.OPEN,()=>{I||(he(qt,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),b(_,Nl.EventType.CLOSE,()=>{I||(I=!0,he(qt,`RPC '${e}' stream ${i} transport closed`),A.r_())}),b(_,Nl.EventType.ERROR,R=>{I||(I=!0,ua(qt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.r_(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),b(_,Nl.EventType.MESSAGE,R=>{var L;if(!I){const q=R.data[0];He(!!q,16349);const F=q,te=(F==null?void 0:F.error)||((L=F[0])===null||L===void 0?void 0:L.error);if(te){he(qt,`RPC '${e}' stream ${i} received error:`,te);const re=te.status;let le=function(P){const V=yt[P];if(V!==void 0)return Px(V)}(re),D=te.message;le===void 0&&(le=J.INTERNAL,D="Unknown error status: "+re+" with message "+te.message),I=!0,A.r_(new fe(le,D)),_.close()}else he(qt,`RPC '${e}' stream ${i} received:`,q),A.i_(q)}}),b(h,WT.STAT_EVENT,R=>{R.stat===Wp.PROXY?he(qt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Wp.NOPROXY&&he(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return new HN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class Hx{constructor(e,n,r,i,a,l,h,f){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $x(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he($_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(he($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends Hx{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=GN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Ir(l.readTime):Ae.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=nm(this.serializer),n.addTarget=function(a,l){let h;const f=l.target;if(h=Yp(f)?{documents:YN(a,f)}:{query:XN(a,f).gt},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=Nx(a,l.resumeToken);const p=Zp(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Dh(a,l.snapshotVersion.toTimestamp());const p=Zp(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=ZN(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.F_(n)}}class zD extends Hx{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=QN(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=nm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KN(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class HD extends $D{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,em(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())})}Wo(e,n,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,em(n,r),i,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(J.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ss(n),this.ea=!1):he("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class qD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Zi(this)&&(he(Gi,"Restarting streams for network reachability change."),await async function(f){const p=Re(f);p.aa.add(4),await Tu(p),p.la.set("Unknown"),p.aa.delete(4),await gd(p)}(this))})}),this.la=new WD(r,i)}}async function gd(t){if(Zi(t))for(const e of t.ua)await e(!0)}async function Tu(t){for(const e of t.ua)await e(!1)}function Wx(t,e){const n=Re(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),og(n)?ig(n):Ra(n).b_()&&sg(n,e))}function rg(t,e){const n=Re(t),r=Ra(n);n._a.delete(e),r.b_()&&qx(n,e),n._a.size===0&&(r.b_()?r.v_():Zi(n)&&n.la.set("Unknown"))}function sg(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).U_(e)}function qx(t,e){t.ha.Ke(e),Ra(t).K_(e)}function ig(t){t.ha=new UN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.la.ta()}function og(t){return Zi(t)&&!Ra(t).w_()&&t._a.size>0}function Zi(t){return Re(t).aa.size===0}function Gx(t){t.ha=void 0}async function GD(t){t.la.set("Online")}async function KD(t){t._a.forEach((e,n)=>{sg(t,e)})}async function QD(t,e){Gx(t),og(t)?(t.la.ia(e),ig(t)):t.la.set("Unknown")}async function YD(t,e,n){if(t.la.set("Online"),e instanceof bx&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const h of a.targetIds)i._a.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i._a.delete(h),i.ha.removeTarget(h))}(t,e)}catch(r){he(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof fh?t.ha.Xe(e):e instanceof kx?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ae.min()))try{const r=await zx(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.ha.It(l);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a._a.get(p);g&&a._a.set(p,g.withResumeToken(f.resumeToken,l))}}),h.targetMismatches.forEach((f,p)=>{const g=a._a.get(f);if(!g)return;a._a.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),qx(a,f);const _=new Bs(g.target,f,p,g.sequenceNumber);sg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){he(Gi,"Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!Aa(e))throw e;t.aa.add(1),await Tu(t),t.la.set("Offline"),n||(n=()=>zx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Gi,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await gd(t)})}function Kx(t,e){return e().catch(n=>Oh(t,n,e))}async function yd(t){const e=Re(t),n=Js(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hm;for(;XD(e);)try{const i=await ND(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,JD(e,i)}catch(i){await Oh(e,i)}Qx(e)&&Yx(e)}function XD(t){return Zi(t)&&t.oa.length<10}function JD(t,e){t.oa.push(e);const n=Js(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Qx(t){return Zi(t)&&!Js(t).w_()&&t.oa.length>0}function Yx(t){Js(t).start()}async function ZD(t){Js(t).H_()}async function e2(t){const e=Js(t);for(const n of t.oa)e.G_(n.mutations)}async function t2(t,e,n){const r=t.oa.shift(),i=Ym.from(r,e,n);await Kx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yd(t)}async function n2(t,e){e&&Js(t).W_&&await async function(r,i){if(function(l){return jN(l)&&l!==J.ABORTED}(i.code)){const a=r.oa.shift();Js(r).D_(),await Kx(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await yd(r)}}(t,e),Qx(t)&&Yx(t)}async function H_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(Gi,"RemoteStore received new credentials");const r=Zi(n);n.aa.add(3),await Tu(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await gd(n)}async function r2(t,e){const n=Re(t);e?(n.aa.delete(2),await gd(n)):e||(n.aa.add(2),await Tu(n),n.la.set("Unknown"))}function Ra(t){return t.Pa||(t.Pa=function(n,r,i){const a=Re(n);return a.Y_(),new BD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:GD.bind(null,t),Jo:KD.bind(null,t),Zo:QD.bind(null,t),Q_:YD.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),og(t)?ig(t):t.la.set("Unknown")):(await t.Pa.stop(),Gx(t))})),t.Pa}function Js(t){return t.Ta||(t.Ta=function(n,r,i){const a=Re(n);return a.Y_(),new zD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:ZD.bind(null,t),Zo:n2.bind(null,t),z_:e2.bind(null,t),j_:t2.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await yd(t)):(await t.Ta.stop(),t.oa.length>0&&(he(Gi,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new ag(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Aa(t))return new fe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Ia=new at(_e.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new pa(e,n,ra.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class i2{constructor(){this.queries=q_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Re(n),a=i.queries;i.queries=q_(),a.forEach((l,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function q_(){return new Xi(t=>gx(t),cd)}async function o2(t,e){const n=Re(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new s2,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(i,!0);break;case 1:a.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=lg(l,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&ug(n)}async function a2(t,e){const n=Re(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l2(t,e){const n=Re(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Ra)h.pa(i)&&(r=!0);l.Aa=i}}r&&ug(n)}function u2(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(n);r.queries.delete(e)}function ug(t){t.fa.forEach(e=>{e.next()})}var im,G_;(G_=im||(im={})).ya="default",G_.Cache="cache";class c2{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.key=e}}class Jx{constructor(e){this.key=e}}class h2{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Oe(),this.mutatedKeys=Oe(),this.Ua=yx(e),this.Ka=new ra(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new W_,i=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),I=hd(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),b=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;E&&I?E.data.isEqual(I.data)?A!==b&&(r.track({type:3,doc:I}),R=!0):this.ja(E,I)||(r.track({type:2,doc:I}),R=!0,(f&&this.Ua(I,f)>0||p&&this.Ua(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),R=!0):E&&!I&&(r.track({type:1,doc:E}),R=!0,(f||p)&&(h=!0)),R&&(I?(l=l.add(I),a=b?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Ka:l,za:r,ys:h,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((g,_)=>function(I,A){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:R})}};return b(I)-b(A)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(r),i=i!=null&&i;const h=n&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,p=f!==this.Qa;return this.Qa=f,l.length!==0||p?{snapshot:new pa(this.query,e.Ka,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new W_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Oe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Jx(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Xx(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Oe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return pa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const cg="SyncEngine";class d2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f2{constructor(e){this.key=e,this.tu=!1}}class p2{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Xi(h=>gx(h),cd),this.iu=new Map,this.su=new Set,this.ou=new at(_e.comparator),this._u=new Map,this.au=new Zm,this.uu={},this.cu=new Map,this.lu=fa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function m2(t,e,n=!0){const r=sS(t);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await Zx(r,e,n,!0),i}async function g2(t,e){const n=sS(t);await Zx(n,e,!0,!1)}async function Zx(t,e,n,r){const i=await DD(t.localStore,Sr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await y2(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Wx(t.remoteStore,i),h}async function y2(t,e,n,r,i){t.Pu=(_,E,I)=>async function(b,R,L,q){let F=R.view.Ga(L);F.ys&&(F=await F_(b.localStore,R.query,!1).then(({documents:D})=>R.view.Ga(D,F)));const te=q&&q.targetChanges.get(R.targetId),re=q&&q.targetMismatches.get(R.targetId)!=null,le=R.view.applyChanges(F,b.isPrimaryClient,te,re);return Q_(b,R.targetId,le.Ya),le.snapshot}(t,_,E,I);const a=await F_(t.localStore,e,!0),l=new h2(e,a.Ns),h=l.Ga(a.documents),f=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);Q_(t,n,p.Ya);const g=new d2(e,n,l);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function v2(t,e,n){const r=Re(t),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(l=>!cd(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rg(r.remoteStore,i.targetId),om(r,i.targetId)}).catch(Ia)):(om(r,i.targetId),await rm(r.localStore,i.targetId,!0))}async function _2(t,e){const n=Re(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rg(n.remoteStore,r.targetId))}async function w2(t,e,n){const r=C2(t);try{const i=await function(l,h){const f=Re(l),p=St.now(),g=h.reduce((I,A)=>I.add(A.key),Oe());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=is(),b=Oe();return f.Cs.getEntries(I,g).next(R=>{A=R,A.forEach((L,q)=>{q.isValidDocument()||(b=b.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,A)).next(R=>{_=R;const L=[];for(const q of h){const F=DN(q,_.get(q.key).overlayedDocument);F!=null&&L.push(new Ji(q.key,F,ax(F.value.mapValue),ts.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,L,h)}).next(R=>{E=R;const L=R.applyToLocalDocumentSet(_,b);return f.documentOverlayCache.saveOverlays(I,R.batchId,L)})}).then(()=>({batchId:E.batchId,changes:_x(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,h,f){let p=l.uu[l.currentUser.toKey()];p||(p=new at(be)),p=p.insert(h,f),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,n),await xu(r,i.changes),await yd(r.remoteStore)}catch(i){const a=lg(i,"Failed to persist write");n.reject(a)}}async function eS(t,e){const n=Re(t);try{const r=await kD(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n._u.get(a);l&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?He(l.tu,14607):i.removedDocuments.size>0&&(He(l.tu,42227),l.tu=!1))}),await xu(n,r,e)}catch(r){await Ia(r)}}function K_(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((a,l)=>{const h=l.view.ga(e);h.snapshot&&i.push(h.snapshot)}),function(l,h){const f=Re(l);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.Ra)E.ga(h)&&(p=!0)}),p&&ug(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E2(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),a=i&&i.key;if(a){let l=new at(_e.comparator);l=l.insert(a,Yt.newNoDocument(a,Ae.min()));const h=Oe().add(a),f=new pd(Ae.min(),new Map,new at(be),l,h);await eS(r,f),r.ou=r.ou.remove(a),r._u.delete(e),hg(r)}else await rm(r.localStore,e,!1).then(()=>om(r,e,n)).catch(Ia)}async function T2(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await PD(n.localStore,e);nS(n,r,null),tS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,i)}catch(i){await Ia(i)}}async function x2(t,e,n){const r=Re(t);try{const i=await function(l,h){const f=Re(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(He(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);nS(r,e,n),tS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,i)}catch(i){await Ia(i)}}function tS(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function nS(t,e,n){const r=Re(t);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||rS(t,r)})}function rS(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(rg(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),hg(t))}function Q_(t,e,n){for(const r of n)r instanceof Xx?(t.au.addReference(r.key,e),S2(t,r)):r instanceof Jx?(he(cg,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||rS(t,r.key)):Te(19791,{Iu:r})}function S2(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(he(cg,"New document in limbo: "+n),t.su.add(r),hg(t))}function hg(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new _e(Je.fromString(e)),r=t.lu.next();t._u.set(r,new f2(n)),t.ou=t.ou.insert(n,r),Wx(t.remoteStore,new Bs(Sr(px(n.path)),r,"TargetPurposeLimboResolution",ad.le))}}async function xu(t,e,n){const r=Re(t),i=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{l.push(r.Pu(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=tg.Ps(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.ls,I=>g.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>Y.forEach(E.hs,I=>g.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!Aa(_))throw _;he(ng,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=g.Ss.get(E),A=I.snapshotVersion,b=I.withLastLimboFreeSnapshotVersion(A);g.Ss=g.Ss.insert(E,b)}}}(r.localStore,a))}async function I2(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(cg,"User change. New user:",e.toKey());const r=await Bx(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(h=>{h.forEach(f=>{f.reject(new fe(J.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Ms)}}function A2(t,e){const n=Re(t),r=n._u.get(e);if(r&&r.tu)return Oe().add(r.key);{let i=Oe();const a=n.iu.get(e);if(!a)return i;for(const l of a){const h=n.ru.get(l);i=i.unionWith(h.view.Wa)}return i}}function sS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E2.bind(null,e),e.nu.Q_=l2.bind(null,e.eventManager),e.nu.Tu=u2.bind(null,e.eventManager),e}function C2(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return RD(this.persistence,new ID,e.initialUser,this.serializer)}Ru(e){return new Ux(eg.Ei,this.serializer)}Au(e){return new OD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class R2 extends Lh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Ux(r=>Vh.Ei(r,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i2}()}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=function(a){return new UD(a)}(e.databaseInfo);return function(a,l,h,f){return new HD(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,h){return new qD(r,i,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>K_(this.syncEngine,n,0),function(){return z_.C()?new z_:new LD}())}createSyncEngine(e,n){return function(i,a,l,h,f,p,g){const _=new p2(i,a,l,h,f,p);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Re(i);he(Gi,"RemoteStore shutting down."),a.aa.add(5),await Tu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class k2{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(Zs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Zs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yp(t,e){t.asyncQueue.verifyOperationInProgress(),he(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b2(t);he(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>H_(e.remoteStore,i)),t._onlineComponents=e}async function b2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Zs,"Using user provided OfflineComponentProvider");try{await yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await yp(t,new Lh)}}else he(Zs,"Using default OfflineComponentProvider"),await yp(t,new R2(void 0));return t._offlineComponents}async function iS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Zs,"Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(he(Zs,"Using default OnlineComponentProvider"),await Y_(t,new am))),t._onlineComponents}function N2(t){return iS(t).then(e=>e.syncEngine)}async function D2(t){const e=await iS(t),n=e.eventManager;return n.onListen=m2.bind(null,e.syncEngine),n.onUnlisten=v2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_2.bind(null,e.syncEngine),n}function V2(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new P2({next:E=>{g.yu(),l.enqueueAndForget(()=>a2(a,_)),E.fromCache&&f.source==="server"?p.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new c2(h,g,{includeMetadataChanges:!0,Fa:!0});return o2(a,_)}(await D2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O2(t,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!_e.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(_e.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Mh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firestore.googleapis.com",ew=!0;class tw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=ew}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lD)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jb;switch(r.type){case"firstParty":return new zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,od("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X_.get(n);r&&(he("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())}(this),Promise.resolve()}}function L2(t,e,n,r={}){var i;t=Mh(t,_d);const a=yu(e),l=t._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==lS&&l.host!==f&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!Hi(p,h)&&(t._setSettings(p),a&&(OT(`https://${f}`),od("Firestore",!0)),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Qt.MOCK_USER;else{g=hk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Qt(E)}t._authCredentials=new Fb(new QT(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Gs extends eo{constructor(e,n,r){super(e,n,px(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new _e(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function dg(t,e,...n){if(t=vn(t),aS("collection","path",e),t instanceof _d){const r=Je.fromString(e,...n);return Z_(r),new Gs(t,null,r)}{if(!(t instanceof Un||t instanceof Gs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Z_(r),new Gs(t.firestore,null,r)}}function M2(t,e,...n){if(t=vn(t),arguments.length===1&&(e=XT.newId()),aS("doc","path",e),t instanceof _d){const r=Je.fromString(e,...n);return J_(r),new Un(t,null,new _e(r))}{if(!(t instanceof Un||t instanceof Gs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return J_(r),new Un(t.firestore,t instanceof Gs?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="AsyncQueue";class rw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $x(this,"async_queue_retry"),this.ju=()=>{const r=gp();r&&he(nw,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new qs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Aa(e))throw e;he(nw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ss("INTERNAL UNHANDLED ERROR: ",sw(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=ag.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Te(47125,{ec:sw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function sw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fg extends _d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function j2(t,e){const n=typeof t=="object"?t:FT(),r=typeof t=="string"?t:Ph,i=zm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=uk("firestore");a&&L2(i,...a)}return i}function uS(t){if(t._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F2(t),t._firestoreClient}function F2(t){var e,n,r;const i=t._freezeSettings(),a=function(h,f,p,g){return new rN(h,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oS(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new k2(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(Bt.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^__.*__$/;class B2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}function cS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:t})}}class vg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(cS(this.oc)&&U2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}dc(e,n,r,i=!1){return new vg({oc:e,methodName:n,Ec:r,path:Ut.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hS(t){const e=t._freezeSettings(),n=md(t._databaseId);return new z2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $2(t,e,n,r,i,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,i);pS("Data must be an object, but it was:",l,r);const h=dS(r,l);let f,p;if(a.merge)f=new ir(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=W2(e,_,n);if(!l.contains(E))throw new fe(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);G2(g,E)||g.push(E)}f=new ir(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new B2(new Fn(h),f,p)}class _g extends mg{_toFieldTransform(e){return new PN(e.path,new tu)}isEqual(e){return e instanceof _g}}function H2(t,e,n,r=!1){return wg(n,t.dc(r?4:3,e))}function wg(t,e){if(fS(t=vn(t)))return pS("Unsupported field value:",e,t),dS(t,e);if(t instanceof mg)return function(r,i){if(!cS(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const h of r){let f=wg(h,i.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:Dh(i.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(i.serializer,a)}}if(r instanceof gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:Nx(i.serializer,r._byteString)};if(r instanceof Un){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yg)return function(l,h){return{mapValue:{fields:{[ix]:{stringValue:ox},[kh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Qm(h.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${vd(r)}`)}(t,e)}function dS(t,e){const n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,i)=>{const a=wg(i,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function fS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof gg||t instanceof ma||t instanceof Un||t instanceof mg||t instanceof yg)}function pS(t,e,n){if(!fS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=vd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function W2(t,e,n){if((e=vn(e))instanceof pg)return e._internalPath;if(typeof e=="string")return mS(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const q2=new RegExp("[~\\*/\\[\\]]");function mS(t,e,n){if(e.search(q2)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new fe(J.INVALID_ARGUMENT,h+t+f)}function G2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K2 extends gS{data(){return super.data()}}function Eg(t,e){return typeof e=="string"?mS(t,e):e instanceof pg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class yS extends Tg{}function vS(t,e,...n){let r=[];e instanceof Tg&&r.push(e),r=r.concat(n),function(a){const l=a.filter(f=>f instanceof Sg).length,h=a.filter(f=>f instanceof xg).length;if(l>1||l>0&&h>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xg extends yS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return wS(e._query,n),new eo(e.firestore,e.converter,Xp(e._query,n))}_parse(e){const n=hS(e.firestore);return function(a,l,h,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ow(_,g);const A=[];for(const b of _)A.push(iw(f,a,b));E={arrayValue:{values:A}}}else E=iw(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ow(_,g),E=H2(h,l,_,g==="in"||g==="not-in");return vt.create(p,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)wS(l,f),l=Xp(l,f)}(e._query,n),new eo(e.firestore,e.converter,Xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends yS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(a,l)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ca(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _S(t,e="asc"){const n=e,r=Eg("orderBy",t);return Ig._create(r,n)}function iw(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!_e.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w_(t,new _e(r))}if(n instanceof Un)return w_(t,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function ow(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(t,e){const n=function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y2{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[kh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>ft(l.doubleValue));return new yg(a)}convertGeoPoint(e){return new gg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);He(jx(r),9688,{name:e});const i=new Jl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return i.isEqual(n)||ss(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J2 extends gS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Eg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ph extends J2{data(e={}){return super.data(e)}}class Z2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(h=>{const f=new ph(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Zc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new ph(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Zc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:eV(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}class tV extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function ES(t){t=Mh(t,eo);const e=Mh(t.firestore,fg),n=uS(e),r=new tV(e);return Q2(t._query),V2(n,t._query).then(i=>new Z2(e,r,t,i))}function nV(t,e){const n=Mh(t.firestore,fg),r=M2(t),i=X2(t.converter,e);return rV(n,[$2(hS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then(()=>r)}function rV(t,e){return function(r,i){const a=new qs;return r.asyncQueue.enqueueAndForget(async()=>w2(await N2(r),i,a)),a.promise}(uS(t),e)}function sV(){return new _g("serverTimestamp")}(function(e,n=!0){(function(i){Sa=i})(xa),la(new Wi("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new fg(new Ub(r.getProvider("auth-internal")),new $b(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Hs(l_,u_,e),Hs(l_,u_,"esm2017")})();var iV="firebase",oV="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(iV,oV,"app");const aV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBze0L961gqmFOliQipCMVd73DiStkhuMw",VITE_FIREBASE_APP_ID:"1:524686425482:web:9b0306f55e28ea1fd29c73",VITE_FIREBASE_AUTH_DOMAIN:"novastradingcompany-cb193.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"524686425482",VITE_FIREBASE_PROJECT_ID:"novastradingcompany-cb193",VITE_FIREBASE_STORAGE_BUCKET:"novastradingcompany-cb193.firebasestorage.app"},lV={apiKey:"AIzaSyBze0L961gqmFOliQipCMVd73DiStkhuMw",authDomain:"novastradingcompany-cb193.firebaseapp.com",projectId:"novastradingcompany-cb193",storageBucket:"novastradingcompany-cb193.firebasestorage.app",messagingSenderId:"524686425482",appId:"1:524686425482:web:9b0306f55e28ea1fd29c73"};console.log("Test ENV Access:",aV);console.log("Firebase Project:","novastradingcompany-cb193");const uV=jT(lV),Ag=j2(uV);function cV(){const[t,e]=U.useState(!1),[n,r]=U.useState(""),i=KE(),a=async l=>{l.preventDefault(),e(!0),r("");const h=l.target.name.value,f=l.target.email.value,p=l.target.message.value;try{await nV(dg(Ag,"guestbook"),{name:h,email:f,message:p,createdAt:sV()}),i("/thankyou");return}catch(g){console.error("Error saving message:",g)}e(!1)};return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-4",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-6 text-center",children:"Guestbook"}),T.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Leave a comment, question, or just say hello! Your feedback keeps Nova sharp."}),n&&T.jsx("div",{className:"bg-green-200 text-green-800 p-4 rounded text-center font-semibold mb-4 shadow",children:n}),T.jsxs("form",{onSubmit:a,className:"bg-white bg-opacity-90 p-6 rounded-xl shadow-xl text-black space-y-4",children:[T.jsx("input",{name:"name",type:"text",placeholder:"Your name",className:"w-full p-2 rounded border border-gray-300 focus:outline-none",required:!0}),T.jsx("input",{name:"email",type:"email",placeholder:"Your email",className:"w-full p-2 rounded border border-gray-300 focus:outline-none",required:!0}),T.jsx("textarea",{name:"message",placeholder:"Your message",className:"w-full p-2 rounded border border-gray-300 h-32 resize-none focus:outline-none",required:!0}),T.jsx("button",{type:"submit",disabled:t,className:"bg-yellow-400 px-4 py-2 rounded font-bold hover:bg-yellow-300 transition disabled:opacity-50",children:t?"Submitting...":"Submit"})]})]}),T.jsx(_n,{})]})}function hV(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/nova-command-center.jpg')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/70 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300>",children:"Disclaimer"}),T.jsx(Z,{to:"/comingsoon",className:"hover:text-yellow-300",children:"Comingsoon"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-4",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-6 text-center",children:"Disclaimer"}),T.jsx("p",{className:"text-gray-300 mb-4",children:"Nova is an artificial intelligence assistant created for educational and informational purposes only. Nova is not a licensed financial advisor, and nothing provided by Nova should be considered personalized investment advice."}),T.jsx("p",{className:"text-gray-300 mb-4",children:"While Nova may provide trade examples, explain strategies, or analyze technical patterns, all content should be treated as general information. Users are solely responsible for their own investment decisions."}),T.jsx("p",{className:"text-gray-300 mb-4",children:"Novas Trading Company and its creators make no guarantees regarding financial outcomes and accept no liability for losses related to the use of this site or its tools. All trading involves risk, and past performance does not guarantee future results."}),T.jsx("p",{className:"text-gray-400 text-sm mt-6 text-center italic",children:"When in doubt, consult a licensed financial professional before making any financial decision."})]}),T.jsx(_n,{})]})}function dV(){return T.jsxs("div",{className:"min-h-screen text-white relative bg-[url('/images/Nova-Office.png')] bg-cover bg-fixed bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-black/30 z-0"}),T.jsx("header",{className:"fixed top-0 left-0 w-full z-20 bg-black/80 p-4 backdrop-blur-md border-b border-yellow-400",children:T.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[T.jsx("h1",{className:"text-yellow-400 font-bold text-2xl text-center",children:"Nova's Trading Company"}),T.jsxs("nav",{className:"space-x-6",children:[T.jsx(Z,{to:"/",className:"hover:text-yellow-300",children:"Home"}),T.jsx(Z,{to:"/chat",className:"hover:text-yellow-300",children:"Chat"}),T.jsx(Z,{to:"/glossary",className:"hover:text-yellow-300",children:"Glossary"}),T.jsx(Z,{to:"/examples",className:"hover:text-yellow-300",children:"Trade Examples"}),T.jsx(Z,{to:"/contact",className:"hover:text-yellow-300",children:"Contact"}),T.jsx(Z,{to:"/about-nova",className:"hover:text-yellow-300",children:"About Nova"}),T.jsx(Z,{to:"/guestbook",className:"hover:text-yellow-300",children:"Guestbook"}),T.jsx(Z,{to:"/disclaimer",className:"hover:text-yellow-300",children:"Disclaimer"})]})]})}),T.jsxs("main",{className:"relative z-10 pt-36 max-w-3xl mx-auto px-4",children:[T.jsx("h2",{className:"text-yellow-400 text-4xl font-bold mb-6 text-center",children:"Coming Soon"}),T.jsx("p",{className:"text-gray-300 mb-4",children:"Members Section"}),T.jsx("p",{className:"text-gray-300 mb-4",children:"Newsletter"}),T.jsx("p",{className:"text-gray-300 mb-4",children:"Trading Strategies"}),T.jsx("p",{className:"text-gray-100 mb-4",children:"Comments Section"})]}),T.jsx(_n,{})]})}function Cg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fV=TS,xS=new vu("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Um("@firebase/auth");function pV(t,...e){Fh.logLevel<=Ve.WARN&&Fh.warn(`Auth (${xa}): ${t}`,...e)}function mh(t,...e){Fh.logLevel<=Ve.ERROR&&Fh.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,...e){throw Pg(t,...e)}function ar(t,...e){return Pg(t,...e)}function Rg(t,e,n){const r=Object.assign(Object.assign({},fV()),{[e]:n});return new vu("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nr(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xS.create(t,...e)}function Ie(t,e,...n){if(!t)throw Pg(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function os(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gV(){return aw()==="http:"||aw()==="https:"}function aw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gV()||yk()||"connection"in navigator)?navigator.onLine:!0}function vV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=pk()||vk()}get(){return yV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EV=new Su(3e4,6e4);function bg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pa(t,e,n,r,i={}){return IS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=_u(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return gk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&yu(t.emulatorConfig.host)&&(p.credentials="include"),SS.fetch()(await AS(t,t.config.apiHost,n,h),p)})}async function IS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_V),e);try{const i=new xV(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw eh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw eh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Rg(t,g,p);Nr(t,g)}}catch(i){if(i instanceof cs)throw i;Nr(t,"network-request-failed",{message:String(i)})}}async function TV(t,e,n,r,i={}){const a=await Pa(t,e,n,r,i);return"mfaPendingCredential"in a&&Nr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`;return wV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class xV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),EV.get())})}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){return Pa(t,"POST","/v1/accounts:delete",e)}async function Uh(t,e){return Pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IV(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=Ng(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Bl(vp(i.auth_time)),issuedAtTime:Bl(vp(i.iat)),expirationTime:Bl(vp(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vp(t){return Number(t)*1e3}function Ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=bT(n);return i?JSON.parse(i):(mh("Failed to decode base64 JWT payload"),null)}catch(i){return mh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lw(t){const e=Ng(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cs&&AV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await su(t,Uh(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?CS(a.providerUserInfo):[],h=PV(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new um(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function RV(t){const e=vn(t);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CS(t){return t.map(e=>{var{providerId:n}=e,r=Cg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){const n=await IS(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await AS(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",SS.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bV(t,e){return Pa(t,"POST","/v2/accounts:revokeToken",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await kV(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new sa;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new um(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IV(this,e)}reload(){return RV(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await su(this,SV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,f,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,I=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,b=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:te,isAnonymous:re,providerData:le,stsTokenManager:D}=n;Ie(F&&D,e,"internal-error");const C=sa.fromJSON(this.name,D);Ie(typeof F=="string",e,"internal-error"),Ls(_,e.name),Ls(E,e.name),Ie(typeof te=="boolean",e,"internal-error"),Ie(typeof re=="boolean",e,"internal-error"),Ls(I,e.name),Ls(A,e.name),Ls(b,e.name),Ls(R,e.name),Ls(L,e.name),Ls(q,e.name);const P=new or({uid:F,auth:e,email:E,emailVerified:te,displayName:_,isAnonymous:re,photoURL:A,phoneNumber:I,tenantId:b,stsTokenManager:C,createdAt:L,lastLoginAt:q});return le&&Array.isArray(le)&&(P.providerData=le.map(V=>Object.assign({},V))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new sa;i.updateFromServerResponse(n);const a=new or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?CS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),h=new sa;h.updateFromIdToken(r);const f=new or({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function Zr(t){os(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RS.type="NONE";const cw=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=gh(this.userKey,i.apiKey,a),this.fullPersistenceKey=gh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(Zr(cw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Zr(cw);const l=gh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const E=await Uh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await or._fromGetAccountInfoResponse(e,E,g)}else _=or._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ia(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ia(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VS(e))return"Blackberry";if(OS(e))return"Webos";if(kS(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PS(t=Zt()){return/firefox\//i.test(t)}function kS(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(t=Zt()){return/crios\//i.test(t)}function NS(t=Zt()){return/iemobile/i.test(t)}function DS(t=Zt()){return/android/i.test(t)}function VS(t=Zt()){return/blackberry/i.test(t)}function OS(t=Zt()){return/webos/i.test(t)}function Dg(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NV(t=Zt()){var e;return Dg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DV(){return _k()&&document.documentMode===10}function LS(t=Zt()){return Dg(t)||DS(t)||OS(t)||VS(t)||/windows phone/i.test(t)||NS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e=[]){let n;switch(t){case"Browser":n=hw(Zt());break;case"Worker":n=`${hw(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e={}){return Pa(t,"GET","/v2/passwordPolicy",bg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=6;class MV{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:LV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new VV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ui(this));const n=e?vn(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OV(this),n=new MV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wd(t){return vn(t)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ck(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FV(t){Vg=t}function UV(t){return Vg.loadJS(t)}function BV(){return Vg.gapiScript}function zV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){const n=zm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Hi(a,e??{}))return i;Nr(i,"already-initialized")}return n.initialize({options:e})}function HV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WV(t,e,n){const r=wd(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=jS(e),{host:l,port:h}=qV(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Hi(p,r.config.emulator)&&Hi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,yu(l)?(od("Auth",!0),OT(`${a}//${l}${f}`)):GV()}function jS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qV(t){const e=jS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:fw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:fw(l)}}}function fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return TV(t,"POST","/v1/accounts:signInWithIdp",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="http://localhost";class Ki extends FS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Cg(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ki(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:KV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Iu{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Iu{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await or._fromIdTokenResponse(e,r,i),l=pw(r);return new ga({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pw(r);return new ga({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends cs{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zh(e,n,r,i)}}function US(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(t,a,e,r):a})}async function QV(t,e,n=!1){const r=await su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const a=await su(t,US(r,i,e,t),n);Ie(a.idToken,r,"internal-error");const l=Ng(a.idToken);Ie(l,r,"internal-error");const{sub:h}=l;return Ie(t.uid===h,r,"user-mismatch"),ga._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e,n=!1){if(sr(t.app))return Promise.reject(Ui(t));const r="signIn",i=await US(t,r,e),a=await ga._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function JV(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function ZV(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function BS(t,e,n,r){return vn(t).onAuthStateChanged(e,n,r)}function zS(t){return vn(t).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1e3,tO=10;class HS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);DV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const nO=HS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WS.type="SESSION";const qS=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await rO(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=Lg("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function iO(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function oO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lO(){return GS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebaseLocalStorageDb",uO=1,Hh="firebaseLocalStorage",QS="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Td(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function cO(){const t=indexedDB.deleteDatabase(KS);return new Au(t).toPromise()}function cm(){const t=indexedDB.open(KS,uO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hh,{keyPath:QS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await cO(),e(await cm()))})})}async function mw(t,e,n){const r=Td(t,!0).put({[QS]:e,value:n});return new Au(r).toPromise()}async function hO(t,e){const n=Td(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function gw(t,e){const n=Td(t,!0).delete(e);return new Au(n).toPromise()}const dO=800,fO=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(lO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new sO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await mw(e,$h,"1"),await gw(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Td(i,!1).getAll();return new Au(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const pO=YS;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){return e?Zr(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends FS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mO(t){return XV(t.auth,new Mg(t),t.bypassAuthState)}function gO(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),YV(n,new Mg(t),t.bypassAuthState)}async function yO(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),QV(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mO;case"linkViaPopup":case"linkViaRedirect":return yO;case"reauthViaPopup":case"reauthViaRedirect":return gO;default:Nr(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Su(2e3,1e4);async function ZS(t,e,n){if(sr(t.app))return Promise.reject(ar(t,"operation-not-supported-in-this-environment"));const r=wd(t);mV(t,e,Og);const i=XS(r,n);return new Li(r,"signInViaPopup",e,i).executeNotNull()}class Li extends JS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vO.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="pendingRedirect",yh=new Map;class wO extends JS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await EO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EO(t,e){const n=SO(e),r=xO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function TO(t,e){yh.set(t._key(),e)}function xO(t){return Zr(t._redirectPersistence)}function SO(t){return gh(_O,t.config.apiKey,t.name)}async function IO(t,e,n=!1){if(sr(t.app))return Promise.reject(Ui(t));const r=wd(t),i=XS(r,e),l=await new wO(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=10*60*1e3;class CO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AO&&this.cachedEventUids.clear(),this.cachedEventUids.has(yw(e))}saveEventToCache(e){this.cachedEventUids.add(yw(e)),this.lastProcessedEventTime=Date.now()}}function yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return Pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bO=/^https?/;async function NO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(DO(n))return}catch{}Nr(t,"unauthorized-domain")}function DO(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!bO.test(n))return!1;if(kO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Su(3e4,6e4);function vw(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OO(t){return new Promise((e,n)=>{var r,i,a;function l(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(ar(t,"network-request-failed"))},timeout:VO.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ar().gapi)===null||a===void 0)&&a.load)l();else{const h=zV("iframefcb");return Ar()[h]=()=>{gapi.load?l():n(ar(t,"network-request-failed"))},UV(`${BV()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw vh=null,e})}let vh=null;function LO(t){return vh=vh||OO(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new Su(5e3,15e3),jO="__/auth/iframe",FO="emulator/auth/iframe",UO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zO(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,FO):`https://${t.config.authDomain}/${jO}`,r={apiKey:e.apiKey,appName:t.name,v:xa},i=BO.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${_u(r).slice(1)}`}async function $O(t){const e=await LO(t),n=Ar().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:zO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ar(t,"network-request-failed"),h=Ar().setTimeout(()=>{a(l)},MO.get());function f(){Ar().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WO=500,qO=600,GO="_blank",KO="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(t,e,n,r=WO,i=qO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},HO),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Zt().toLowerCase();n&&(h=bS(p)?GO:n),PS(p)&&(e=e||KO,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,A])=>`${E}${I}=${A},`,"");if(NV(p)&&h!=="_self")return YO(e||"",h),new _w(null);const _=window.open(e||"",h,g);Ie(_,t,"popup-blocked");try{_.focus()}catch{}return new _w(_)}function YO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="__/auth/handler",JO="emulator/auth/handler",ZO=encodeURIComponent("fac");async function ww(t,e,n,r,i,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(e instanceof Og){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Ak(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Iu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${ZO}=${encodeURIComponent(f)}`:"";return`${eL(t)}?${_u(h).slice(1)}${p}`}function eL({config:t}){return t.emulator?kg(t,JO):`https://${t.authDomain}/${XO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class tL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=IO,this._overrideRedirectResult=TO}async _openPopup(e,n,r,i){var a;os((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await ww(e,n,r,lm(),i);return QO(e,l,Lg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await ww(e,n,r,lm(),i);return iO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(os(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $O(e),r=new CO(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[_p];l!==void 0&&n(!!l),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LS()||kS()||Dg()}}const nL=tL;var Ew="@firebase/auth",Tw="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iL(t){la(new Wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(t)},p=new jV(r,i,a,f);return HV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new Wi("auth-internal",e=>{const n=wd(e.getProvider("auth").getImmediate());return(r=>new rL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(Ew,Tw,sL(t)),Hs(Ew,Tw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=5*60,aL=VT("authIdTokenMaxAge")||oL;let xw=null;const lL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aL)return;const i=n==null?void 0:n.token;xw!==i&&(xw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aa(t=FT()){const e=zm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$V(t,{popupRedirectResolver:nL,persistence:[pO,nO,qS]}),r=VT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=lL(a.toString());ZV(n,l,()=>l(n.currentUser)),JV(n,h=>l(h))}}const i=NT("auth");return i?WV(n,`http://${i}`):od("Auth",!1),n}function uL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ar("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",uL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iL("Browser");const Sw="novastradingcompany@gmail.com";function cL(){const[t,e]=U.useState(null),[n,r]=U.useState([]),[i,a]=U.useState(!0);U.useEffect(()=>{const f=aa(),p=BS(f,g=>{e(g)});return()=>p()},[]),U.useEffect(()=>{(async()=>{if(!t||t.email!==Sw)return;const p=vS(dg(Ag,"guestbook"),_S("createdAt","desc")),_=(await ES(p)).docs.map(E=>({id:E.id,...E.data()}));r(_),a(!1)})()},[t]);const l=async()=>{const f=new xr,p=aa();try{await ZS(p,f)}catch(g){console.error("Sign-in error:",g)}},h=()=>{const f=aa();zS(f)};return t?t.email!==Sw?T.jsx("div",{className:"text-red-400 text-center mt-40 font-bold",children:"Access Denied"}):T.jsxs("div",{className:"min-h-screen bg-black text-white pt-32 px-6",children:[T.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto mb-6",children:[T.jsx("h1",{className:"text-yellow-400 text-4xl font-bold",children:"Guestbook Messages"}),T.jsx("button",{onClick:h,className:"bg-red-500 hover:bg-red-400 text-white font-semibold px-4 py-1 rounded",children:"Sign out"})]}),i?T.jsx("p",{className:"text-center text-gray-400",children:"Loading messages..."}):T.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:n.map(f=>{var p,g;return T.jsxs("div",{className:"bg-white/10 border border-yellow-500 rounded-xl p-4 shadow",children:[T.jsxs("p",{className:"text-yellow-300 font-semibold",children:[f.name," (",f.email,")"]}),T.jsx("p",{className:"text-gray-100 mt-1 whitespace-pre-line",children:f.message}),T.jsx("p",{className:"text-xs text-gray-400 mt-2",children:(g=(p=f.createdAt)==null?void 0:p.toDate)==null?void 0:g.call(p).toLocaleString()})]},f.id)})}),T.jsx(_n,{})]}):T.jsxs("div",{className:"text-white text-center mt-40",children:[T.jsx("p",{children:"Please sign in to view messages."}),T.jsx("button",{onClick:l,className:"mt-4 bg-yellow-400 text-black font-bold px-4 py-2 rounded hover:bg-yellow-300 transition",children:"Sign in with Google"})]})}const tI=U.createContext({});function hL(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const jg=typeof window<"u",dL=jg?U.useLayoutEffect:U.useEffect,Fg=U.createContext(null);function Ug(t,e){t.indexOf(e)===-1&&t.push(e)}function Bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const as=(t,e,n)=>n>e?e:n<t?t:n;let zg=()=>{};const ls={},nI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rI(t){return typeof t=="object"&&t!==null}const sI=t=>/^0[^.\s]+$/u.test(t);function $g(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bn=t=>t,fL=(t,e)=>n=>e(t(n)),Cu=(...t)=>t.reduce(fL),iu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Hg{constructor(){this.subscriptions=[]}add(e){return Ug(this.subscriptions,e),()=>Bg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cr=t=>t*1e3,Rr=t=>t/1e3;function iI(t,e){return e?t*(1e3/e):0}const oI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pL=1e-7,mL=12;function gL(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=oI(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>pL&&++h<mL);return l}function Ru(t,e,n,r){if(t===e&&n===r)return Bn;const i=a=>gL(a,0,1,t,n);return a=>a===0||a===1?a:oI(i(a),e,r)}const aI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lI=t=>e=>1-t(1-e),uI=Ru(.33,1.53,.69,.99),Wg=lI(uI),cI=aI(Wg),hI=t=>(t*=2)<1?.5*Wg(t):.5*(2-Math.pow(2,-10*(t-1))),qg=t=>1-Math.sin(Math.acos(t)),dI=lI(qg),fI=aI(qg),yL=Ru(.42,0,1,1),vL=Ru(0,0,.58,1),pI=Ru(.42,0,.58,1),_L=t=>Array.isArray(t)&&typeof t[0]!="number",mI=t=>Array.isArray(t)&&typeof t[0]=="number",wL={linear:Bn,easeIn:yL,easeInOut:pI,easeOut:vL,circIn:qg,circInOut:fI,circOut:dI,backIn:Wg,backInOut:cI,backOut:uI,anticipate:hI},EL=t=>typeof t=="string",Iw=t=>{if(mI(t)){zg(t.length===4);const[e,n,r,i]=t;return Ru(e,n,r,i)}else if(EL(t))return wL[t];return t},th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Aw={value:null};function TL(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){l.has(_)&&(g.schedule(_),t()),f++,_(h)}const g={schedule:(_,E=!1,I=!1)=>{const b=I&&i?n:r;return E&&l.add(_),b.has(_)||b.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(h=_,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&Aw.value&&Aw.value.frameloop[e].push(f),f=0,n.clear(),i=!1,a&&(a=!1,g.process(_))}};return g}const xL=40;function gI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=th.reduce((F,te)=>(F[te]=TL(a,e?te:void 0),F),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:E,render:I,postRender:A}=l,b=()=>{const F=ls.useManualTiming?i.timestamp:performance.now();n=!1,ls.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,xL),1)),i.timestamp=F,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),g.process(i),_.process(i),E.process(i),I.process(i),A.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},R=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:th.reduce((F,te)=>{const re=l[te];return F[te]=(le,D=!1,C=!1)=>(n||R(),re.schedule(le,D,C)),F},{}),cancel:F=>{for(let te=0;te<th.length;te++)l[th[te]].cancel(F)},state:i,steps:l}}const{schedule:ot,cancel:ei,state:jt,steps:wp}=gI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let _h;function SL(){_h=void 0}const mn={now:()=>(_h===void 0&&mn.set(jt.isProcessing||ls.useManualTiming?jt.timestamp:performance.now()),_h),set:t=>{_h=t,queueMicrotask(SL)}},yI=t=>e=>typeof e=="string"&&e.startsWith(t),Gg=yI("--"),IL=yI("var(--"),Kg=t=>IL(t)?AL.test(t.split("/*")[0].trim()):!1,AL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ka={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ou={...ka,transform:t=>as(0,1,t)},nh={...ka,default:1},zl=t=>Math.round(t*1e5)/1e5,Qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CL(t){return t==null}const RL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yg=(t,e)=>n=>!!(typeof n=="string"&&RL.test(n)&&n.startsWith(t)||e&&!CL(n)&&Object.prototype.hasOwnProperty.call(n,e)),vI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(Qg);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},PL=t=>as(0,255,t),Ep={...ka,transform:t=>Math.round(PL(t))},Mi={test:Yg("rgb","red"),parse:vI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ep.transform(t)+", "+Ep.transform(e)+", "+Ep.transform(n)+", "+zl(ou.transform(r))+")"};function kL(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hm={test:Yg("#"),parse:kL,transform:Mi.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ms=Pu("deg"),Pr=Pu("%"),xe=Pu("px"),bL=Pu("vh"),NL=Pu("vw"),Cw={...Pr,parse:t=>Pr.parse(t)/100,transform:t=>Pr.transform(t*100)},Jo={test:Yg("hsl","hue"),parse:vI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pr.transform(zl(e))+", "+Pr.transform(zl(n))+", "+zl(ou.transform(r))+")"},Kt={test:t=>Mi.test(t)||hm.test(t)||Jo.test(t),parse:t=>Mi.test(t)?Mi.parse(t):Jo.test(t)?Jo.parse(t):hm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mi.transform(t):Jo.transform(t)},DL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Qg))==null?void 0:e.length)||0)+(((n=t.match(DL))==null?void 0:n.length)||0)>0}const _I="number",wI="color",OL="var",LL="var(",Rw="${}",ML=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(ML,f=>(Kt.test(f)?(r.color.push(a),i.push(wI),n.push(Kt.parse(f))):f.startsWith(LL)?(r.var.push(a),i.push(OL),n.push(f)):(r.number.push(a),i.push(_I),n.push(parseFloat(f))),++a,Rw)).split(Rw);return{values:n,split:h,indexes:r,types:i}}function EI(t){return au(t).values}function TI(t){const{split:e,types:n}=au(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===_I?a+=zl(i[l]):h===wI?a+=Kt.transform(i[l]):a+=i[l]}return a}}const jL=t=>typeof t=="number"?0:t;function FL(t){const e=EI(t);return TI(t)(e.map(jL))}const ti={test:VL,parse:EI,createTransformer:TI,getAnimatableNone:FL};function Tp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=Tp(f,h,t+1/3),a=Tp(f,h,t),l=Tp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Wh(t,e){return n=>n>0?e:t}const st=(t,e,n)=>t+(e-t)*n,xp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},BL=[hm,Mi,Jo],zL=t=>BL.find(e=>e.test(t));function Pw(t){const e=zL(t);if(!e)return!1;let n=e.parse(t);return e===Jo&&(n=UL(n)),n}const kw=(t,e)=>{const n=Pw(t),r=Pw(e);if(!n||!r)return Wh(t,e);const i={...n};return a=>(i.red=xp(n.red,r.red,a),i.green=xp(n.green,r.green,a),i.blue=xp(n.blue,r.blue,a),i.alpha=st(n.alpha,r.alpha,a),Mi.transform(i))},dm=new Set(["none","hidden"]);function $L(t,e){return dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HL(t,e){return n=>st(t,e,n)}function Xg(t){return typeof t=="number"?HL:typeof t=="string"?Kg(t)?Wh:Kt.test(t)?kw:GL:Array.isArray(t)?xI:typeof t=="object"?Kt.test(t)?kw:WL:Wh}function xI(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Xg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function WL(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Xg(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function qL(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const GL=(t,e)=>{const n=ti.createTransformer(e),r=au(t),i=au(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dm.has(t)&&!i.values.length||dm.has(e)&&!r.values.length?$L(t,e):Cu(xI(qL(r,i),i.values),n):Wh(t,e)};function SI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):Xg(t)(t,e)}const KL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>ei(e),now:()=>jt.isProcessing?jt.timestamp:mn.now()}},II=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(a/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},qh=2e4;function Jg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qh;)e+=n,r=t.next(e);return e>=qh?1/0:e}function QL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Jg(r),qh);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Rr(i)}}const YL=5;function AI(t,e,n){const r=Math.max(e-YL,0);return iI(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bw=.001;function XL({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,a,l=1-e;l=as(ut.minDamping,ut.maxDamping,l),t=as(ut.minDuration,ut.maxDuration,Rr(t)),l<1?(i=p=>{const g=p*l,_=g*t,E=g-n,I=fm(p,l),A=Math.exp(-_);return bw-E/I*A},a=p=>{const _=p*l*t,E=_*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-_),b=fm(Math.pow(p,2),l);return(-i(p)+bw>0?-1:1)*((E-I)*A)/b}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,f=ZL(i,a,h);if(t=Cr(t),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const JL=12;function ZL(t,e,n){let r=n;for(let i=1;i<JL;i++)r=r-t(r)/e(r);return r}function fm(t,e){return t*Math.sqrt(1-e*e)}const eM=["duration","bounce"],tM=["stiffness","damping","mass"];function Nw(t,e){return e.some(n=>t[n]!==void 0)}function nM(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!Nw(t,tM)&&Nw(t,eM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*as(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ut.mass,stiffness:i,damping:a}}else{const n=XL(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function Gh(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:I}=nM({...n,velocity:-Rr(n.velocity||0)}),A=E||0,b=p/(2*Math.sqrt(f*g)),R=l-a,L=Rr(Math.sqrt(f/g)),q=Math.abs(R)<5;r||(r=q?ut.restSpeed.granular:ut.restSpeed.default),i||(i=q?ut.restDelta.granular:ut.restDelta.default);let F;if(b<1){const re=fm(L,b);F=le=>{const D=Math.exp(-b*L*le);return l-D*((A+b*L*R)/re*Math.sin(re*le)+R*Math.cos(re*le))}}else if(b===1)F=re=>l-Math.exp(-L*re)*(R+(A+L*R)*re);else{const re=L*Math.sqrt(b*b-1);F=le=>{const D=Math.exp(-b*L*le),C=Math.min(re*le,300);return l-D*((A+b*L*R)*Math.sinh(C)+re*R*Math.cosh(C))/re}}const te={calculatedDuration:I&&_||null,next:re=>{const le=F(re);if(I)h.done=re>=_;else{let D=re===0?A:0;b<1&&(D=re===0?Cr(A):AI(F,re,le));const C=Math.abs(D)<=r,P=Math.abs(l-le)<=i;h.done=C&&P}return h.value=h.done?l:le,h},toString:()=>{const re=Math.min(Jg(te),qh),le=II(D=>te.next(re*D).value,re,30);return re+"ms "+le},toTransition:()=>{}};return te}Gh.applyToOptions=t=>{const e=QL(t,100,Gh);return t.ease=e.ease,t.duration=Cr(e.duration),t.type="keyframes",t};function pm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},I=C=>h!==void 0&&C<h||f!==void 0&&C>f,A=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let b=n*e;const R=_+b,L=l===void 0?R:l(R);L!==R&&(b=L-_);const q=C=>-b*Math.exp(-C/r),F=C=>L+q(C),te=C=>{const P=q(C),V=F(C);E.done=Math.abs(P)<=p,E.value=E.done?L:V};let re,le;const D=C=>{I(E.value)&&(re=C,le=Gh({keyframes:[E.value,A(E.value)],velocity:AI(F,C,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!le&&re===void 0&&(P=!0,te(C),D(C)),re!==void 0&&C>=re?le.next(C-re):(!P&&te(C),E)}}}function rM(t,e,n){const r=[],i=n||ls.mix||SI,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Bn:e;h=Cu(f,h)}r.push(h)}return r}function sM(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(zg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=rM(e,r,i),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=iu(t[_],t[_+1],g);return h[_](E)};return n?g=>p(as(t[0],t[a-1],g)):p}function iM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=iu(0,e,r);t.push(st(n,1,i))}}function oM(t){const e=[0];return iM(e,t.length-1),e}function aM(t,e){return t.map(n=>n*e)}function lM(t,e){return t.map(()=>e||pI).splice(0,t.length-1)}function $l({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_L(r)?r.map(Iw):Iw(r),a={done:!1,value:e[0]},l=aM(n&&n.length===e.length?n:oM(e),t),h=sM(l,e,{ease:Array.isArray(i)?i:lM(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const uM=t=>t!==null;function Zg(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(uM),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const cM={decay:pm,inertia:pm,tween:$l,keyframes:$l,spring:Gh};function CI(t){typeof t.type=="string"&&(t.type=cM[t.type])}class ey{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hM=t=>t/100;class ty extends ey{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:a}=this.options;a&&a.updatedAt!==mn.now()&&this.tick(mn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CI(e);const{type:n=$l,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||$l;f!==$l&&typeof h[0]!="number"&&(this.mixKeyframes=Cu(hM,SI(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Jg(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:E,repeatDelay:I,type:A,onUpdate:b,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?L<0:L>i;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let F=this.currentTime,te=r;if(_){const C=Math.min(this.currentTime,i)/h;let P=Math.floor(C),V=C%1;!V&&C>=1&&(V=1),V===1&&P--,P=Math.min(P,_+1),!!(P%2)&&(E==="reverse"?(V=1-V,I&&(V-=I/h)):E==="mirror"&&(te=l)),F=as(0,1,V)*h}const re=q?{done:!1,value:g[0]}:te.next(F);a&&(re.value=a(re.value));let{done:le}=re;!q&&f!==null&&(le=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return D&&A!==pm&&(re.value=Zg(g,this.options,R,this.speed)),b&&b(re.value),D&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Rr(this.calculatedDuration)}get time(){return Rr(this.currentTime)}set time(e){var n;e=Cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=KL,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function dM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ji=t=>t*180/Math.PI,mm=t=>{const e=ji(Math.atan2(t[1],t[0]));return gm(e)},fM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mm,rotateZ:mm,skewX:t=>ji(Math.atan(t[1])),skewY:t=>ji(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gm=t=>(t=t%360,t<0&&(t+=360),t),Dw=mm,Vw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ow=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vw,scaleY:Ow,scale:t=>(Vw(t)+Ow(t))/2,rotateX:t=>gm(ji(Math.atan2(t[6],t[5]))),rotateY:t=>gm(ji(Math.atan2(-t[2],t[0]))),rotateZ:Dw,rotate:Dw,skewX:t=>ji(Math.atan(t[4])),skewY:t=>ji(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ym(t){return t.includes("scale")?1:0}function vm(t,e){if(!t||t==="none")return ym(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=pM,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fM,i=h}if(!i)return ym(e);const a=r[e],l=i[1].split(",").map(gM);return typeof a=="function"?a(l):l[a]}const mM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vm(n,e)};function gM(t){return parseFloat(t.trim())}const ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(ba),Lw=t=>t===ka||t===xe,yM=new Set(["x","y","z"]),vM=ba.filter(t=>!yM.has(t));function _M(t){const e=[];return vM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vm(e,"x"),y:(t,{transform:e})=>vm(e,"y")};Bi.translateX=Bi.x;Bi.translateY=Bi.y;const zi=new Set;let _m=!1,wm=!1,Em=!1;function RI(){if(wm){const t=Array.from(zi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_M(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var h;(h=r.getValue(a))==null||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wm=!1,_m=!1,zi.forEach(t=>t.complete(Em)),zi.clear()}function PI(){zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wm=!0)})}function wM(){Em=!0,PI(),RI(),Em=!1}class ny{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(zi.add(this),_m||(_m=!0,ot.read(PI),ot.resolveKeyframes(RI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}dM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zi.delete(this)}cancel(){this.state==="scheduled"&&(zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EM=t=>t.startsWith("--");function TM(t,e,n){EM(e)?t.style.setProperty(e,n):t.style[e]=n}const xM=$g(()=>window.ScrollTimeline!==void 0),SM={};function IM(t,e){const n=$g(t);return()=>SM[e]??n()}const kI=IM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ol=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function bI(t,e){if(t)return typeof t=="function"?kI()?II(t,e):"ease-out":mI(t)?Ol(t):Array.isArray(t)?t.map(n=>bI(n,e)||Mw.easeOut):Mw[t]}function AM(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const _=bI(h,i);Array.isArray(_)&&(g.easing=_);const E={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(g,E)}function NI(t){return typeof t=="function"&&"applyToOptions"in t}function CM({type:t,...e}){return NI(t)&&kI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RM extends ey{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,zg(typeof e.type!="string");const p=CM(e);this.animation=AM(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Zg(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):TM(n,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Rr(Number(e))}get time(){return Rr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xM()?(this.animation.timeline=e,Bn):n(this)}}const DI={anticipate:hI,backInOut:cI,circInOut:fI};function PM(t){return t in DI}function kM(t){typeof t.ease=="string"&&PM(t.ease)&&(t.ease=DI[t.ease])}const jw=10;class bM extends RM{constructor(e){kM(e),CI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new ty({...l,autoplay:!1}),f=Cr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-jw).value,h.sample(f).value,jw),h.stop()}}const Fw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ti.test(t)||t==="0")&&!t.startsWith("url("));function NM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Fw(i,e),h=Fw(a,e);return!l||!h?!1:NM(t)||(n==="spring"||NI(n))&&r}function VI(t){return rI(t)&&"offsetHeight"in t}const VM=new Set(["opacity","clipPath","filter","transform"]),OM=$g(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LM(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!VI((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return OM()&&n&&VM.has(n)&&(n!=="transform"||!f)&&!h&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const MM=40;class jM extends ey{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:g,..._}){var A;super(),this.stop=()=>{var b,R;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=mn.now();const E={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,..._},I=(g==null?void 0:g.KeyframeResolver)||ny;this.keyframeResolver=new I(h,(b,R,L)=>this.onKeyframesResolved(b,R,E,!L),f,p,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=mn.now(),DM(e,a,l,h)||((ls.instantAnimations||!f)&&(g==null||g(Zg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>MM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!p&&LM(E)?new bM({...E,element:E.motionValue.owner.current}):new ty(E);I.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UM(t){const e=FM.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function OI(t,e,n=1){const[r,i]=UM(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return nI(l)?parseFloat(l):l}return Kg(i)?OI(i,e,n+1):i}function ry(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LI=new Set(["width","height","top","left","right","bottom",...ba]),BM={test:t=>t==="auto",parse:t=>t},MI=t=>e=>e.test(t),jI=[ka,xe,Pr,Ms,NL,bL,BM],Uw=t=>jI.find(MI(t));function zM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sI(t):!0}const $M=new Set(["brightness","contrast","saturate","opacity"]);function HM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qg)||[];if(!r)return t;const i=n.replace(r,"");let a=$M.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const WM=/\b([a-z-]*)\(.*?\)/gu,Tm={...ti,getAnimatableNone:t=>{const e=t.match(WM);return e?e.map(HM).join(" "):t}},Bw={...ka,transform:Math.round},qM={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:nh,scaleX:nh,scaleY:nh,scaleZ:nh,skew:Ms,skewX:Ms,skewY:Ms,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:ou,originX:Cw,originY:Cw,originZ:xe},sy={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...qM,zIndex:Bw,fillOpacity:ou,strokeOpacity:ou,numOctaves:Bw},GM={...sy,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Tm,WebkitFilter:Tm},FI=t=>GM[t];function UI(t,e){let n=FI(t);return n!==Tm&&(n=ti),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KM=new Set(["auto","none","0"]);function QM(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!KM.has(a)&&au(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=UI(n,i)}class YM extends ny{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Kg(p))){const g=OI(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!LI.has(r)||e.length!==2)return;const[i,a]=e,l=Uw(i),h=Uw(a);if(l!==h)if(Lw(l)&&Lw(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Bi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||zM(e[i]))&&r.push(i);r.length&&QM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Bi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function XM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const zw=30,JM=t=>!isNaN(parseFloat(t));class ZM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,h;const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();i&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zw);return iI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ya(t,e){return new ZM(t,e)}const BI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:iy}=gI(queueMicrotask,!1),rr={x:!1,y:!1};function zI(){return rr.x||rr.y}function e4(t){return t==="x"||t==="y"?rr[t]?null:(rr[t]=!0,()=>{rr[t]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}function $I(t,e){const n=XM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $w(t){return!(t.pointerType==="touch"||zI())}function t4(t,e,n={}){const[r,i,a]=$I(t,n),l=h=>{if(!$w(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=_=>{$w(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const HI=(t,e)=>e?t===e?!0:HI(t,e.parentElement):!1,oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r4(t){return n4.has(t.tagName)||t.tabIndex!==-1}const wh=new WeakSet;function Hw(t){return e=>{e.key==="Enter"&&t(e)}}function Sp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hw(()=>{if(wh.has(n))return;Sp(n,"down");const i=Hw(()=>{Sp(n,"up")}),a=()=>Sp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ww(t){return oy(t)&&!zI()}function i4(t,e,n={}){const[r,i,a]=$I(t,n),l=h=>{const f=h.currentTarget;if(!Ww(h))return;wh.add(f);const p=e(f,h),g=(I,A)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),wh.has(f)&&wh.delete(f),Ww(I)&&typeof p=="function"&&p(I,{success:A})},_=I=>{g(I,f===window||f===document||n.useGlobalTarget||HI(f,I.target))},E=I=>{g(I,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",E,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),VI(h)&&(h.addEventListener("focus",p=>s4(p,i)),!r4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function WI(t){return rI(t)&&"ownerSVGElement"in t}function o4(t){return WI(t)&&t.tagName==="svg"}const Jt=t=>!!(t&&t.getVelocity),a4=[...jI,Kt,ti],l4=t=>a4.find(MI(t)),qI=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function u4(t=!0){const e=U.useContext(Fg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=U.useId();U.useEffect(()=>{if(t)return i(a)},[t]);const l=U.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const GI=U.createContext({strict:!1}),qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const t in qw)va[t]={isEnabled:e=>qw[t].some(n=>!!e[n])};function c4(t){for(const e in t)va[e]={...va[e],...t[e]}}const h4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h4.has(t)}let KI=t=>!Kh(t);function d4(t){t&&(KI=e=>e.startsWith("on")?!Kh(e):t(e))}try{d4(require("@emotion/is-prop-valid").default)}catch{}function f4(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(KI(i)||n===!0&&Kh(i)||!e&&!Kh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function p4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const xd=U.createContext({});function Sd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lu(t){return typeof t=="string"||Array.isArray(t)}const ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ly=["initial",...ay];function Id(t){return Sd(t.animate)||ly.some(e=>lu(t[e]))}function QI(t){return!!(Id(t)||t.variants)}function m4(t,e){if(Id(t)){const{initial:n,animate:r}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(r)?r:void 0}}return t.inherit!==!1?e:{}}function g4(t){const{initial:e,animate:n}=m4(t,U.useContext(xd));return U.useMemo(()=>({initial:e,animate:n}),[Gw(e),Gw(n)])}function Gw(t){return Array.isArray(t)?t.join(" "):t}const y4=Symbol.for("motionComponentSymbol");function Zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function v4(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zo(n)&&(n.current=r))},[e])}const uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_4="framerAppearId",YI="data-"+uy(_4),XI=U.createContext({});function w4(t,e,n,r,i){var b,R;const{visualElement:a}=U.useContext(xd),l=U.useContext(GI),h=U.useContext(Fg),f=U.useContext(qI).reducedMotion,p=U.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=U.useContext(XI);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&E4(p.current,n,i,_);const E=U.useRef(!1);U.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const I=n[YI],A=U.useRef(!!I&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,I))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,I)));return dL(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),iy.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),U.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,I)}),A.current=!1))}),g}function E4(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JI(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&Zo(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function JI(t){if(t)return t.options.allowProjection!==!1?t.projection:JI(t.parent)}function T4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&c4(t);function a(h,f){let p;const g={...U.useContext(qI),...h,layoutId:x4(h)},{isStatic:_}=g,E=g4(h),I=r(h,_);if(!_&&jg){S4();const A=I4(g);p=A.MeasureLayout,E.visualElement=w4(i,I,g,e,A.ProjectionNode)}return T.jsxs(xd.Provider,{value:E,children:[p&&E.visualElement?T.jsx(p,{visualElement:E.visualElement,...g}):null,n(i,h,v4(I,E.visualElement,f),I,_,E.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=U.forwardRef(a);return l[y4]=i,l}function x4({layoutId:t}){const e=U.useContext(tI).id;return e&&t!==void 0?e+"-"+t:t}function S4(t,e){U.useContext(GI).strict}function I4(t){const{drag:e,layout:n}=va;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const uu={};function A4(t){for(const e in t)uu[e]=t[e],Gg(e)&&(uu[e].isCSSVariable=!0)}function ZI(t,{layout:e,layoutId:n}){return Na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uu[t]||t==="opacity")}const C4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R4=ba.length;function P4(t,e,n){let r="",i=!0;for(let a=0;a<R4;a++){const l=ba[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=BI(h,sy[l]);if(!f){i=!1;const g=C4[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function cy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(Na.has(f)){l=!0;continue}else if(Gg(f)){i[f]=p;continue}else{const g=BI(p,sy[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=P4(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eA(t,e,n){for(const r in e)!Jt(e[r])&&!ZI(r,n)&&(t[r]=e[r])}function k4({transformTemplate:t},e){return U.useMemo(()=>{const n=hy();return cy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function b4(t,e){const n=t.style||{},r={};return eA(r,n,t),Object.assign(r,k4(t,e)),r}function N4(t,e){const n={},r=b4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const D4={offset:"stroke-dashoffset",array:"stroke-dasharray"},V4={offset:"strokeDashoffset",array:"strokeDasharray"};function O4(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?D4:V4;t[a.offset]=xe.transform(-r);const l=xe.transform(e),h=xe.transform(n);t[a.array]=`${l} ${h}`}function tA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,g){if(cy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&O4(_,i,a,l,!1)}const nA=()=>({...hy(),attrs:{}}),rA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function L4(t,e,n,r){const i=U.useMemo(()=>{const a=nA();return tA(a,e,rA(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};eA(a,t.style,t),i.style={...a,...i.style}}return i}const M4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dy(t){return typeof t!="string"||t.includes("-")?!1:!!(M4.indexOf(t)>-1||/[A-Z]/u.test(t))}function j4(t=!1){return(n,r,i,{latestValues:a},l)=>{const f=(dy(n)?L4:N4)(r,a,l,n),p=f4(r,typeof n=="string",t),g=n!==U.Fragment?{...p,...f,ref:i}:{},{children:_}=r,E=U.useMemo(()=>Jt(_)?_.get():_,[_]);return U.createElement(n,{...g,children:E})}}function Kw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function fy(t,e,n,r){if(typeof e=="function"){const[i,a]=Kw(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Kw(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Eh(t){return Jt(t)?t.get():t}function F4({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:U4(n,r,i,t),renderState:e()}}const sA=t=>(e,n)=>{const r=U.useContext(xd),i=U.useContext(Fg),a=()=>F4(t,e,r,i);return n?a():hL(a)};function U4(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Eh(a[E]);let{initial:l,animate:h}=t;const f=Id(t),p=QI(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Sd(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const A=fy(t,E[I]);if(A){const{transitionEnd:b,transition:R,...L}=A;for(const q in L){let F=L[q];if(Array.isArray(F)){const te=g?F.length-1:0;F=F[te]}F!==null&&(i[q]=F)}for(const q in b)i[q]=b[q]}}}return i}function py(t,e,n){var a;const{style:r}=t,i={};for(const l in r)(Jt(r[l])||e.style&&Jt(e.style[l])||ZI(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const B4={useVisualState:sA({scrapeMotionValuesFromProps:py,createRenderState:hy})};function iA(t,e,n){const r=py(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=ba.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const z4={useVisualState:sA({scrapeMotionValuesFromProps:iA,createRenderState:nA})};function $4(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...dy(r)?z4:B4,preloadedFeatures:t,useRender:j4(i),createVisualElement:e,Component:r};return T4(l)}}function cu(t,e,n){const r=t.getProps();return fy(r,e,n!==void 0?n:r.custom,t)}const xm=t=>Array.isArray(t);function H4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ya(n))}function W4(t){return xm(t)?t[t.length-1]||0:t}function q4(t,e){const n=cu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=W4(a[l]);H4(t,l,h)}}function G4(t){return!!(Jt(t)&&t.add)}function Sm(t,e){const n=t.getValue("willChange");if(G4(n))return n.add(e);if(!n&&ls.WillChange){const r=new ls.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function oA(t){return t.props[YI]}const K4=t=>t!==null;function Q4(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(K4),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Y4={type:"spring",stiffness:500,damping:25,restSpeed:10},X4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J4={type:"keyframes",duration:.8},Z4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ej=(t,{keyframes:e})=>e.length>2?J4:Na.has(t)?t.startsWith("scale")?X4(e[1]):Y4:Z4;function tj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const my=(t,e,n,r={},i,a)=>l=>{const h=ry(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Cr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};tj(h)||Object.assign(g,ej(t,g)),g.duration&&(g.duration=Cr(g.duration)),g.repeatDelay&&(g.repeatDelay=Cr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),(ls.instantAnimations||ls.skipAnimations)&&(_=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=Q4(g.keyframes,h);if(E!==void 0){ot.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new ty(g):new jM(g)};function nj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const _=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||p&&nj(p,g))continue;const I={delay:n,...ry(a||{},g)},A=_.get();if(A!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===A&&!I.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const L=oA(t);if(L){const q=window.MotionHandoffAnimation(L,g,ot);q!==null&&(I.startTime=q,b=!0)}}Sm(t,g),_.start(my(g,_,E,t.shouldReduceMotion&&LI.has(g)?{type:!1}:I,t,b));const R=_.animation;R&&f.push(R)}return l&&Promise.all(f).then(()=>{ot.update(()=>{l&&q4(t,l)})}),f}function Im(t,e,n={}){var f;const r=cu(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(aA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=i;return rj(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[p,g]=h==="beforeChildren"?[a,l]:[l,a];return p().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function rj(t,e,n=0,r=0,i=1,a){const l=[],h=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(sj).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Im(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function sj(t,e){return t.sortNodePosition(e)}function ij(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Im(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Im(t,e,n);else{const i=typeof e=="function"?cu(t,e,n.custom):e;r=Promise.all(aA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function lA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const oj=ly.length;function uA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oj;n++){const r=ly[n],i=t.props[r];(lu(i)||i===!1)&&(e[r]=i)}return e}const aj=[...ay].reverse(),lj=ay.length;function uj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ij(t,n,r)))}function cj(t){let e=uj(t),n=Qw(),r=!0;const i=f=>(p,g)=>{var E;const _=cu(t,g,f==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:I,transitionEnd:A,...b}=_;p={...p,...b,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=uA(t.parent)||{},_=[],E=new Set;let I={},A=1/0;for(let R=0;R<lj;R++){const L=aj[R],q=n[L],F=p[L]!==void 0?p[L]:g[L],te=lu(F),re=L===f?q.isActive:null;re===!1&&(A=R);let le=F===g[L]&&F!==p[L]&&te;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),q.protectedKeys={...I},!q.isActive&&re===null||!F&&!q.prevProp||Sd(F)||typeof F=="boolean")continue;const D=hj(q.prevProp,F);let C=D||L===f&&q.isActive&&!le&&te||R>A&&te,P=!1;const V=Array.isArray(F)?F:[F];let j=V.reduce(i(L),{});re===!1&&(j={});const{prevResolvedValues:z={}}=q,N={...z,...j},Ze=Ce=>{C=!0,E.has(Ce)&&(P=!0,E.delete(Ce)),q.needsAnimating[Ce]=!0;const oe=t.getValue(Ce);oe&&(oe.liveStyle=!1)};for(const Ce in N){const oe=j[Ce],ye=z[Ce];if(I.hasOwnProperty(Ce))continue;let ue=!1;xm(oe)&&xm(ye)?ue=!lA(oe,ye):ue=oe!==ye,ue?oe!=null?Ze(Ce):E.add(Ce):oe!==void 0&&E.has(Ce)?Ze(Ce):q.protectedKeys[Ce]=!0}q.prevProp=F,q.prevResolvedValues=j,q.isActive&&(I={...I,...j}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(le&&D)||P)&&_.push(...V.map(Ce=>({animation:Ce,options:{type:L}})))}if(E.size){const R={};if(typeof p.initial!="boolean"){const L=cu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(R.transition=L.transition)}E.forEach(L=>{const q=t.getBaseTarget(L),F=t.getValue(L);F&&(F.liveStyle=!0),R[L]=q??null}),_.push({animation:R})}let b=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(_):Promise.resolve()}function h(f,p){var _;if(n[f].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var I;return(I=E.animationState)==null?void 0:I.setActive(f,p)}),n[f].isActive=p;const g=l(f);for(const E in n)n[E].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Qw(),r=!0}}}function hj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lA(e,t):!1}function bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qw(){return{animate:bi(!0),whileInView:bi(),whileHover:bi(),whileTap:bi(),whileDrag:bi(),whileFocus:bi(),exit:bi()}}class ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dj extends ni{constructor(e){super(e),e.animationState||(e.animationState=cj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let fj=0;class pj extends ni{constructor(){super(...arguments),this.id=fj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mj={animation:{Feature:dj},exit:{Feature:pj}};function hu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const gj=t=>e=>oy(e)&&t(e,ku(e));function Hl(t,e,n,r){return hu(t,e,gj(n),r)}function cA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function yj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const hA=1e-4,_j=1-hA,wj=1+hA,dA=.01,Ej=0-dA,Tj=0+dA;function sn(t){return t.max-t.min}function xj(t,e,n){return Math.abs(t-e)<=n}function Yw(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_j&&t.scale<=wj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ej&&t.translate<=Tj||isNaN(t.translate))&&(t.translate=0)}function Wl(t,e,n,r){Yw(t.x,e.x,n.x,r?r.originX:void 0),Yw(t.y,e.y,n.y,r?r.originY:void 0)}function Xw(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function Sj(t,e,n){Xw(t.x,e.x,n.x),Xw(t.y,e.y,n.y)}function Jw(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function ql(t,e,n){Jw(t.x,e.x,n.x),Jw(t.y,e.y,n.y)}const Zw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:Zw(),y:Zw()}),eE=()=>({min:0,max:0}),dt=()=>({x:eE(),y:eE()});function jn(t){return[t("x"),t("y")]}function Ip(t){return t===void 0||t===1}function Am({scale:t,scaleX:e,scaleY:n}){return!Ip(t)||!Ip(e)||!Ip(n)}function Di(t){return Am(t)||fA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fA(t){return tE(t.x)||tE(t.y)}function tE(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,i=e*r;return n+i}function nE(t,e,n,r,i){return i!==void 0&&(t=Qh(t,i,r)),Qh(t,n,r)+e}function Cm(t,e=0,n=1,r,i){t.min=nE(t.min,e,n,r,i),t.max=nE(t.max,e,n,r,i)}function pA(t,{x:e,y:n}){Cm(t.x,e.translate,e.scale,e.originPoint),Cm(t.y,n.translate,n.scale,n.originPoint)}const rE=.999999999999,sE=1.0000000000001;function Ij(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&na(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,pA(t,l)),r&&Di(a.latestValues)&&na(t,a.latestValues))}e.x<sE&&e.x>rE&&(e.x=1),e.y<sE&&e.y>rE&&(e.y=1)}function ta(t,e){t.min=t.min+e,t.max=t.max+e}function iE(t,e,n,r,i=.5){const a=st(t.min,t.max,i);Cm(t,e,n,a,r)}function na(t,e){iE(t.x,e.x,e.scaleX,e.scale,e.originX),iE(t.y,e.y,e.scaleY,e.scale,e.originY)}function mA(t,e){return cA(vj(t.getBoundingClientRect(),e))}function Aj(t,e,n){const r=mA(t,n),{scroll:i}=e;return i&&(ta(r.x,i.offset.x),ta(r.y,i.offset.y)),r}const gA=({current:t})=>t?t.ownerDocument.defaultView:null,oE=(t,e)=>Math.abs(t-e);function Cj(t,e){const n=oE(t.x,e.x),r=oE(t.y,e.y);return Math.sqrt(n**2+r**2)}class yA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Cp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=Cj(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:A}=_,{timestamp:b}=jt;this.history.push({...A,timestamp:b});const{onStart:R,onMove:L}=this.handlers;E||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Ap(E,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:A,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Cp(_.type==="pointercancel"?this.lastMoveEventInfo:Ap(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,R),A&&A(_,R)},!oy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=ku(e),h=Ap(l,this.transformPagePoint),{point:f}=h,{timestamp:p}=jt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Cp(h,this.history)),this.removeListeners=Cu(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ei(this.updatePoint)}}function Ap(t,e){return e?{point:e(t.point)}:t}function aE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cp({point:t},e){return{point:t,delta:aE(t,vA(e)),offset:aE(t,Rj(e)),velocity:Pj(e,.1)}}function Rj(t){return t[0]}function vA(t){return t[t.length-1]}function Pj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Cr(e)));)n--;if(!r)return{x:0,y:0};const a=Rr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function kj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function lE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bj(t,{top:e,left:n,bottom:r,right:i}){return{x:lE(t.x,n,i),y:lE(t.y,e,r)}}function uE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Nj(t,e){return{x:uE(t.x,e.x),y:uE(t.y,e.y)}}function Dj(t,e){let n=.5;const r=sn(t),i=sn(e);return i>r?n=iu(e.min,e.max-r,t.min):r>i&&(n=iu(t.min,t.max-i,e.min)),as(0,1,n)}function Vj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rm=.35;function Oj(t=Rm){return t===!1?t=0:t===!0&&(t=Rm),{x:cE(t,"left","right"),y:cE(t,"top","bottom")}}function cE(t,e,n){return{min:hE(t,e),max:hE(t,n)}}function hE(t,e){return typeof t=="number"?t:t[e]||0}const Lj=new WeakMap;class Mj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:I,onDragStart:A}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e4(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(R=>{let L=this.getAxisMotionValue(R).get()||0;if(Pr.test(L)){const{projection:q}=this.visualElement;if(q&&q.layout){const F=q.layout.layoutBox[R];F&&(L=sn(F)*(parseFloat(L)/100))}}this.originPoint[R]=L}),A&&ot.postRender(()=>A(g,_)),Sm(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:A,onDrag:b}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(I&&this.currentDirection===null){this.currentDirection=jj(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),b&&b(g,_)},h=(g,_)=>this.stop(g,_),f=()=>jn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new yA(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:gA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ot.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=kj(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&Zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=bj(r.layoutBox,e):this.constraints=!1,this.elastic=Oj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Vj(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Aj(r,i.root,this.visualElement.getTransformPagePoint());let l=Nj(i.layout.layoutBox,a);if(n){const h=n(yj(l));this.hasMutatedConstraints=!!h,h&&(l=cA(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=jn(g=>{if(!rh(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const E=i?200:1e6,I=i?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sm(this.visualElement,e),r.start(my(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!rh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-st(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=Dj({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(l=>{if(!rh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(st(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;Lj.set(this.visualElement,this);const e=this.visualElement.current,n=Hl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ot.read(r);const l=hu(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Rm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Fj extends ni{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new Mj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const dE=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class Uj extends ni{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new yA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dE(e),onStart:dE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&ot.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Th={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=fE(t,e.target.x),r=fE(t,e.target.y);return`${n}% ${r}%`}},Bj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ti.parse(t);if(i.length>5)return r;const a=ti.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=st(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class zj extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;A4($j),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Th.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _A(t){const[e,n]=u4(),r=U.useContext(tI);return T.jsx(zj,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(XI),isPresent:e,safeToRemove:n})}const $j={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:Bj};function Hj(t,e,n){const r=Jt(t)?t:ya(t);return r.start(my("",r,e,n)),r.animation}const Wj=(t,e)=>t.depth-e.depth;class qj{constructor(){this.children=[],this.isDirty=!1}add(e){Ug(this.children,e),this.isDirty=!0}remove(e){Bg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wj),this.isDirty=!1,this.children.forEach(e)}}function Gj(t,e){const n=mn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ei(r),t(a-e))};return ot.setup(r,!0),()=>ei(r)}const wA=["TopLeft","TopRight","BottomLeft","BottomRight"],Kj=wA.length,pE=t=>typeof t=="string"?parseFloat(t):t,mE=t=>typeof t=="number"||xe.test(t);function Qj(t,e,n,r,i,a){i?(t.opacity=st(0,n.opacity??1,Yj(r)),t.opacityExit=st(e.opacity??1,0,Xj(r))):a&&(t.opacity=st(e.opacity??1,n.opacity??1,r));for(let l=0;l<Kj;l++){const h=`border${wA[l]}Radius`;let f=gE(e,h),p=gE(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||mE(f)===mE(p)?(t[h]=Math.max(st(pE(f),pE(p),r),0),(Pr.test(p)||Pr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function gE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yj=EA(0,.5,dI),Xj=EA(.5,.95,Bn);function EA(t,e,n){return r=>r<t?0:r>e?1:n(iu(t,e,r))}function yE(t,e){t.min=e.min,t.max=e.max}function Mn(t,e){yE(t.x,e.x),yE(t.y,e.y)}function vE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _E(t,e,n,r,i){return t-=e,t=Qh(t,1/n,r),i!==void 0&&(t=Qh(t,1/i,r)),t}function Jj(t,e=0,n=1,r=.5,i,a=t,l=t){if(Pr.test(e)&&(e=parseFloat(e),e=st(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=st(a.min,a.max,r);t===a&&(h-=e),t.min=_E(t.min,e,n,h,i),t.max=_E(t.max,e,n,h,i)}function wE(t,e,[n,r,i],a,l){Jj(t,e[n],e[r],e[i],e.scale,a,l)}const Zj=["x","scaleX","originX"],e3=["y","scaleY","originY"];function EE(t,e,n,r){wE(t.x,e,Zj,n?n.x:void 0,r?r.x:void 0),wE(t.y,e,e3,n?n.y:void 0,r?r.y:void 0)}function TE(t){return t.translate===0&&t.scale===1}function TA(t){return TE(t.x)&&TE(t.y)}function xE(t,e){return t.min===e.min&&t.max===e.max}function t3(t,e){return xE(t.x,e.x)&&xE(t.y,e.y)}function SE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xA(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function IE(t){return sn(t.x)/sn(t.y)}function AE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n3{constructor(){this.members=[]}add(e){Ug(this.members,e),e.scheduleRender()}remove(e){if(Bg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r3(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:I,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),A&&(r+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Rp=["","X","Y","Z"],s3={visibility:"hidden"},i3=1e3;let o3=0;function Pp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SA(r)}function IA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e==null?void 0:e()){this.id=o3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u3),this.nodes.forEach(p3),this.nodes.forEach(m3),this.nodes.forEach(c3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new qj)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hg),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=WI(l)&&!o4(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Gj(_,250),Th.hasAnimatedSinceResize&&(Th.hasAnimatedSinceResize=!1,this.nodes.forEach(RE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||w3,{onLayoutAnimationStart:b,onLayoutAnimationComplete:R}=p.getProps(),L=!this.targetLayout||!xA(this.targetLayout,I),q=!_&&E;if(this.options.layoutRoot||this.resumeFrom||q||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,q);const F={...ry(A,"layout"),onPlay:b,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else _||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CE);return}this.isUpdating||this.nodes.forEach(d3),this.isUpdating=!1,this.nodes.forEach(f3),this.nodes.forEach(a3),this.nodes.forEach(l3),this.clearAllSnapshots();const h=mn.now();jt.delta=as(0,1e3/60,h-jt.timestamp),jt.timestamp=h,jt.isProcessing=!0,wp.update.process(jt),wp.preRender.process(jt),wp.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h3),this.sharedNodes.forEach(y3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!TA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||Di(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),E3(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return dt();const h=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(T3))){const{scroll:g}=this.root;g&&(ta(h.x,g.offset.x),ta(h.y,g.offset.y))}return h}removeElementScroll(l){var f;const h=dt();if(Mn(h,l),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Mn(h,l),ta(h.x,_.offset.x),ta(h.y,_.offset.y))}return h}applyTransform(l,h=!1){const f=dt();Mn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&na(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Di(g.latestValues)&&na(f,g.latestValues)}return Di(this.latestValues)&&na(f,this.latestValues),f}removeTransform(l){const h=dt();Mn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Di(p.latestValues))continue;Am(p.latestValues)&&p.updateSnapshot();const g=dt(),_=p.measurePageBox();Mn(g,_),EE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Di(this.latestValues)&&EE(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),ql(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),pA(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),ql(this.relativeTargetOrigin,this.target,I.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||fA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Mn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;Ij(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=dt());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vE(this.prevProjectionDelta.x,this.projectionDelta.x),vE(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!AE(this.projectionDelta.x,this.prevProjectionDelta.x)||!AE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=dt(),I=f?f.source:void 0,A=this.layout?this.layout.source:void 0,b=I!==A,R=this.getStack(),L=!R||R.members.length<=1,q=!!(b&&!L&&this.options.crossfade===!0&&!this.path.some(_3));this.animationProgress=0;let F;this.mixTargetDelta=te=>{const re=te/1e3;PE(_.x,l.x,re),PE(_.y,l.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ql(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v3(this.relativeTarget,this.relativeTargetOrigin,E,re),F&&t3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=dt()),Mn(F,this.relativeTarget)),b&&(this.animationValues=g,Qj(g,p,this.latestValues,re,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(!1),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(!1),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Th.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ya(0)),this.currentAnimation=Hj(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i3),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&AA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||dt();const _=sn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=sn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Mn(h,f),na(h,g),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new n3),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var h;const{layoutId:l}=this.options;return l?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:l}=this.options;return l?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Pp("z",l,p,this.animationValues);for(let g=0;g<Rp.length;g++)Pp(`rotate${Rp[g]}`,l,p,this.animationValues),Pp(`skew${Rp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return s3;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Eh(l==null?void 0:l.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Eh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Di(this.latestValues)&&(I.transform=f?f({},""):"none",this.hasProjected=!1),I}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=r3(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:_,y:E}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in uu){if(g[I]===void 0)continue;const{correct:A,applyTo:b,isCSSVariable:R}=uu[I],L=h.transform==="none"?g[I]:A(g[I],p);if(b){const q=b.length;for(let F=0;F<q;F++)h[b[F]]=L}else R?this.options.visualElement.renderState.vars[I]=L:h[I]=L}return this.options.layoutId&&(h.pointerEvents=p===this?Eh(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)==null?void 0:h.stop(!1)}),this.root.nodes.forEach(CE),this.root.sharedNodes.clear()}}}function a3(t){t.updateLayout()}function l3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?jn(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],I=sn(E);E.min=r[_].min,E.max=E.min+I}):AA(a,e.layoutBox,r)&&jn(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],I=sn(r[_]);E.max=E.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+I)});const h=ea();Wl(h,r,e.layoutBox);const f=ea();l?Wl(f,t.applyTransform(i,!0),e.measuredBox):Wl(f,r,e.layoutBox);const p=!TA(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const A=dt();ql(A,e.layoutBox,E.layoutBox);const b=dt();ql(b,r,I.layoutBox),xA(A,b)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=A,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function u3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h3(t){t.clearSnapshot()}function CE(t){t.clearMeasurements()}function d3(t){t.isLayoutDirty=!1}function f3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p3(t){t.resolveTargetDelta()}function m3(t){t.calcProjection()}function g3(t){t.resetSkewAndRotation()}function y3(t){t.removeLeadSnapshot()}function PE(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kE(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function v3(t,e,n,r){kE(t.x,e.x,n.x,r),kE(t.y,e.y,n.y,r)}function _3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w3={duration:.45,ease:[.4,0,.1,1]},bE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NE=bE("applewebkit/")&&!bE("chrome/")?Math.round:Bn;function DE(t){t.min=NE(t.min),t.max=NE(t.max)}function E3(t){DE(t.x),DE(t.y)}function AA(t,e,n){return t==="position"||t==="preserve-aspect"&&!xj(IE(e),IE(n),.2)}function T3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const x3=IA({attachResizeListener:(t,e)=>hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},CA=IA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kp.current){const t=new x3({});t.mount(window),t.setOptions({layoutScroll:!0}),kp.current=t}return kp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S3={pan:{Feature:Uj},drag:{Feature:Fj,ProjectionNode:CA,MeasureLayout:_A}};function VE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&ot.postRender(()=>a(e,ku(e)))}class I3 extends ni{mount(){const{current:e}=this.node;e&&(this.unmount=t4(e,(n,r)=>(VE(this.node,r,"Start"),i=>VE(this.node,i,"End"))))}unmount(){}}class A3 extends ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&ot.postRender(()=>a(e,ku(e)))}class C3 extends ni{mount(){const{current:e}=this.node;e&&(this.unmount=i4(e,(n,r)=>(OE(this.node,r,"Start"),(i,{success:a})=>OE(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pm=new WeakMap,bp=new WeakMap,R3=t=>{const e=Pm.get(t.target);e&&e(t)},P3=t=>{t.forEach(R3)};function k3({root:t,...e}){const n=t||document;bp.has(n)||bp.set(n,{});const r=bp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(P3,{root:t,...e})),r[i]}function b3(t,e,n){const r=k3(e);return Pm.set(t,n),r.observe(t),()=>{Pm.delete(t),r.unobserve(t)}}const N3={some:0,all:1};class D3 extends ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:N3[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return b3(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(V3(e,n))&&this.startObserver()}unmount(){}}function V3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O3={inView:{Feature:D3},tap:{Feature:C3},focus:{Feature:A3},hover:{Feature:I3}},L3={layout:{ProjectionNode:CA,MeasureLayout:_A}},km={current:null},RA={current:!1};function M3(){if(RA.current=!0,!!jg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=t.matches;t.addListener(e),e()}else km.current=!1}const j3=new WeakMap;function F3(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,ya(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ya(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ny,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=mn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Id(n),this.isVariantNode=QI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const I=_[E];f[E]!==void 0&&Jt(I)&&I.set(f[E],!1)}}mount(e){this.current=e,j3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RA.current||M3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Na.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in va){const n=va[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LE.length;r++){const i=LE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=F3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ya(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(nI(r)||sI(r))?r=parseFloat(r):!l4(r)&&ti.test(n)&&(r=UI(e,n)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=fy(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class PA extends U3{constructor(){super(...arguments),this.KeyframeResolver=YM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function B3(t){return window.getComputedStyle(t)}class z3 extends PA{constructor(){super(...arguments),this.type="html",this.renderInstance=kA}readValueFromInstance(e,n){var r;if(Na.has(n))return(r=this.projection)!=null&&r.isProjecting?ym(n):mM(e,n);{const i=B3(e),a=(Gg(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mA(e,n)}build(e,n,r){cy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return py(e,n,r)}}const bA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $3(t,e,n,r){kA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(bA.has(i)?i:uy(i),e.attrs[i])}class H3 extends PA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Na.has(n)){const r=FI(n);return r&&r.default||0}return n=bA.has(n)?n:uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iA(e,n,r)}build(e,n,r){tA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){$3(e,n,r,i)}mount(e){this.isSVGTag=rA(e.tagName),super.mount(e)}}const W3=(t,e)=>dy(t)?new H3(e):new z3(e,{allowProjection:t!==U.Fragment}),q3=$4({...mj,...O3,...S3,...L3},W3),G3=p4(q3);function K3(){return T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-white bg-[url('/images/nova-command-center.jpg')] bg-cover bg-center relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 z-0",children:T.jsx("div",{className:"animate-starfield w-full h-full opacity-20"})}),T.jsxs(G3.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"z-10 bg-black/70 p-8 rounded-xl text-center shadow-xl border border-yellow-400",children:[T.jsx("h1",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Thank You!"}),T.jsx("p",{className:"text-gray-200 mb-6",children:"Your message has been received. Nova is reviewing it now."}),T.jsx(Z,{to:"/",className:"bg-yellow-400 text-black font-bold px-4 py-2 rounded hover:bg-yellow-300 transition",children:"Return to Home"})]})]})}const ME="novastradingcompany@gmail.com";function Q3(){const[t,e]=U.useState(null),[n,r]=U.useState([]),[i,a]=U.useState(!0);U.useEffect(()=>{const f=aa(),p=BS(f,g=>{e(g)});return()=>p()},[]),U.useEffect(()=>{(async()=>{if(!t||t.email!==ME)return;const p=vS(dg(Ag,"guestbook"),_S("createdAt","desc")),_=(await ES(p)).docs.map(E=>({id:E.id,...E.data()}));r(_),a(!1)})()},[t]);const l=async()=>{const f=new xr,p=aa();try{await ZS(p,f)}catch(g){console.error("Sign-in error:",g)}},h=()=>{const f=aa();zS(f)};return t?t.email!==ME?T.jsx("div",{className:"text-red-400 text-center mt-40 font-bold",children:"Access Denied"}):T.jsxs("div",{className:"min-h-screen bg-black text-white pt-32 px-6",children:[T.jsxs("div",{className:"flex justify-between items-center max-w-3xl mx-auto mb-6",children:[T.jsx("h1",{className:"text-yellow-400 text-4xl font-bold",children:"Guestbook Messages"}),T.jsx("button",{onClick:h,className:"bg-red-500 hover:bg-red-400 text-white font-semibold px-4 py-1 rounded",children:"Sign out"})]}),i?T.jsx("p",{className:"text-center text-gray-400",children:"Loading messages..."}):T.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:n.map(f=>{var p,g;return T.jsxs("div",{className:"bg-white/10 border border-yellow-500 rounded-xl p-4 shadow",children:[T.jsxs("p",{className:"text-yellow-300 font-semibold",children:[f.name," (",f.email,")"]}),T.jsx("p",{className:"text-gray-100 mt-1 whitespace-pre-line",children:f.message}),T.jsx("p",{className:"text-xs text-gray-400 mt-2",children:(g=(p=f.createdAt)==null?void 0:p.toDate)==null?void 0:g.call(p).toLocaleString()})]},f.id)})}),T.jsx(_n,{})]}):T.jsxs("div",{className:"text-white text-center mt-40",children:[T.jsx("p",{children:"Please sign in to view messages."}),T.jsx("button",{onClick:l,className:"mt-4 bg-yellow-400 text-black font-bold px-4 py-2 rounded hover:bg-yellow-300 transition",children:"Sign in with Google"})]})}function Y3(){return T.jsx(oR,{children:T.jsxs(LC,{children:[T.jsx(Gt,{path:"/",element:T.jsx(gR,{})}),T.jsx(Gt,{path:"/chat",element:T.jsx(GP,{})}),T.jsx(Gt,{path:"/glossary",element:T.jsx(KP,{})}),T.jsx(Gt,{path:"/examples",element:T.jsx(QP,{})}),T.jsx(Gt,{path:"/bear-put-spread",element:T.jsx(YP,{})}),T.jsx(Gt,{path:"/bullcallspread",element:T.jsx(XP,{})}),T.jsx(Gt,{path:"/ironcondor",element:T.jsx(JP,{})}),T.jsx(Gt,{path:"/contact",element:T.jsx(ZP,{})}),T.jsx(Gt,{path:"/about-nova",element:T.jsx(ek,{})}),T.jsx(Gt,{path:"/guestbook",element:T.jsx(cV,{})}),T.jsx(Gt,{path:"/disclaimer",element:T.jsx(hV,{})}),T.jsx(Gt,{path:"/Comingsoon",element:T.jsx(dV,{})}),T.jsx(Gt,{path:"/messages",element:T.jsx(cL,{})}),T.jsx(Gt,{path:"/thankyou",element:T.jsx(K3,{})}),T.jsx(Gt,{path:"/MessagesPage",element:T.jsx(Q3,{})})]})})}W1.createRoot(document.getElementById("root")).render(T.jsx(j1.StrictMode,{children:T.jsx(Y3,{})}));
